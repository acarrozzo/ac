var nxtBundle=function(a){function t(t){for(var e,n,o=t[0],r=t[1],i=0,s=[];i<o.length;i++)n=o[i],u[n]&&s.push(u[n][0]),u[n]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e]);for(c&&c(t);s.length;)s.shift()()}var n={},u={Connext:0};function p(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,p),e.l=!0,e.exports}p.e=function(i){var t,e=[],n=u[i];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(t,e){n=u[i]=[t,e]});e.push(n[2]=o);var r,s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,p.nc&&a.setAttribute("nonce",p.nc),a.src=p.p+""+({SwG:"SwG"}[t=i]||t)+".js",r=function(t){a.onerror=a.onload=null,clearTimeout(c);var e=u[i];if(0!==e){if(e){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,r=new Error("Loading chunk "+i+" failed.\n("+n+": "+o+")");r.type=n,r.request=o,e[1](r)}u[i]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:a})},12e4);a.onerror=a.onload=r,s.appendChild(a)}return Promise.all(e)},p.m=a,p.c=n,p.d=function(t,e,n){p.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)p.d(n,o,function(t){return e[t]}.bind(null,o));return n},p.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return p.d(e,"a",e),e},p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.p="http://localhost:9000/",p.oe=function(t){throw console.error(t),t};var e=window.webpackJsonpnxtBundle=window.webpackJsonpnxtBundle||[],o=e.push.bind(e);e.push=t,e=e.slice();for(var r=0;r<e.length;r++)t(e[r]);var c=o;return p(p.s=266)}([function(t,q,e){(function(K,Y){var z;!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof K&&K.global===K&&K||this||{},e=t._,o=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,r=o.push,c=o.slice,f=s.toString,i=s.hasOwnProperty,n=Array.isArray,a=Object.keys,u=Object.create,p=function(){},h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};void 0===q||q.nodeType?t._=h:(void 0!==Y&&!Y.nodeType&&Y.exports&&(q=Y.exports=h),q._=h),h.VERSION="1.9.2";var d,g=function(r,i,t){if(void 0===i)return r;switch(null==t?3:t){case 1:return function(t){return r.call(i,t)};case 3:return function(t,e,n){return r.call(i,t,e,n)};case 4:return function(t,e,n,o){return r.call(i,t,e,n,o)}}return function(){return r.apply(i,arguments)}},y=function(t,e,n){return h.iteratee!==d?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?g(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)};h.iteratee=d=function(t,e){return y(t,e,1/0)};var v=function(r,i){return i=null==i?r.length-1:+i,function(){for(var t=Math.max(arguments.length-i,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+i];switch(i){case 0:return r.call(this,e);case 1:return r.call(this,arguments[0],e);case 2:return r.call(this,arguments[0],arguments[1],e)}var o=Array(i+1);for(n=0;n<i;n++)o[n]=arguments[n];return o[i]=e,r.apply(this,o)}},m=function(t){if(!h.isObject(t))return{};if(u)return u(t);p.prototype=t;var e=new p;return p.prototype=null,e},_=function(e){return function(t){return null==t?void 0:t[e]}},b=function(t,e){return null!=t&&i.call(t,e)},C=function(t,e){for(var n=e.length,o=0;o<n;o++){if(null==t)return;t=t[e[o]]}return n?t:void 0},w=Math.pow(2,53)-1,A=_("length"),I=function(t){var e=A(t);return"number"==typeof e&&0<=e&&e<=w};h.each=h.forEach=function(t,e,n){var o,r;if(e=g(e,n),I(t))for(o=0,r=t.length;o<r;o++)e(t[o],o,t);else{var i=h.keys(t);for(o=0,r=i.length;o<r;o++)e(t[i[o]],i[o],t)}return t},h.map=h.collect=function(t,e,n){e=y(e,n);for(var o=!I(t)&&h.keys(t),r=(o||t).length,i=Array(r),s=0;s<r;s++){var a=o?o[s]:s;i[s]=e(t[a],a,t)}return i};var S=function(c){return function(t,e,n,o){var r=3<=arguments.length;return function(t,e,n,o){var r=!I(t)&&h.keys(t),i=(r||t).length,s=0<c?0:i-1;for(o||(n=t[r?r[s]:s],s+=c);0<=s&&s<i;s+=c){var a=r?r[s]:s;n=e(n,t[a],a,t)}return n}(t,g(e,o,4),n,r)}};h.reduce=h.foldl=h.inject=S(1),h.reduceRight=h.foldr=S(-1),h.find=h.detect=function(t,e,n){var o=(I(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==o&&-1!==o)return t[o]},h.filter=h.select=function(t,o,e){var r=[];return o=y(o,e),h.each(t,function(t,e,n){o(t,e,n)&&r.push(t)}),r},h.reject=function(t,e,n){return h.filter(t,h.negate(y(e)),n)},h.every=h.all=function(t,e,n){e=y(e,n);for(var o=!I(t)&&h.keys(t),r=(o||t).length,i=0;i<r;i++){var s=o?o[i]:i;if(!e(t[s],s,t))return!1}return!0},h.some=h.any=function(t,e,n){e=y(e,n);for(var o=!I(t)&&h.keys(t),r=(o||t).length,i=0;i<r;i++){var s=o?o[i]:i;if(e(t[s],s,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,o){return I(t)||(t=h.values(t)),("number"!=typeof n||o)&&(n=0),0<=h.indexOf(t,e,n)},h.invoke=v(function(t,n,o){var r,i;return h.isFunction(n)?i=n:h.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),h.map(t,function(t){var e=i;if(!e){if(r&&r.length&&(t=C(t,r)),null==t)return;e=t[n]}return null==e?e:e.apply(t,o)})}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,o,e){var n,r,i=-1/0,s=-1/0;if(null==o||"number"==typeof o&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=I(t)?t:h.values(t)).length;a<c;a++)null!=(n=t[a])&&i<n&&(i=n);else o=y(o,e),h.each(t,function(t,e,n){r=o(t,e,n),(s<r||r===-1/0&&i===-1/0)&&(i=t,s=r)});return i},h.min=function(t,o,e){var n,r,i=1/0,s=1/0;if(null==o||"number"==typeof o&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=I(t)?t:h.values(t)).length;a<c;a++)null!=(n=t[a])&&n<i&&(i=n);else o=y(o,e),h.each(t,function(t,e,n){((r=o(t,e,n))<s||r===1/0&&i===1/0)&&(i=t,s=r)});return i},h.shuffle=function(t){return h.sample(t,1/0)},h.sample=function(t,e,n){if(null==e||n)return I(t)||(t=h.values(t)),t[h.random(t.length-1)];var o=I(t)?h.clone(t):h.values(t),r=A(o);e=Math.max(Math.min(e,r),0);for(var i=r-1,s=0;s<e;s++){var a=h.random(s,i),c=o[s];o[s]=o[a],o[a]=c}return o.slice(0,e)},h.sortBy=function(t,o,e){var r=0;return o=y(o,e),h.pluck(h.map(t,function(t,e,n){return{value:t,index:r++,criteria:o(t,e,n)}}).sort(function(t,e){var n=t.criteria,o=e.criteria;if(n!==o){if(o<n||void 0===n)return 1;if(n<o||void 0===o)return-1}return t.index-e.index}),"value")};var O=function(s,e){return function(o,r,t){var i=e?[[],[]]:{};return r=y(r,t),h.each(o,function(t,e){var n=r(t,e,o);s(i,t,n)}),i}};h.groupBy=O(function(t,e,n){b(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=O(function(t,e,n){t[n]=e}),h.countBy=O(function(t,e,n){b(t,n)?t[n]++:t[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?c.call(t):h.isString(t)?t.match(E):I(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:I(t)?t.length:h.keys(t).length},h.partition=O(function(t,e,n){t[n?0:1].push(e)},!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var P=function(t,e,n,o){for(var r=(o=o||[]).length,i=0,s=A(t);i<s;i++){var a=t[i];if(I(a)&&(h.isArray(a)||h.isArguments(a)))if(e)for(var c=0,u=a.length;c<u;)o[r++]=a[c++];else P(a,e,n,o),r=o.length;else n||(o[r++]=a)}return o};h.flatten=function(t,e){return P(t,e,!1)},h.without=v(function(t,e){return h.difference(t,e)}),h.uniq=h.unique=function(t,e,n,o){h.isBoolean(e)||(o=n,n=e,e=!1),null!=n&&(n=y(n,o));for(var r=[],i=[],s=0,a=A(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?(s&&i===u||r.push(c),i=u):n?h.contains(i,u)||(i.push(u),r.push(c)):h.contains(r,c)||r.push(c)}return r},h.union=v(function(t){return h.uniq(P(t,!0,!0))}),h.intersection=function(t){for(var e=[],n=arguments.length,o=0,r=A(t);o<r;o++){var i=t[o];if(!h.contains(e,i)){var s;for(s=1;s<n&&h.contains(arguments[s],i);s++);s===n&&e.push(i)}}return e},h.difference=v(function(t,e){return e=P(e,!0,!0),h.filter(t,function(t){return!h.contains(e,t)})}),h.unzip=function(t){for(var e=t&&h.max(t,A).length||0,n=Array(e),o=0;o<e;o++)n[o]=h.pluck(t,o);return n},h.zip=v(h.unzip),h.object=function(t,e){for(var n={},o=0,r=A(t);o<r;o++)e?n[t[o]]=e[o]:n[t[o][0]]=t[o][1];return n};var D=function(i){return function(t,e,n){e=y(e,n);for(var o=A(t),r=0<i?0:o-1;0<=r&&r<o;r+=i)if(e(t[r],r,t))return r;return-1}};h.findIndex=D(1),h.findLastIndex=D(-1),h.sortedIndex=function(t,e,n,o){for(var r=(n=y(n,o,1))(e),i=0,s=A(t);i<s;){var a=Math.floor((i+s)/2);n(t[a])<r?i=a+1:s=a}return i};var x=function(i,s,a){return function(t,e,n){var o=0,r=A(t);if("number"==typeof n)0<i?o=0<=n?n:Math.max(n+r,o):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(c.call(t,o,r),h.isNaN))?n+o:-1;for(n=0<i?o:r-1;0<=n&&n<r;n+=i)if(t[n]===e)return n;return-1}};h.indexOf=x(1,h.findIndex,h.sortedIndex),h.lastIndexOf=x(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var o=Math.max(Math.ceil((e-t)/n),0),r=Array(o),i=0;i<o;i++,t+=n)r[i]=t;return r},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],o=0,r=t.length;o<r;)n.push(c.call(t,o,o+=e));return n};var B=function(t,e,n,o,r){if(!(o instanceof e))return t.apply(n,r);var i=m(t.prototype),s=t.apply(i,r);return h.isObject(s)?s:i};h.bind=v(function(e,n,o){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var r=v(function(t){return B(e,r,n,this,o.concat(t))});return r}),h.partial=v(function(r,i){var s=h.partial.placeholder,a=function(){for(var t=0,e=i.length,n=Array(e),o=0;o<e;o++)n[o]=i[o]===s?arguments[t++]:i[o];for(;t<arguments.length;)n.push(arguments[t++]);return B(r,a,this,this,n)};return a}),(h.partial.placeholder=h).bindAll=v(function(t,e){var n=(e=P(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var o=e[n];t[o]=h.bind(t[o],t)}}),h.memoize=function(o,r){var i=function(t){var e=i.cache,n=""+(r?r.apply(this,arguments):t);return b(e,n)||(e[n]=o.apply(this,arguments)),e[n]};return i.cache={},i},h.delay=v(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(n,o,r){var i,s,a,c,u=0;r||(r={});var p=function(){u=!1===r.leading?0:h.now(),i=null,c=n.apply(s,a),i||(s=a=null)},t=function(){var t=h.now();u||!1!==r.leading||(u=t);var e=o-(t-u);return s=this,a=arguments,e<=0||o<e?(i&&(clearTimeout(i),i=null),u=t,c=n.apply(s,a),i||(s=a=null)):i||!1===r.trailing||(i=setTimeout(p,e)),c};return t.cancel=function(){clearTimeout(i),u=0,i=s=a=null},t},h.debounce=function(n,o,r){var i,s,a=function(t,e){i=null,e&&(s=n.apply(t,e))},t=v(function(t){if(i&&clearTimeout(i),r){var e=!i;i=setTimeout(a,o),e&&(s=n.apply(this,t))}else i=h.delay(a,o,this,t);return s});return t.cancel=function(){clearTimeout(i),i=null},t},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var n=arguments,o=n.length-1;return function(){for(var t=o,e=n[o].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=v;var U=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(t,e){var n=R.length,o=t.constructor,r=h.isFunction(o)&&o.prototype||s,i="constructor";for(b(t,i)&&!h.contains(e,i)&&e.push(i);n--;)(i=R[n])in t&&t[i]!==r[i]&&!h.contains(e,i)&&e.push(i)};h.keys=function(t){if(!h.isObject(t))return[];if(a)return a(t);var e=[];for(var n in t)b(t,n)&&e.push(n);return U&&L(t,e),e},h.allKeys=function(t){if(!h.isObject(t))return[];var e=[];for(var n in t)e.push(n);return U&&L(t,e),e},h.values=function(t){for(var e=h.keys(t),n=e.length,o=Array(n),r=0;r<n;r++)o[r]=t[e[r]];return o},h.mapObject=function(t,e,n){e=y(e,n);for(var o=h.keys(t),r=o.length,i={},s=0;s<r;s++){var a=o[s];i[a]=e(t[a],a,t)}return i},h.pairs=function(t){for(var e=h.keys(t),n=e.length,o=Array(n),r=0;r<n;r++)o[r]=[e[r],t[e[r]]];return o},h.invert=function(t){for(var e={},n=h.keys(t),o=0,r=n.length;o<r;o++)e[t[n[o]]]=n[o];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()};var T=function(c,u){return function(t){var e=arguments.length;if(u&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var o=arguments[n],r=c(o),i=r.length,s=0;s<i;s++){var a=r[s];u&&void 0!==t[a]||(t[a]=o[a])}return t}};h.extend=T(h.allKeys),h.extendOwn=h.assign=T(h.keys),h.findKey=function(t,e,n){e=y(e,n);for(var o,r=h.keys(t),i=0,s=r.length;i<s;i++)if(e(t[o=r[i]],o,t))return o};var F,k,V=function(t,e,n){return e in n};h.pick=v(function(t,e){var n={},o=e[0];if(null==t)return n;h.isFunction(o)?(1<e.length&&(o=g(o,e[1])),e=h.allKeys(t)):(o=V,e=P(e,!1,!1),t=Object(t));for(var r=0,i=e.length;r<i;r++){var s=e[r],a=t[s];o(a,s,t)&&(n[s]=a)}return n}),h.omit=v(function(t,n){var e,o=n[0];return h.isFunction(o)?(o=h.negate(o),1<n.length&&(e=n[1])):(n=h.map(P(n,!1,!1),String),o=function(t,e){return!h.contains(n,e)}),h.pick(t,o,e)}),h.defaults=T(h.allKeys,!0),h.create=function(t,e){var n=m(t);return e&&h.extendOwn(n,e),n},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),o=n.length;if(null==t)return!o;for(var r=Object(t),i=0;i<o;i++){var s=n[i];if(e[s]!==r[s]||!(s in r))return!1}return!0},F=function(t,e,n,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&k(t,e,n,o)},k=function(t,e,n,o){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var r=f.call(t);if(r!==f.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var i="[object Array]"===r;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(h.isFunction(s)&&s instanceof s&&h.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}o=o||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return o[c]===e;if(n.push(t),o.push(e),i){if((c=t.length)!==e.length)return!1;for(;c--;)if(!F(t[c],e[c],n,o))return!1}else{var u,p=h.keys(t);if(c=p.length,h.keys(e).length!==c)return!1;for(;c--;)if(u=p[c],!b(e,u)||!F(t[u],e[u],n,o))return!1}return n.pop(),o.pop(),!0},h.isEqual=function(t,e){return F(t,e)},h.isEmpty=function(t){return null==t||(I(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=n||function(t){return"[object Array]"===f.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){h["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return b(t,"callee")});var N=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof N&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return b(t,e);for(var n=e.length,o=0;o<n;o++){var r=e[o];if(null==t||!i.call(t,r))return!1;t=t[r]}return!!n},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return C(t,e)}:_(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?C(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(t,e,n){var o=Array(Math.max(0,t));e=g(e,n,1);for(var r=0;r<t;r++)o[r]=e(r);return o},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=h.invert(M),G=function(e){var n=function(t){return e[t]},t="(?:"+h.keys(e).join("|")+")",o=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,o.test(t)?t.replace(r,n):t}};h.escape=G(M),h.unescape=G(j),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var o=e.length;if(!o)return h.isFunction(n)?n.call(t):n;for(var r=0;r<o;r++){var i=null==t?void 0:t[e[r]];void 0===i&&(i=n,r=o),t=h.isFunction(i)?i.call(t):i}return t};var Z=0;h.uniqueId=function(t){var e=++Z+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+X[t]};h.template=function(i,t,e){!t&&e&&(t=e),t=h.defaults({},t,h.templateSettings);var n,o=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),s=0,a="__p+='";i.replace(o,function(t,e,n,o,r){return a+=i.slice(s,r).replace(H,J),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}var r=function(t){return n.call(this,t,h)},c=t.variable||"obj";return r.source="function("+c+"){\n"+a+"}",r},h.chain=function(t){var e=h(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?h(e).chain():e};h.mixin=function(n){return h.each(h.functions(n),function(t){var e=h[t]=n[t];h.prototype[t]=function(){var t=[this._wrapped];return r.apply(t,arguments),Q(this,e.apply(h,t))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=o[e];h.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],Q(this,t)}}),h.each(["concat","join","slice"],function(t){var e=o[t];h.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},void 0===(z=function(){return h}.apply(q,[]))||(Y.exports=z)}()}).call(this,e(24),e(272)(t))},,function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"f",function(){return u});var o="9999-01-01",r={IgmRegID:"igmRegID",IgmContent:"igmContent",IgmAuth:"igmAuth",NzwRegId:"nzwRegId",NzwToken:"nzwToken",NzwLid:"nzwLid",UserLastUpdateDate:"nxt_userLastUpdateDate",UserDataExpiration:"nxt_AccountDataExpirationCookie",RegistrationWalls:"IsActCr",CookiesPrivacy:"igmck",Auth0AccountId:"auth0_sub",IgmEpref:"igm_epref",AuthLoginData:"nxt_alng",LastVisit:"nxt_last_visit"},i="Sorry, there's a server problem or a problem with the network. ",s={AccessToken:"Connext_AccessToken",ConnextAuthType:"connext_auth_type",ConnextCheckDomainWrite:"nxt_ckck_dmn_wrt",ConnextDomain:"nxt_dmn",ConnextMessagingData:"nxt_msg_dt",ConnextMessagingDataExpire:"nxt_msg_expr",ConnextPaywallFired:"connext_paywallFired",ConnextRootDomain:"nxt_rt_dmn",ConnextTimeRepeatableActions:"nxtact",ConnextUpdateArticleCount:"nxt_upd_ac",ConnextUserData:"connext_user_data",ConnextUserProfile:"connext_user_profile",ConnextUserId:"anonDeviceId",ConnextUserLastUpdateDate:"connext_userLastUpdateDate",ConnextViewStructure:"nxt",ViewsAutoResetLastDate:"nxt_vwsrld",Configuration:"Connext_Configuration",Conversations:{Current:"Connext_CurrentConversations",Previous:"Connext_PreviousConversations",All:"Connext_AllConversations"},CurrentConversationsActions:"Connext_AllConversationsActions",CurrentConversation:"CurrentConversation",CurrentConversationActions:"CurrentConversationActions",CustomZip:"CustomZip",DevicePostfix:"_device",LastPublishDate:"Connext_LastPublishDate",RepeatablesInConv:"repeatablesInConv",RepeatablesInArticle:"repeatablesInArticle",ViewedArticles:"Connext_ViewedArticles",GlobalLocation:"GlobalLocation",AllowUseCode:"nxt_allowUseCode",NeedHidePinTemplate:"NeedHidePinTemplate",PinAttempts:"PinAttempts",ArticleCost:"ArticleCost",StartLoadPlugin:"StartLoadPlugin",UniqueArticles:"uniqueArticles",PublishSettings:"pS",ForceConfigDownload:"nxt_cfg_force",EngagementRate:"Engagement_Rate",IsMakeReRunOnLogin:"IsMakeReRunOnLogin",DebugPanel:{CdpProfile:"CDP_profile",ZipCode:"dbZipCode",ConfigurationIsCustom:"Connext_Configuration_isCustom",ConfigCode:"Connext_Configuration_ConfigCode",SiteCode:"Connext_Configuration_SiteCode",LogLevel:"Connext_Log_Level",DebugPanelOpenState:"Connext_debug_panel_open_state"},DebugMode:"nxt_debug",CookiePrefix:"sub_",LSDublicateCookiePrefix:"Cookie_",AdblockLastDetect:"connext_adblock_last_detect",DebugTraceExpirationDate:"nxt_debug_trace_expiration_date",IsIncognitoBrowsing:"nxt_is_incognito",AnonDeviceIdRegenStats:"anonDeviceIdRegenStats",AutoQA:"nxt_autoQA",DisqusToken:"nxtDisqus",DisqusDemos:"nxtDemos",AbTest:"nxt_ab_test",VisitedView:"visitedView",Loader:{ResoursesUrls:"nxt_ldr_rsrc_rls"}},a={Encryptedeventid:"encryptedeventid",ReturnUrl:"returnurl",FacebookNewsToken:"fb_news_token"},c={ArticleCount:"ac",DeviceArticleCount:"ac_d",StartDate:"s"},u={RepeatAfter:"rpt",Count:"rtpc"}},,function(t,e,n){"use strict";n.r(e),n.d(e,"Expression",function(){return a});var o=n(77),r=n(12),i=n(0),s=n(137),a=function(){function t(){this.NAME="Expression"}return t.prototype.isPassedCriteria=function(t){return Promise.resolve(!0)},t.prototype.check=function(o){var r=this;return new Promise(function(e,n){try{r.startCalculateLog(o),r.isPassedCriteria(o).then(function(t){r.logCriteria(t,o),t?e():n()})}catch(t){r.errorLogCriteria(o,t),n()}})},t.prototype.prepareValueToCompare=function(t){if("number"==typeof t||"boolean"==typeof t)return t;if(Object(i.isString)(t)){if("''"===t)return"";var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("undefined"===e)return;if(-1<e.indexOf(","))return e;var n=parseFloat(t);return"number"==typeof n&&n!=+t?t.toLowerCase():n}return Object(i.isArray)(t)?t.toString().toLowerCase():null===t||"object"!=typeof t&&"function"!=typeof t?t:t.toString().toLowerCase()},t.prototype.setOptions=function(t){this.options=t},t.prototype.evaluateOperator=function(t,e,n){switch(o.Qualifier.getOperator(n)){case r.Operator.Equal:return this.equal(t,e);case r.Operator.NotEqual:return this.notEqual(t,e);case r.Operator.LessThan:return this.lessThan(t,e);case r.Operator.GreaterThan:return this.greaterThan(t,e);case r.Operator.LessThanEqual:return this.lessThanEqual(t,e);case r.Operator.GreaterThanEqual:return this.greaterThanEqual(t,e);case r.Operator.EndWith:return this.endWith(t,e);case r.Operator.StartWith:return this.startWith(t,e);case r.Operator.Contains:return this.contains(t,e);case r.Operator.DoesNotContain:return this.doesNotContain(t,e);case r.Operator.In:return this.in(t,e);case r.Operator.NotIn:return this.notIn(t,e);case r.Operator.Intersect:return this.intersect(t,e);case r.Operator.DoesNotIntersect:return this.doesNotIntersect(t,e);default:return this.equal(t,e)}},t.prototype.equal=function(t,e){return this.prepareValueToCompare(t)==this.prepareValueToCompare(e)},t.prototype.notEqual=function(t,e){return!this.equal(t,e)},t.prototype.lessThan=function(t,e){return t<e},t.prototype.greaterThan=function(t,e){return e<t},t.prototype.lessThanEqual=function(t,e){return t<=e},t.prototype.greaterThanEqual=function(t,e){return e<=t},t.prototype.endWith=function(t,e){if(Object(i.isArray)(t))return e.toLowerCase()==t[t.length-1];if("string"!=typeof t)return!1;var n=t.length-e.length,o=t.toLowerCase().indexOf(e,n);return-1!==o&&o===n},t.prototype.startWith=function(t,e){return Object(i.isArray)(t)?e.toLowerCase()==t[0]:!!Object(i.isString)(t)&&0===t.toLowerCase().indexOf(e.toLowerCase())},t.prototype.contains=function(t,e){return new RegExp(e,"i").test(t)},t.prototype.doesNotContain=function(t,e){return!this.contains(t,e)},t.prototype.in=function(t,e){return this.contains(t,e)},t.prototype.notIn=function(t,e){return!this.in(t,e)},t.prototype.intersect=function(e,t){var n=this;return t.split(",").some(function(t){return n.contains(e,t)})},t.prototype.doesNotIntersect=function(t,e){return!this.intersect(t,e)},t.prototype.logCriteria=function(t,e){s.a.log(e.TypeName,"check","Criteria was "+(t?"":"not")+" passed",e)},t.prototype.errorLogCriteria=function(t,e){s.a.error("Error in calculate",t.TypeName,e)},t.prototype.startCalculateLog=function(t){s.a.log(t.TypeName,"--- Testing ---",t)},t}()},,function(t,e,n){var o,l,r,i,s,a,f,c,u,p,h,d,g;t.exports=(o=o||(l=Math,r=Object.create||function(){function n(){}return function(t){var e;return n.prototype=t,e=new n,n.prototype=null,e}}(),s=(i={}).lib={},a=s.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=s.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,o=this.sigBytes,r=t.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++){var s=n[i>>>2]>>>24-i%4*8&255;e[o+i>>>2]|=s<<24-(o+i)%4*8}else for(var i=0;i<r;i+=4)e[o+i>>>2]=n[i>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=l.ceil(e/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,n=[],o=function(e){var e=e,n=987654321,o=4294967295;return function(){var t=((n=36969*(65535&n)+(n>>16)&o)<<16)+(e=18e3*(65535&e)+(e>>16)&o)&o;return t/=4294967296,(t+=.5)*(.5<l.random()?1:-1)}},r=0;r<t;r+=4){var i=o(4294967296*(e||l.random()));e=987654071*i(),n.push(4294967296*i()|0)}return new f.init(n,t)}}),c=i.enc={},u=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],r=0;r<n;r++){var i=e[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o+=2)n[o>>>3]|=parseInt(t.substr(o,2),16)<<24-o%8*4;return new f.init(n,e/2)}},p=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],r=0;r<n;r++){var i=e[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>2]|=(255&t.charCodeAt(o))<<24-o%4*8;return new f.init(n,e)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},d=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,o=e.sigBytes,r=this.blockSize,i=4*r,s=o/i,a=(s=t?l.ceil(s):l.max((0|s)-this._minBufferSize,0))*r,c=l.min(4*a,o);if(a){for(var u=0;u<a;u+=r)this._doProcessBlock(n,u);var p=n.splice(0,a);e.sigBytes-=c}return new f.init(p,c)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),s.Hasher=d.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new g.HMAC.init(n,e).finalize(t)}}}),g=i.algo={},i),o)},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var o=n(53),r=n(26),i=n(70),s=n(133),a=n(137),c=n(9),u=n(50),p=n(325),l=n(0),f=n(235),h=n(31),d=n(11),g=new(function(){function t(){d.a.on(document,r.h.ChangedUserData,function(t){a.a.log("<<event>>",t)})}return t.prototype.createUser=function(t,e){return o.a.createUser(t,e)},t.prototype.syncUser=function(t,e){return o.a.syncUser(t,e)},t.prototype.setUserData=function(t){this.userData=t},t.prototype.getUserState=function(){return this.fixMg2BrokenData(),this.getMg2UserStateOnly()},t.prototype.fixMg2BrokenData=function(){this.getMg2UserStateOnly()!==r.q.NotLoggedIn&&i.a.hasPartialMg2AuthCookies()&&i.a.setDefaultUserData()},t.prototype.getMg2UserStateOnly=function(){return Object(l.isEmpty)(this.userData)?r.q.NotLoggedIn:this.userData.UserState},t.prototype.getUserMode=function(){if(this.userData){var t=this.userData.CustomerRegistrationId||null;return t?0:(t=this.userData.IgmRegID||null)?1:this.userData.UserId?0:null}},t.prototype.getUserId=function(){return this.userData?this.userData.UserId:""},t.prototype.getCustomerRegistrationId=function(){return this.userData?this.userData.CustomerRegistrationId?this.userData.CustomerRegistrationId:this.userData.IgmRegID?this.userData.IgmRegID:null:null},t.prototype.getUserZipCodes=function(){return this.zipCodes?new String(this.zipCodes).split(","):[s.a.getZipCode()]},t.prototype.getLoginUserZipCodes=function(){return this.isLogin()&&this.userData&&this.userData.ZipCodes?this.userData.ZipCodes:null},t.prototype.setUserZipCodes=function(t){this.zipCodes=t},t.prototype.notLoggedIn=function(){return this.getUserState()==r.q.NotLoggedIn},t.prototype.getOwnedSubscription=function(){return this.userData&&this.userData.Subscriptions?this.userData.Subscriptions[0]:null},t.prototype.getSubscriptions=function(){return this.userData&&this.userData.Subscriptions?this.userData.Subscriptions:null},t.prototype.getEmail=function(){return this.userData&&this.userData.Email||""},t.prototype.getCachedUserData=function(){return o.a.getCachedUserData()},t.prototype.needRefreshUserData=function(t,e){if(void 0===e&&(e=!1),e)return{refresh:!0,reason:r.o.updateEveryPageload};var n=this.getCachedUserData();return n&&n.UserId==t?Object(c.p)("clearUserState")?{refresh:!0,reason:r.o.clearUserStateParam}:Object(c.p)("login_id")&&Object(c.p)("hash")?{refresh:!0,reason:r.o.authSystemParams}:h.a.hasIsActualData()?{refresh:!1,reason:null}:{refresh:!0,reason:r.o.refreshUserDataCookieExpired}:{refresh:!0,reason:r.o.userDataMismatch}},t.prototype.updateCachedUserData=function(t){var e=new f.a(this.getCachedUserData());e.updateAuthProfileData(t),this.updateUserData(e)},t.prototype.updateUserData=function(t){t.UserState=t.UserState||this.defineUserState(t),t.ZipCodes=this.defineZipCodes(t.Subscriptions),this.setUserData(t),this.userData.LoginDate||(this.userData.LoginDate=this.getLastLoginDate()),o.a.saveUserData(t),this.dispatchAccessEvent(t.UserState)},t.prototype.updateUserDataWithoutAccessEvent=function(t){t.UserState=t.UserState||this.defineUserState(t),t.ZipCodes=this.defineZipCodes(t.Subscriptions),this.setUserData(t),this.userData.LoginDate||(this.userData.LoginDate=this.getLastLoginDate()),o.a.saveUserData(t)},t.prototype.dispatchAccessEvent=function(t){var e=u.a.NotAuthorized;switch(t){case r.q.LoggedIn:e=u.a.Authorized;break;case r.q.Subscribed:e=u.a.HasAccess;break;case r.q.SubscribedNotEntitled:e=u.a.HasAccessNotEntitled;break;case r.q.NoActiveSubscription:e=u.a.HasNoActiveSubscription}var n={AuthSystem:this.userData.AuthSystem,AuthProfile:this.getAuthProfile(),MG2AccountData:this.userData};t!=r.q.NotLoggedIn&&null!=t&&p.a.dispatch(u.a.LoggedIn,n),p.a.dispatch(e,n)},t.prototype.getAuthProfile=function(){var t=o.a.getCachedUserData();return t?t.AuthProfile:null},t.prototype.calculateUserState=function(t,e){var n=r.q.NotLoggedIn,o=t&&t.AccessLevel?t.AccessLevel.toUpperCase():"";return t&&Object(l.isEmpty)(t.Errors)?o===r.d.Premium?n=r.q.Subscribed:o===r.d.Upgrade?n=r.q.SubscribedNotEntitled:o===r.d.Purchase?n=r.q.NoActiveSubscription:e&&0!==e.length?e&&0<e.length&&!o&&(n=r.q.LoggedIn,a.a.error("Account with subscriptions, digital access is undefined",t)):n=r.q.LoggedIn:n=r.q.LoggedIn,n},t.prototype.defineUserState=function(t){return this.calculateUserState(t.DigitalAccess,t.Subscriptions)},t.prototype.defineZipCodes=function(t){var e=null;Object(l.isArray)(t)&&0<t.length?e=t.map(function(t){var e=t.BillingAddress;if(e&&e.ZipCode)return e.ZipCode;var n=t.DeliveryAddress;return n&&n.ZipCode?n.ZipCode:null}).filter(function(t){return t}):e=s.a.getZipCode()?[s.a.getZipCode()]:[];return e},t.prototype.getUserData=function(){return this.userData},t.prototype.clearStorage=function(){o.a.clearStorage()},t.prototype.getFullName=function(){return this.userData&&this.isLogin()?this.userData.FullName:""},t.prototype.isSubscribed=function(){return this.getUserState()===r.q.Subscribed},t.prototype.isLogin=function(){return this.getUserState()!==r.q.NotLoggedIn},t.prototype.isSubscribedNotEntitled=function(){return this.getUserState()===r.q.SubscribedNotEntitled},t.prototype.setUserProfile=function(t){o.a.setProfile(t)},t.prototype.getUserProfile=function(){return o.a.getProfile()},t.prototype.expireUserData=function(){o.a.deleteUserDataExpiration()},t.prototype.resetPassword=function(t,e){return o.a.resetPassword(t,e)},t.prototype.getLastLoginDate=function(){return i.a.getLastLoginDate()},t}())},function(t,e,n){"use strict";var o=n(74),a=n(0),c=n(25),s=n(137),r=n(350),i=n(275),u=n(17),p=n(2),l="visitedView",f=new(function(){function t(){}return t.prototype.sendViewsData=function(t,e){return e.contentType="application/json",s.a.log("sendViewsData calling...","views","data",t),r.a.post("views",t,e)},t.prototype.getViewStructure=function(t){void 0===t&&(t=!0);var e=i.a.get(p.e.ConnextViewStructure,{isSecureValue:t});return e?JSON.parse(e):{}},t.prototype.deleteConnextViewStructure=function(){i.a.delete(p.e.ConnextViewStructure)},t.prototype.setViewStructure=function(t,e,n){void 0===n&&(n=!0),e.isSecureValue=n,i.a.set(p.e.ConnextViewStructure,JSON.stringify(t),e)},t.prototype.getViewedArticles=function(){return u.a.get(p.e.ViewedArticles)},t.prototype.setViewedArticles=function(t){u.a.set(p.e.ViewedArticles,t)},t.prototype.deleteViewedArticles=function(){u.a.delete(p.e.ViewedArticles)},t.prototype.setUniqueArticles=function(t){u.a.set(p.e.UniqueArticles,t)},t.prototype.getUniqueArticles=function(){return u.a.get(p.e.UniqueArticles)},t.prototype.setUpdateArticleCount=function(t,e){i.a.set(p.e.ConnextUpdateArticleCount,t,e)},t.prototype.getUpdateArticleCount=function(){return i.a.get(p.e.ConnextUpdateArticleCount)},t.prototype.setLastResetDate=function(t,e){i.a.set(p.e.ViewsAutoResetLastDate,t,e)},t.prototype.getLastResetDate=function(){return i.a.get(p.e.ViewsAutoResetLastDate)},t.prototype.getApiViewData=function(t,e){return s.a.log("getApiViewData calling...","views",t),r.a.get("views",t,e)},t.prototype.serverStorageResetConversationViews=function(t,e){return r.a.get("views/user/delete",t,e)},t.prototype.serverStorageDeleteViewsByUserId=function(t,e){return r.a.get("views/user/delete",t,e)},t.prototype.setRegistrationType=function(t){u.a.set(p.e.ConnextAuthType,t)},t.prototype.getRegistrationType=function(){return u.a.get(p.e.ConnextAuthType)||{}},t.prototype.clear=function(){u.a.clear()},t.prototype.getVisitedView=function(){return u.a.get(l)},t.prototype.setVisitedView=function(t){u.a.set(l,t)},t.prototype.sendViewsDataFromNewDevice=function(t,e){return e.contentType="application/json",s.a.log("sendViewsData from new device calling...",t),r.a.post("views/regenerate",t,e)},t}()),h=function(){function t(){this.uniqueSession=864e5,this.visitedDates=[];var t=o.a.getResetService();if(t&&t.isResetVisitedView()&&this.removeVisits(),this.setCurrentDate(c.a.get()),this.visitedDates=f.getVisitedView()||[],this.visitedDates&&0<this.visitedDates.length){var e=Object(a.last)(this.visitedDates);if(this.isVisitedInCurrentDay(e))return;this.visitedDates.push(this.getCurrentDate())}else this.visitedDates.push(this.getCurrentDate());f.setVisitedView(this.visitedDates)}return t.prototype.setCurrentDate=function(t){this.currentDate=t.valueOf()},t.prototype.getCurrentDate=function(){return this.currentDate},t.prototype.getVisitedViewsByDays=function(t){var e=new Date(this.getCurrentDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-t);var o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59),r=this.getVisitsPeriodOfTime(n.valueOf(),o.valueOf());return r?r.length:0},t.prototype.isVisitedInCurrentDay=function(t){var e=this.getStartOfDate(t),n=this.getStartOfDate(this.getCurrentDate());return n.valueOf()===e.valueOf()||22<=new Date(t).getHours()&&n.valueOf()-e.valueOf()<=this.uniqueSession},t.prototype.getStartOfDate=function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.prototype.getVisitsPeriodOfTime=function(e,n){var o=[];return Object(a.each)(this.visitedDates,function(t){e<=t&&t<=n&&o.push(t)}),o},t.prototype.removeVisits=function(){this.visitedDates=[],f.setVisitedView(this.visitedDates)},t}(),d=n(20),g=n(85),y=n(9),v=n(211),m=n(77),_=n(12),b=function(){function t(t){var n=this;this.UnlimitedArticlesString="unlimited",this.paywalls=[],this.paywalls=t,this.paywallsView={conversation:[],meter:[]},Object(a.each)(this.paywalls,function(t,e){n.getViews(t)})}return t.prototype.getInformation=function(){var t=this.getMinViewType();return{ArticleLeft:this.replaceInfinity(this.getBeforeView()),Limit:this.replaceInfinity(this.getLimitview()),MinView:t}},t.prototype.getInforamtionForShownPaywalls=function(){return Object(y.A)(this.getInformation(),this.UnlimitedArticlesString,0)},t.prototype.getBeforeView=function(){return{Conversation:this.leftBeforePaywall(this.paywallsView.conversation,k.getCurrentConversationViewCount()),Meter:this.leftBeforePaywall(this.paywallsView.meter,k.getCurrentDynamicMeterViewCount())}},t.prototype.getLimitview=function(){return{Conversation:Object(a.min)(this.paywallsView.conversation),Meter:Object(a.min)(this.paywallsView.meter)}},t.prototype.getMinViewType=function(){var t=this.getBeforeView();return isFinite(t.Conversation)?isFinite(t.Meter)?t.Conversation>t.Meter?v.g.Conversation:v.g.Meter:v.g.Conversation:v.g.Meter},t.prototype.replaceInfinity=function(n){var o=this;return Object(a.each)(n,function(t,e){isFinite(t)||(n[e]=o.UnlimitedArticlesString)}),n},t.prototype.leftBeforePaywall=function(t,e){var n,o=Object(a.min)(t);return isFinite(o)?(n=o-e)<0?0:n:o},t.prototype.getViews=function(t){var e=this.getConversationViewCriterias(t),n=this.getMeterViewCriterias(t),o=this.getConversationViews(t),r=this.getMeterViews(t);"object"==typeof o||isFinite(o)||!e.length&&(e.length||n.length)||(o=0),"object"==typeof r||isFinite(r)||!n.length&&(n.length||e.length)||(r=0),this.paywallsView.conversation.push(o),this.paywallsView.meter.push(r)},t.prototype.getConversationViews=function(t){return this.getCriteriaViews(this.getConversationViewCriterias(t))},t.prototype.getMeterViews=function(t){return this.getCriteriaViews(this.getMeterViewCriterias(t))},t.prototype.getCriteriaViews=function(t){var r=[];return Object(a.each)(t,function(t,e){var n,o=parseInt(t.Value,10);switch(m.Qualifier.getOperator(t.Qualifier)){case _.Operator.Equal:case _.Operator.GreaterThanEqual:n=o;break;case _.Operator.GreaterThan:n=o+1}r.push(n)}),Object(a.min)(r)},t.prototype.getConversationViewCriterias=function(t){return Object(a.where)(t.Who,{TypeName:g.CriteriaTypes.ConversationView})},t.prototype.getMeterViewCriterias=function(t){return Object(a.where)(t.Who,{TypeName:g.CriteriaTypes.MeterView})},t}(),C=n(44),w=n(7),A=n(331),I=n(325),S=n(50),O=n(326),E=n(339),P=n(26),D=n(303),x=n(10),B=n(66),U=n.n(B),R=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),this.viewCount=t.ViewCount||e[P.r.ArticleCount]||0,this.deviceViewCount=t.DeviceViewCount||e[P.r.DeviceArticleCount]||0,this.startDate=t.StartDate||(e[P.r.StartDate]?new Date(e[P.r.StartDate]):void 0),this.actions=t.Actions,this.id=t.Id||n}return t.prototype.renderCookieObject=function(){var t={};return t[P.r.ArticleCount]=this.viewCount,t[P.r.DeviceArticleCount]=this.deviceViewCount,t[P.r.StartDate]=this.startDate,t},t.prototype.increment=function(){this.viewCount++,this.deviceViewCount++},t.prototype.setStartDate=function(t){this.startDate=t},t.prototype.getStartDate=function(){return this.startDate},t.prototype.getViewCount=function(){return this.viewCount},t.prototype.setViewCount=function(t){this.viewCount=t},t.prototype.reset=function(){this.viewCount=0,this.deviceViewCount=0},t}(),L=function(){function t(t,e,n){void 0===n&&(n=null),this.conversations=[],this.conversationsViews=[],this.actionData={};var o=n&&n[t]?n[t]:{};if(this.meterLevel=t,this.conversations=e.Conversations||[],this.activeConversationId=e.ActiveConversationId||o[P.r.ActiveConvoId]||-1,this.articleCount=e.ArticleCount||o[P.r.MeterView]||0,this.deviceArticleCount=e.DeviceArticleCount||o[P.r.DeviceMeterView]||0,this.conversations.length)this.conversationsViews=this.generateConversationsView();else for(var r in o)r==P.r.ActiveConvoId||r==P.r.MeterView||r==P.r.DeviceMeterView||isNaN(+r)||this.conversationsViews.push(new R({},o[r],+r))}return t.prototype.generateConversationsView=function(){var e=[];return Object(a.each)(this.conversations,function(t){e.push(new R(t))}),e},t.prototype.renderCookieObject=function(){var t={};return t[P.r.DeviceMeterView]=this.deviceArticleCount,t[P.r.MeterView]=this.articleCount,t[P.r.ActiveConvoId]=this.activeConversationId,Object(a.extendOwn)(t,this.renderConversationsViewCookie()),t},t.prototype.renderConversationsViewCookie=function(){var e={};return this.actionData={},Object(a.each)(this.conversationsViews,function(t){e[t.id]=t.renderCookieObject()}),e},t.prototype.getActionRepeatableCookie=function(){return this.actionData},t.prototype.increment=function(){var t=this.getIncrementValue();this.articleCount+=t,this.deviceArticleCount+=t,this.activeConversationView.increment()},t.prototype.getIncrementValue=function(){return-1==this.activeConversationView.id?0:1},t.prototype.updateStartDate=function(t){this.activeConversationView.setStartDate(t)},t.prototype.getViewData=function(){var e=this,n=[];Object(a.each)(this.conversationsViews,function(t){n.push({StartDate:t.startDate,ViewCount:t.viewCount,DeviceViewCount:t.deviceViewCount,Actions:e.actionData,Id:t.id})});var t={};return t[P.i[this.meterLevel]]={ActiveConversationId:this.activeConversationId,ArticleCount:this.articleCount,Conversations:n,DeviceArticleCount:this.deviceArticleCount},t},t.prototype.linkDevicesView=function(n){var o=0;Object(a.each)(this.conversationsViews,function(t){if(n[t.conversationId]){var e=t.viewCount-t.deviceViewCount+n[t.conversationId][P.r.DeviceArticleCount];t.viewCount=0<e?e:t.viewCount,o+=t.viewCount}}),this.articleCount=o},t.prototype.resetConversationView=function(e){var t=Object(a.find)(this.conversationsViews,function(t){return t.id==e.Id});t&&(this.articleCount=this.articleCount-t.viewCount,this.articleCount=this.articleCount<0?0:this.articleCount,this.deviceArticleCount=this.deviceArticleCount-t.deviceViewCount,t.reset())},t.prototype.reset=function(){this.articleCount=0,this.deviceArticleCount=0,Object(a.each)(this.conversationsViews,function(t){t.reset()})},t.prototype.resetConversationsStartDate=function(){Object(a.each)(this.conversationsViews,function(t){t.setStartDate(null)})},t.prototype.getConversationStartDate=function(){if(this.activeConversationView)return this.activeConversationView.getStartDate()},t.prototype.getCurrentConversationViewCount=function(){return this.activeConversationView?this.activeConversationView.getViewCount():0},t.prototype.setCurrentConversationViewCount=function(t){this.activeConversationView.setViewCount(t)},t.prototype.setActiveConversation=function(t){var e=this;this.activeConversationId=t?t.Id:-1;var n=Object(a.find)(this.conversationsViews,function(t){return t.id==e.activeConversationId});if(n)this.activeConversationView=n,this.activeConversationView.setStartDate(t.Properties&&t.Properties.getStartDate&&t.Properties.getStartDate()||c.a.get());else{var o={Actions:null,DeviceViewCount:0,Id:this.activeConversationId,StartDate:c.a.get(),ViewCount:0,Conversation:t};this.activeConversationView=new R(o),this.conversationsViews.push(this.activeConversationView)}},t}(),T=n(56),F=function(){function t(){}return t.prototype.createViews=function(){try{var t=f.getViewStructure();return Object(a.isEmpty)(t)?this.getApiView(t):Promise.resolve(this.createCookiesViews(t))}catch(t){s.a.log("ViewData","create",t)}},t.prototype.createEmptyView=function(){return new L(-1,{})},t.prototype.createViewsFromApi=function(o){var r={},i=[];try{return o.CodelistSet&&T.a.setAccessByCode(o.CodelistSet),Object(a.isEmpty)(o.DynamicMeterViews)||Object(a.each)(Object(a.keys)(o.DynamicMeterViews),function(t){if(o.DynamicMeterViews[t]){var e=P.i[t],n=new L(e,o.DynamicMeterViews[t]);i.push(n),Object(a.extendOwn)(r,n.getActionRepeatableCookie())}}),this.setTimeRepeatableActions(r),this.setLastResetDate(o.LastResetDate),Promise.resolve(i)}catch(t){return s.a.log("ViewData","createViewsFromApi",t),i.push(this.createEmptyView()),Promise.resolve(i)}},t.prototype.createCookiesViews=function(r){var i=this,s=[];return Object(a.isEmpty)(r)?[]:(Object(a.each)(Object(a.keys)(r),function(t){var e=r[t];if(e){var n={ActiveConversationId:e[P.r.ActiveConvoId]||null,ArticleCount:e[P.r.MeterView],DeviceArticleCount:e[P.r.DeviceMeterView],Conversations:i.getConversationsFromCookie(e)},o=new L(t,n);s.push(o)}}),s)},t.prototype.getConversationsFromCookie=function(n){var o=[];return Object(a.each)(Object(a.keys)(n),function(t){var e=n[t];Object(a.isNumber)(-t)&&Object(a.isObject)(e)&&o.push({DeviceViewCount:e[P.r.DeviceArticleCount],ViewCount:e[P.r.ArticleCount],StartDate:e[P.r.StartDate],Id:t})}),o},t.prototype.getApiView=function(e){var n=this;return this.getApiViewData().then(function(t){return t?n.createViewsFromApi(t):Promise.resolve(n.createCookiesViews(e))}).catch(function(t){return s.a.error(t),Promise.resolve([])})},t.prototype.getApiViewData=function(){var t=k.getCommonDataToSave();return f.getApiViewData(t,{location:E.a.System})},t.prototype.updateDevicesViewData=function(t){var e=f.getViewStructure();Object(a.each)(t,function(t){e[t.meterLevel]&&t.linkDevicesView(e[t.meterLevel])})},t.prototype.setTimeRepeatableActions=function(t){Object(a.keys)(t).length&&x.ActionModule.setTimeRepeatableActions(t)},t.prototype.setLastResetDate=function(t){t&&f.setLastResetDate(t,{expires:new Date(P.g)})},t}();n.d(e,"a",function(){return k});var k=new(function(){function t(){this.NAME="View",this.meterViews=[],this.isHaveRequestForSaveView=!1}return t.prototype.setViewData=function(){var e=this,t=new F;return this.visitedView=new h,t.createViews().then(function(t){return e.meterViews=t,e.setViewStructureIfEmpty(),Promise.resolve(!0)}).catch(function(t){return s.a.error("Cannot create Views",t),Promise.reject(t)})},t.prototype.getVisitedViewsByDays=function(t){return this.visitedView.getVisitedViewsByDays(t)},t.prototype.incrementConversationCount=function(t){this.setUpdateArticleCountCookie(),this.setCurrentConversation(t),this.updateViewedArticles(t)},t.prototype.saveViewInformation=function(){if(!T.a.isHaveAccessByCode()){var t=this.getCurrentConversationViewCount(),e=this.getCurrentDynamicMeterViewCount();this.saveViewStructure();var n=C.a.get(A.a.BatchCount),o=d.Campaign.checkFakeCurrentConversation();return 1==n||1<t&&t%n==0||1<e&&e%n==0&&!o||this.isHaveRequestForSaveView?this.sendViewData():void 0}},t.prototype.setActiveMeterView=function(e){this.resetMeterViewIfNeed(),this.activeMeterView=Object(a.find)(this.meterViews,function(t){return t.meterLevel==e}),this.activeMeterView||(this.activeMeterView=new L(e,{},f.getViewStructure()),this.meterViews.push(this.activeMeterView))},t.prototype.getViewPaywallInformation=function(t){return new b(t).getInformation()},t.prototype.getViewedArticles=function(t){var e=f.getViewedArticles();return e?e[t]:null},t.prototype.getCurrentConversationViewCount=function(){return this.activeMeterView?this.activeMeterView.getCurrentConversationViewCount():0},t.prototype.setCurrentConversationViewCount=function(t){this.activeMeterView.setCurrentConversationViewCount(t);var e=0;Object(a.each)(this.meterViews,function(t){Object(a.each)(t.conversationsViews,function(t){e+=t.viewCount})}),this.setCurrentDynamicMeterViewCount(e)},t.prototype.getConversationStartDate=function(t){return t?this.getConversationStartDateById(t):this.activeMeterView.getConversationStartDate()},t.prototype.getConversationStartDateById=function(e){var n;return Object(a.each)(this.meterViews,function(t){return t.conversationsViews.forEach(function(t){t.id==e&&(n=t.getStartDate())})}),n},t.prototype.getActiveConversationId=function(){return this.activeMeterView.activeConversationId},t.prototype.getUniqueArticles=function(){return f.getUniqueArticles()},t.prototype.setUniqueArticles=function(t){f.setUniqueArticles(t)},t.prototype.getCurrentDynamicMeterViewCount=function(){return this.activeMeterView?this.activeMeterView.articleCount:0},t.prototype.setCurrentDynamicMeterViewCount=function(t){this.activeMeterView.articleCount=t},t.prototype.resetViews=function(){this.meterViews=[],this.sendViewData()},t.prototype.resetStorage=function(){this.meterViews=[],f.deleteConnextViewStructure(),f.deleteViewedArticles(),x.ActionModule.resetConversationRepeatableActions()},t.prototype.resetArticleViews=function(){var t=f.getViewStructure();for(var e in this.resetStorage(),t){var n={};n[P.r.ActiveConvoId]=t[e][P.r.ActiveConvoId],t[e]=n}f.setViewStructure(t,{expires:new Date(P.g)}),d.Campaign.setStartDateToCurrentConversation(c.a.get())},t.prototype.resetCurrentCovrsations=function(){var t=f.getViewStructure();if(t){for(var e in t){var n=t[e];if(n){var o=n[P.r.ActiveConvoId];n[o]&&(x.ActionModule.resetConversationRepeatableActions(new D.a({Id:o})),delete n[P.r.ActiveConvoId])}}f.setViewStructure(t,{expires:new Date(P.g)})}},t.prototype.resetConversationView=function(t){this.activeMeterView.resetConversationView(t),this.setViewedArticles([],t.Id),x.ActionModule.resetConversationRepeatableActions(t),this.serverResetConversationViews({location:"System",payload:Object(a.extendOwn)(this.getCommonDataToSave(),{conversationId:t.Id})})},t.prototype.resetMeterLevel=function(){var n=this,o=d.Campaign.getCurrentConversations();Object(a.each)(this.activeMeterView.conversationsViews,function(e){var t=Object(a.find)(o,function(t){return t.Id==e.id});t&&n.resetConversationView(t)}),this.activeMeterView.reset()},t.prototype.processAutoResetSettings=function(t){if(!Object(a.isNumber)(t.ResetFrequency)||!Object(a.isNumber)(t.ResetOnDay))throw new Error("processAutoResetSettings: invalid arguments passed");for(var e=c.a.get(),n=f.getLastResetDate()?new Date(f.getLastResetDate()):new Date(t.ResetsStartDate),o=12-t.ResetFrequency;0<=o;o-=t.ResetFrequency){var r=new Date(e.getFullYear(),o+1,0).getDate(),i=t.ResetOnDay>r?r:t.ResetOnDay,s=new Date(e.getFullYear(),o,i);if(n<s&&s<e){this.resetArticleViews(),f.setLastResetDate(c.a.get().toISOString(),{expires:new Date(P.g)}),I.a.dispatch(S.a.ViewsAutoReset,t);break}}},t.prototype.resetMeterViewIfNeed=function(){var t=o.a.getConfigurationSettings(),e=t?t.ViewsAutoResetSettings:null;e&&k.processAutoResetSettings(e);var n=o.a.getResetService();n&&n.isResetCurrentConversation()&&this.resetViews()},t.prototype.getCommonDataToSave=function(){var t={UserId:O.a.get(A.a.DeviceId),ConfigCode:C.a.get(A.a.ConfigCode),SiteCode:C.a.get(A.a.SiteCode)};return C.a.get(A.a.SettingsKey)&&(t.SettingsKey=C.a.get(A.a.SettingsKey)),t},t.prototype.incrementView=function(t){this.activeMeterView.updateStartDate(t.Properties.getStartDate()),this.activeMeterView.increment()},t.prototype.getLocalViewData=function(){var e="getLocalViewData";s.a.log(this.NAME,e,"Get local view data");try{var n={};this.meterViews.forEach(function(t){n=-1!==t.meterLevel?Object(a.extend)(n,t.getViewData()):n});var t={CodelistSet:T.a.getSavedAccessCode(),DynamicMeterViews:n,LastResetDate:f.getLastResetDate()};return s.a.log(this.NAME,e,"Local view data is found",JSON.stringify(t)),Promise.resolve(t)}catch(t){return s.a.log(this.NAME,e,t),Promise.resolve({})}},t.prototype.setViewedArticles=function(t,e){var n=f.getViewedArticles();null==n&&(n={}),n[e]=t,f.setViewedArticles(n)},t.prototype.updateViewedArticles=function(t){try{var e=this.getViewedArticles(t.Id),n=this.getArticleId();null==e&&(e=[]),-1<e.indexOf(n)?!f.getUniqueArticles()&&C.a.getDebugMode()&&this.incrementView(t):(e.push(n),this.incrementView(t),this.setViewedArticles(e,t.Id))}catch(t){s.a.log(this.NAME,"UpdateViewedArticles",t)}},t.prototype.serverResetConversationViews=function(t){return t&&t.payload&&(t.payload.configCode&&(t.payload.configCode=t.payload.configCode),t.payload.siteCode&&(t.payload.siteCode=t.payload.siteCode),t.payload.settingsKey&&(t.payload.settingsKey=t.payload.settingsKey)),f.serverStorageResetConversationViews(t.payload,{location:E.a.System})},t.prototype.getSendViewData=function(){return this.getLocalViewData().then(function(t){var e={UserId:O.a.get(A.a.DeviceId),ConfigCode:C.a.get(A.a.ConfigCode),SiteCode:C.a.get(A.a.SiteCode),SettingsKey:C.a.get(A.a.SettingsKey),ViewData:t,masterId:null},n=w.a.getUserId();return n&&(e.masterId=decodeURIComponent(n)),Promise.resolve(e)})},t.prototype.sendViewData=function(){var e=this;return this.isHaveRequestForSaveView=!1,this.getSendViewData().then(function(t){return f.sendViewsData(t,{location:E.a.System}).then(function(t){s.a.log(e.NAME,"SendViewData","<< SUCCESS >>","data",t)})})},t.prototype.serverStorageDeleteViewsByUserId=function(){this.resetStorage(),this.sendViewData()},t.prototype.sendNewDeviceInfoToServer=function(t){var n=this;return this.getSendViewData().then(function(e){return e.newDeviceId=t.newId,e.UserId=t.id,f.sendViewsDataFromNewDevice(e,{location:E.a.System}).then(function(t){s.a.log(n.NAME,"sendNewDeviceInfoToServer","<< SUCCESS >>","sendData -",e,"answer-",t)}).catch(function(t){s.a.error(t,"New deviceId is not saved")})})},t.prototype.generateViewCookie=function(){var e={};return Object(a.each)(this.meterViews,function(t){e[t.meterLevel]=t.renderCookieObject()}),e},t.prototype.setCurrentConversation=function(t){this.activeMeterView?this.activeMeterView.setActiveConversation(t):s.a.error("Active Meter is not set")},t.prototype.setRequestForSaveView=function(t,e){t&&e&&t.Id!=P.f.Id&&(this.isHaveRequestForSaveView=!0)},t.prototype.setViewStructureIfEmpty=function(){var t=f.getViewStructure();Object(a.isEmpty)(t)&&this.saveViewStructure()},t.prototype.saveViewStructure=function(t){t=t||this.generateViewCookie(),f.setViewStructure(t,{expires:new Date(P.g)})},t.prototype.setUpdateArticleCountCookie=function(){var t=c.a.get();t.setHours(t.getHours()+C.a.get(A.a.ViewsUpdateFromServerPeriod)),f.setUpdateArticleCount("1",{expires:t})},t.prototype.getArticleId=function(){var t=C.a.getArticleIdProvider();if(t){var e=t();if(e)return e!=encodeURIComponent(e)?U()(e).toString():e.toString();s.a.warn("articleIdProvider returned empty value")}return U()(Object(y.o)()).toString()},t}())},function(t,e,n){"use strict";n.d(e,"t",function(){return i}),n.d(e,"j",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"B",function(){return u}),n.d(e,"p",function(){return p}),n.d(e,"y",function(){return l}),n.d(e,"z",function(){return f}),n.d(e,"i",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"s",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"o",function(){return v}),n.d(e,"d",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"C",function(){return C}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return A}),n.d(e,"q",function(){return I}),n.d(e,"r",function(){return S}),n.d(e,"n",function(){return O}),n.d(e,"g",function(){return E}),n.d(e,"b",function(){return P}),n.d(e,"v",function(){return x}),n.d(e,"w",function(){return B}),n.d(e,"l",function(){return U}),n.d(e,"a",function(){return R}),n.d(e,"x",function(){return L}),n.d(e,"A",function(){return T}),n.d(e,"u",function(){return F});var o=n(11),c=n(0),r=n(25),i=function(t){return null!=t},s=function(){return window.location.href},a=function(){return window.location.origin+window.location.pathname},u=function(t){if(t)return t.charAt(0).toUpperCase()+t.slice(1)},p=function(n){var t=window.location.search.substring(1).split("&"),o="";return Object(c.each)(t,function(t){var e=t.split("=");if(e[0]===n)return o=decodeURIComponent(e[1]),!1}),o},l=function(t,e){var n=t.split("?");if(2<=n.length&&Object(c.isArray)(e)&&e.length){for(var o=n.shift(),r=n.join("?").split(/[&;]/g),i=0;i<e.length;i++)for(var s=encodeURIComponent(e[i])+"=",a=r.length-1;0<=a;a--)-1!==r[a].lastIndexOf(s,0)&&r.splice(a,1);t=o+(0<r.length?"?"+r.join("&"):"")}return t},f=function(t,e,n,o){void 0===e&&(e={}),void 0===n&&(n=window.location.href),void 0===o&&(o=document.title);var r=l(n,t);window.history.replaceState(e,o,r)},h=function(){var t,e,n=window.location.search.substr(1).split("&"),o={};for(t=0;t<n.length;t++)(e=n[t].split("=")).length<2&&e.push(""),o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return o},d=function(t){var e=window.location.search.slice(1).split("&"),n={},o={};t.forEach(function(t){o[t]=!0});for(var r=e.length-1;0<=r;r--){var i=[];if(e[r]&&(i=e[r].split("="),o[i[0]]))try{n[i[0]]=decodeURIComponent(i.slice(1).join("="))}catch(t){n[i[0]]=""}}return n},g=function(t){return!!p(t)},y=function(t,e,n){return t.replace(new RegExp("([?&]"+e+"(?=[=&#]|$)[^#&]*|(?=#|$))"),"&"+e+"="+encodeURIComponent(n)).replace(/^([^?&]+)&/,"$1?")},v=function(){return location.protocol+"//"+location.host+location.pathname};function m(t){switch(t){case"s":return 1e3;case"m":return 6e4;case"h":return 36e5;case"d":return 864e5;case"w":return 6048e5;default:return 0}}var _=function(t,e){void 0===t&&(t=0),void 0===e&&(e=r.a.get());var n=new Date(e.valueOf());return n.setMilliseconds(n.getMilliseconds()+t)},b=function(t){return o.a.find("[href]:not([data-dismiss])",t)},C="2.7.2",w=function(t,e,n){var o=t.getTime()-e.getTime();switch(n){case"s":case"m":case"h":case"d":return o/m(n);case"w":return Math.round(o/m(n));case"M":var r=t.getFullYear()-e.getFullYear();return t.getMonth()-e.getMonth()+(0!==r?12*r:0);case"Y":return t.getFullYear()-e.getFullYear()}},A=function(t){return t?encodeURIComponent(decodeURIComponent(t)):null},I=function(){return"Version: 2.7.2"},S=function(){return"Version: 2.7.2, Build: V.2.7.2-20220203.1"};function O(t){return void 0===t&&(t=r.a.get()),new Date(t.getTime()+6e4*t.getTimezoneOffset())}function E(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()}function P(t,e){return(e=e||r.a.get()).setDate(e.getDate()+t),e}function D(i,s,a){return new Promise(function(t,e){var n=document.getElementsByTagName("head").item(0),o=document.createElement(i);for(var r in a&&(o.onload=function(){t()},o.onerror=function(t){e(t)}),s)o[r]=s[r];n.appendChild(o),a||t()})}function x(t,e){return D(t,e,!1)}function B(t,e){return D(t,e,!0)}function U(t){return 1e3*t}var R=function(e,n,o,t){void 0===t&&(t=!1);var r=function(t){t.type===n&&o.call(e,t)};return e.addEventListener(n,r,t),r};function L(t){var e=new Date(t.replace("/Date(","").replace(")/",""));return isNaN(e.getDate())&&(e=new Date(parseInt(t.replace("/Date(","").replace(")/","")))),e}function T(e,n,o){if(null!=e)return Array.isArray(e)?Object(c.each)(e,function(t){return T(t,n,o)}):Object(c.each)(Object.keys(e),function(t){"object"!=typeof e[t]?e[t]===n&&(e[t]=o):e[t]=T(e[t],n,o)}),e}function F(t){return JSON.parse(JSON.stringify(t))}},function(t,e,n){"use strict";n.r(e);var i,o=n(140),r=n(7),s=n(20),a=n(92),c=n(327),u=n(0),p=n(76),l=n(326),f=n(331),h=n(137),d=n(325),g=n(50),y=n(25),v=n(75);(i||(i={})).BeforeContentChanged="onInnerBeforeContentChanged",n.d(e,"ActionModule",function(){return m});var m=new(function(){function t(){this.NAME="ActionModule",this.originalActionContent=[],this.actions=[],this.FlittzButton="[data-fz-btn=smartAuth]",this.isOnTimeRun=!0,l.a.set(f.a.ActionModuleInstance,this)}return t.prototype.createAction=function(t){return new a.ActionFactory(t).createAction()},t.prototype.processActions=function(t){var o=this,r="processActions";h.a.log("processAction",r,t);try{d.a.dispatch(i.BeforeContentChanged),Object(u.each)(t,function(t,e){h.a.log(o.NAME,r,"Actions.EACH",e,t);var n=o.createAction(t);n&&(o.actions.push(n),n.registerTrigger(),n instanceof p.MaskContentAction&&o.originalActionContent.push(n))})}catch(t){h.a.error(this.NAME,r,t)}},t.prototype.integrateProduct=function(){var t=Object(u.sortBy)(this.originalActionContent,function(t){return t.getMaskedTime()}).reverse();Object(u.each)(t,function(t){t.unmaskContent()}),this.originalActionContent=[]},t.prototype.clearConnextState=function(){this.isOnTimeRun=!0,this.clearActionsSchedule(),this.integrateProduct(),o.a.getInstance().closeAllTemplates(),v.a.reset()},t.prototype.clearActionsSchedule=function(){Object(u.each)(this.actions,function(t){var e=t.getRegisteredTrigger();e&&e.unRegister()}),this.breakPromises(l.a.get(f.a.Promises)),this.actions=[]},t.prototype.resetConversationRepeatableActions=function(t){if(!t)return c.a.deleteTimeRepeatableActions(),void c.a.removeRepeatablesInConv();var e=c.a.getTimeRepeatableActions();e&&e[t.Id]&&(delete e[t.Id],c.a.setTimeRepeatableActions(e));var n=c.a.getRepeatablesInConv();n&&t.Actions&&Object(u.each)(t.Actions,function(t){n[t.Id]&&delete n[t.Id]}),c.a.setRepeatablesInConv(n)},t.prototype.setTimeRepeatableActions=function(t){c.a.setTimeRepeatableActions(t)},t.prototype.resetStorage=function(){c.a.resetStorage()},t.prototype.breakPromises=function(t){Object(u.each)(t,function(t){"pending"===t.state()&&t.reject()}),t=[]},t.prototype.getConnextPaywallFired=function(){return c.a.getConnextPaywallFired()},t.prototype.setPossibilityPresentForUser=function(e){e&&this.isOnTimeRun&&(d.a.subscribe(g.a.LoginSuccess,function(t){c.a.setPossibilityPresentForUser(e)}),this.isOnTimeRun=!1)},t.prototype.deletePossibilityPresentForUser=function(){c.a.deletePossibilityPresentForUser()},t.prototype.getArticleCost=function(){var t=c.a.getArticleCost();return t||""},t.prototype.getDaysToExpire=function(t,e){var n,o=y.a.get(),r=new Date(t);return e?(n=e/864e5-(o.valueOf()-r.valueOf())/864e5)<=0?"less than 1":Math.round(n):""},t.prototype.getReplaceVariables=function(){var t=s.Campaign.getCurrentConversationType();return{FreeViewsLeft:t.properties.getFreeViewsLeft(),CurrentViewCount:t.properties.getViews(),ExpireTimeLeft:this.getDaysToExpire(t.properties.getStartDate(),t.getNearestExpirationTime()),ArticleCost:this.getArticleCost(),UserFullName:r.a.getFullName(),ArticleLeft:t.properties.getFreeViewsLeft()}},t}())},function(t,e,n){"use strict";var c=n(0),i=n(13),o=new(function(){function t(){this.registredListeners=[]}return t.prototype.registerListener=function(t){t.element.addEventListener(t.type,t.listener,t.options),this.registredListeners.push(t)},t.prototype.removeListener=function(t){t.element.removeEventListener(t.type,t.listener,t.options)},t.prototype.removeAllListeners=function(){var e=this;this.registredListeners.forEach(function(t){e.removeListener(t)})},t}()),u=n(273);n.d(e,"a",function(){return p});var p=new(function(){function r(){this.connextScriptClass="nxt-script"}return r.prototype.removeAllEventListeners=function(){o.removeAllListeners()},r.prototype.parseVariables=function(n,o){o||(o={});var t=this.getMatches(n,/{{([\w]+)}}/g,1);return Object(c.each)(t,function(t){if(o.hasOwnProperty(t)){var e=o[t]||"";n=n.replace(new RegExp("{{"+t+"}}","g"),e)}else n=n.replace(new RegExp("{{"+t+"}}","g"),"")}),n},r.prototype.getMatches=function(t,e,n){n||(n=1);for(var o,r=[];o=e.exec(t);)r.push(o[n]);return r},r.prototype.queryElement=function(t,e){var n=e||document;return"object"==typeof t?t:n.querySelector(t)},r.prototype.getElementsByClassName=function(t,e){return t?u.a.nodeListToArray(t.getElementsByClassName(e)):[]},r.prototype.toogleClass=function(t,e){var n=this;return t?u.a._isIterable(t)?(Object(c.each)(t,function(t){n.toogleClass(t,e)}),r):void t.classList.toggle(e):null},r.prototype.addClass=function(t,e){var n=this;return t?u.a._isIterable(t)?(Object(c.each)(t,function(t){n.addClass(t,e)}),r):void t.classList.add(e):null},r.prototype.removeClass=function(t,e){if(!t)return null;if(u.a._isIterable(t))for(var n=t.length,o=0;o<n;o++){if(!u.a.isNode(t[o]))return console.error("Dom.removeClass"+t[o]+" is not a DOMNode object"),null;this.removeClass(t[o],e)}if(!u.a.isNode(t))return console.error("Dom.removeClass"+t+" is not a DOMNode object"),null;t.classList.remove(e)},r.prototype.hasClass=function(t,e){return t.classList.contains(e)},r.prototype.on=function(n,o,r,t){var i=this;if(!n)return null;if(!Object(c.isArray)(n)||0!=n.length){var e=o.split(" ");if(1<e.length){for(var s=0,a=e.length;s<a;s++)this.on(n,e[s],r);return this}if(Object(c.isString)(n)){return u.a.addEventListener(document.body,o,function(t){for(var e=t.target;e&&e!==this;){if(e.matches(n))return void r.call(e,t);e=e.parentNode}}),this}return u.a._isIterable(n)?Object(c.each)(n,function(t,e){i.on(t,o,r)}):u.a.addEventListener(n,o,r),this}},r.prototype.removeConnextListeners=function(){var r=this;u.a.nodeListToArray(document.querySelectorAll("*")).concat([window]).filter(function(t){return t._event}).forEach(function(o){Object.keys(o._event).forEach(function(t){for(var e=o._event[t].handlers,n=e.length-1;0<=n;n--)o&&r.off(o,t,e[n])})})},r.prototype.off=function(t,n,o){var r=this;return t?(u.a._isIterable(t)?Object(c.each)(t,function(t,e){r.off(t,n,o)}):u.a.removeEventListener(t,n,o),this):null},r.prototype.one=function(n,o,r){var i=this;this.on(n,o,function t(e){r(e),i.off(n,o,t)})},r.prototype.setFocus=function(t){t.focus?t.focus():t.setActive()},r.prototype.createElement=function(t){return document.createElement(t)},r.prototype.find=function(t,e){var n,o=/:visible/g,r=o.test(t);return r&&(t=t.split(o).join("")),n=u.a.isNode(e)?u.a.nodeListToArray(e.querySelectorAll(t)):u.a.nodeListToArray(document.querySelectorAll(t)),r?p.isVisible(n):n},r.prototype.css=function(t,e){var n=this;if(u.a._isIterable(t))return Object(c.each)(t,function(t){n.css(t,e)}),r;if(!u.a.isNode(t))return console.error(t+" is not a DOMNode object"),null;if("string"==typeof e)return u.a._getComputedStyle(t,e);if(u.a._isLiteralObject(e)){for(var o in e)t.style[o]=e[o];return e}return null},r.prototype.height=function(t){return this.offset(t).height},r.prototype.width=function(t){return this.offset(t).width},r.prototype.top=function(t){return this.offset(t).top},r.prototype.bottom=function(t){return this.offset(t).bottom},r.prototype.offset=function(t){if(!u.a.isElement(t))return!1;var e=t.getBoundingClientRect(),n={top:Math.round(e.top),right:Math.round(e.right),bottom:Math.round(e.bottom),left:Math.round(e.left),width:e.width?Math.round(e.width):Math.round(t.offsetWidth),height:e.height?Math.round(e.height):Math.round(t.offsetHeight)},o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return n.top=e.top+r,n.left=e.left+o,n.bottom=e.bottom+r,n},r.prototype.remove=function(t){var e=this;if(!t)return null;if(u.a._isIterable(t))return Object(c.each)(t,function(t){e.remove(t)}),null;if(!u.a.isNode(t))return console.error("Dom.remove "+t+" is not a DOMNode object"),null;var n=t.parentNode;return n?n.removeChild(t):void 0},r.prototype.children=function(t,e){if(!t)return[];if("boolean"==typeof e&&e)return t.childNodes;var n=[];if(Object(c.isString)(e)){for(var o=0,r=t.childNodes.length;o<r;o++)t.childNodes[o].nodeName.toLowerCase()===e.toLowerCase()&&n.push(t.childNodes[o]);return n}for(var o in t.childNodes)1===t.childNodes[o].nodeType&&n.push(t.childNodes[o]);return n},r.prototype.append=function(t,e){var n,o;return u.a.isNode(t)?(n=Object(c.isString)(e)?this.create(e):e,i.a.isIE()&&(o=document.importNode(n,!0)),o=t.appendChild(n),this.findExecuteScript(o),o):(console.error("Dom.append "+t+" is not a DOMNode object"),null)},r.prototype.removeScripts=function(t){return t.replace(/<\s*script[^>]*>([\s\S]*?)(<\s*\/script[^>]*>|$)/gi," ")},r.prototype.DOMEval=function(t){var e=document.createElement("script");e.classList.add(this.connextScriptClass),e.text=t,p.queryElement("body").appendChild(e)},r.prototype.findExecuteScript=function(t){var n=this,e=this.find("script",t),o=[];e&&0<e.length&&(Object(c.each)(e,function(t){var e=n.replaceScript(t);o.push(e)}),this.restoreScripts(o))},r.prototype.replaceScript=function(t){var e=document.createComment("Script placeholder");return t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),{placeholder:e,node:t}},r.prototype.restoreScripts=function(t){var n=this;Object(c.each)(t,function(t){var e=document.createElement("script");Object(c.each)(t.node.attributes,function(t){e.setAttribute(t.name,t.value)}),e.text=t.node.innerHTML,e.classList.add(n.connextScriptClass),p.queryElement("body").appendChild(e)})},r.prototype.create=function(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild},r.prototype.html=function(t,e){return t?u.a._isIterable(t)?this.html(Object(c.first)(t),e):Object(c.isString)(e)||Object(c.isNumber)(e)?t.innerHTML=e:t.innerHTML:null},r.prototype.hide=function(t){var e=this;if(t)return u.a._isIterable(t)?(Object(c.each)(t,function(t){e.hide(t)}),this):void(t.style.display="none")},r.prototype.show=function(t){var e=this;return u.a._isIterable(t)?(Object(c.each)(t,function(t){e.show(t)}),this):u.a.isNode(t)?void(t.style.display=""):null},r.prototype.attr=function(t,e){if(!u.a.isNode(t))return console.error(t+" is not a DOMNode object"),null;if("string"==typeof e){var n=void 0;return""===(n="class"===e&&void 0!==t.className?t.className:"for"===e&&void 0!==t.htmlFor?t.htmlFor:"value"===e&&void 0!==t.value?t.value:t.getAttribute(e))&&(n=null),n}if(u.a._isLiteralObject(e)){for(var o in e)null===e[o]?t.removeAttribute(o):t.setAttribute(o,e[o]);return e}return null},r.prototype.before=function(t,e){return u.a.isNode(t)?(n=Object(c.isString)(e)?this.create(e):e,t.parentNode.insertBefore(n,t),this.findExecuteScript(n),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null);var n},r.prototype.inAsFirstChild=function(t,e){return u.a.isNode(t)?(Object(c.isString)(e)&&(e=this.create(e)),t.insertBefore(e,t.firstChild),this.findExecuteScript(e),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null)},r.prototype.after=function(t,e){return u.a.isNode(t)?(Object(c.isString)(e)&&(e=this.create(e)),t.parentNode.insertBefore(e,t.nextSibling),this.findExecuteScript(e),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null)},r.prototype.val=function(t,e){var n=this,o=[];return u.a._isIterable(t)?(Object(c.each)(t,function(t){o.push(n.val(t,e))}),o[0]):u.a.isNode(t)?e?void(t.value=e):t.value:(console.error("Dom.before "+t+" is not a DOMNode object"),null)},r.prototype.getCssAttribute=function(t,e){return this.getStyles(t)[e]},r.prototype.getTextElement=function(t){return u.a.isNode(t)?t.innerText?t.innerText:t.textContent:(console.log("Dom.text "+t+" is not a DOMNode object"),null)},r.prototype.setTextElement=function(t,e){if(!u.a.isNode(t))return console.log("Dom.text "+t+" is not a DOMNode object"),null;t.innerText?t.innerText=e:t.textContent=e},r.prototype.setTextElements=function(t,e){for(var n=t.length,o=0;o<n;o++)this.setTextElement(t[o],e)},r.prototype.getTextElements=function(t){for(var e=[],n=t.length,o=0;o<n;o++)e.push(this.getTextElement(t[o]));return e.join(" ")},r.prototype.text=function(t,e){if(u.a._isIterable(t)){if(!Object(c.isString)(e))return this.getTextElements(t);this.setTextElements(t,e)}else{if(!Object(c.isString)(e))return this.getTextElement(t);this.setTextElement(t,e)}},r.prototype.isVisible=function(t){var e=this;return u.a._isIterable(t)?Object(c.filter)(t,function(t){return e.isVisible(t)}):t.offsetWidth&&t.offsetHeight},r.prototype.empty=function(t){t.innerHTML=""},r.prototype.parents=function(t,e){if(!t)return null;t=t.parentNode;for(var n=[];t&&null!==t;t=t.parentNode)if(e){if(!(t=t.closest(e)))return n;n.push(t)}else n.push(t);return 0===n.length?null:n},r.prototype.hasAttribute=function(t,e){return u.a._isIterable(t)?this.hasAttribute(Object(c.first)(t),e):u.a.isNode(t)?t.hasAttribute(e):(console.error("Dom.hasAttribute "+t+" is not a DOMNode object"),null)},r.prototype.updateStyleAttr=function(t,e){var n=this;if(!e)return null;if(u.a._isIterable(t))Object(c.each)(t,function(t){n.updateStyleAttr(t,e)});else{if(!u.a.isNode(t))return console.error("Dom.updateStyleAttr "+t+" is not a DOMNode object"),null;var o=this.getStyles(t);if("object"!=typeof e)return console.error("Dom.updateStyleAttr "+e+" is not an object"),null;for(var r in e)o[r]=e[r];t.setAttribute("style",this.parseToStyleStr(o))}},r.prototype.getStyles=function(t){for(var e,n,o,r=p.attr(t,"style"),i=r?r.split(";"):"",s=i.length,a={};s--;)e=i[s].split(":"),n=new String(e[0]).trim(),o=new String(e[1]).trim(),0<n.length&&0<o.length&&(a[n]=o);return a},r.prototype.parseToStyleStr=function(e){var n="";return Object(c.each)(Object(c.keys)(e),function(t){n+=t+":"+e[t]+";"}),n},r.prototype.getDocumentHeight=function(){var t=document;return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)},r.prototype.getWindowHeight=function(){return window.innerHeight||(document.documentElement||document.body).clientHeight},r.prototype.getWindowYscroll=function(){return window.pageYOffset||(document.body||document.documentElement).scrollTop},r.prototype.percentsScrolled=function(){return Math.floor(this.getWindowYscroll()/(this.getDocumentHeight()-this.getWindowHeight())*100)},r.prototype.hasScrollbar=function(){var t=document.documentElement||document.body,e=window.getComputedStyle(t,"").overflowY,n=t.scrollHeight>t.clientHeight,o=/^(visible|auto)$/.test(e);return n&&o||"scroll"===e},r.prototype.removeConnextScripts=function(){Object(c.each)(document.querySelectorAll("script."+this.connextScriptClass),function(t){null!==t.parentNode&&t.parentNode.removeChild(t)})},r.prototype.isExistElement=function(t){return!!p.queryElement(t)},r.prototype.clone=function(t){return t.cloneNode(!0)},r.prototype.nextSibling=function(t){return t.nextSibling},r.prototype.isChild=function(t,e){return e.parentNode==t},r.prototype.getType=function(t){return t.nodeName.toLowerCase()},r}())},function(t,e,n){"use strict";var o,r;n.r(e),n.d(e,"Operator",function(){return o}),(r=o||(o={}))[r.Equal=1]="Equal",r[r.NotEqual=2]="NotEqual",r[r.LessThan=3]="LessThan",r[r.LessThanEqual=4]="LessThanEqual",r[r.GreaterThan=5]="GreaterThan",r[r.GreaterThanEqual=6]="GreaterThanEqual",r[r.And=7]="And",r[r.Contains=8]="Contains",r[r.DoesNotContain=9]="DoesNotContain",r[r.In=10]="In",r[r.NotIn=11]="NotIn",r[r.StartWith=12]="StartWith",r[r.EndWith=13]="EndWith",r[r.Intersect=14]="Intersect",r[r.DoesNotIntersect=15]="DoesNotIntersect"},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(9),r=n(28),i=new(function(){function t(){this.connextDeviceDetector={UA:window.navigator.userAgent,Device:{browser:{name:r.a.userAgent.getBrowser(),isFirefox:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.Firefox},isChrome:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.Chrome},isIE:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.IE},isEdge:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.Edge},isSafari:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.Safari},isFacebook:function(){return r.a.userAgent.getBrowser()==r.a.BrowserTypes.Facebook}},platform:{type:r.a.userAgent.getDeviceType(),isDesktop:function(){return r.a.userAgent.desktop()},isMobile:function(){return r.a.userAgent.mobile()},isTablet:function(){return r.a.userAgent.tablet()}},os:{name:r.a.userAgent.getOS(),isIOS:function(){return r.a.userAgent.isIOS()}}},Browsers:[],OsList:[],Platforms:[]},window.DeviceDetector?this.deviceDetector=window.DeviceDetector:this.deviceDetector=this.connextDeviceDetector}return t.prototype.getDeviceType=function(){return this.deviceDetector.Device.platform.type},t.prototype.getOS=function(){var t=this.deviceDetector.Device,e=t.os.version?t.os.version:"";return t.os.name+e},t.prototype.getBrowser=function(){return this.isDetectBrowser()?this.deviceDetector.Device.browser.name:this.connextDeviceDetector.Device.browser.name},t.prototype.isChrome=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isChrome?this.deviceDetector.Device.browser.isChrome():this.connextDeviceDetector.Device.browser.isChrome()},t.prototype.isFirefox=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isFirefox?this.deviceDetector.Device.browser.isFirefox():this.connextDeviceDetector.Device.browser.isFirefox()},t.prototype.isIE=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isIE?this.deviceDetector.Device.browser.isIE():this.connextDeviceDetector.Device.browser.isIE()},t.prototype.isEdge=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isEdge?this.deviceDetector.Device.browser.isEdge():this.connextDeviceDetector.Device.browser.isEdge()},t.prototype.isSafari=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isSafari?this.deviceDetector.Device.browser.isSafari():this.connextDeviceDetector.Device.browser.isSafari()},t.prototype.isFacebook=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isFacebook?this.deviceDetector.Device.browser.isFacebook():this.connextDeviceDetector.Device.browser.isFacebook()},t.prototype.isIOS=function(){return!!this.isDetectOS()&&this.deviceDetector.Device.os.isIOS()},t.prototype.getBrowserVersion=function(){if(!this.isDetectBrowser())return null;var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|edg|version|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]:"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):n[2]?n[2]:null},t.prototype.isDetectOS=function(){return!(!this.deviceDetector.Device.os||!this.deviceDetector.Device.os.name)},t.prototype.isDetectBrowser=function(){return!(!this.deviceDetector.Device.browser||!this.deviceDetector.Device.browser.name)},t.prototype.isDesktop=function(){return this.deviceDetector.Device.platform.isDesktop()},t.prototype.isMobile=function(){return this.deviceDetector.Device.platform.isMobile()},t.prototype.isTablet=function(){return this.deviceDetector.Device.platform.isTablet()},t.prototype.getUserMeta=function(){return{Browser:this.getBrowser(),OS:this.getOS(),deviceType:this.getDeviceType(),URL:Object(o.j)()}},t}())},,function(t,e,n){"use strict";var o={};n.r(o),n.d(o,"ClickMg2Action",function(){return E}),n.d(o,"ActivationMg2Action",function(){return L}),n.d(o,"ClickNewsdayMg2Action",function(){return k}),n.d(o,"ConnextRunMg2Action",function(){return N}),n.d(o,"LoginMg2Action",function(){return G}),n.d(o,"LogoutMg2Action",function(){return W}),n.d(o,"OpenNewsletterWidgetMg2Action",function(){return J}),n.d(o,"RegisterMg2Action",function(){return K}),n.d(o,"SubmitMg2Action",function(){return q}),n.d(o,"ZipCodeMg2Action",function(){return tt}),n.d(o,"AccessCodeMg2Action",function(){return ot}),n.d(o,"SwGAccountLinkingMg2Action",function(){return st}),n.d(o,"HideEntitledMg2Action",function(){return pt}),n.d(o,"HideLoggedInMg2Action",function(){return ft}),n.d(o,"HideLoggedOutMg2Action",function(){return dt});var r,i,s,a,c,u,p,l,f,h,d,g,y,v,m,_,b=n(26),C=n(325),w=n(50),A=n(0),I=n(11),S=function(){function t(){this.selectAttr="data-mg2-action"}return t.prototype.getActionElement=function(){return I.a.find(this.selector,document)},t.prototype.setSelector=function(){this.selector="["+this.selectAttr+"="+this.actionName+"]"},t.prototype.register=function(){var e=this;this.setSelector(),I.a.on(this.selector,"click",function(t){e.run(t),C.a.dispatch(w.a.ButtonClick,t)})},t.prototype.run=function(t){t&&t.preventDefault()},t.prototype.show=function(){I.a.show(this.getActionElement())},t.prototype.hide=function(){I.a.hide(this.getActionElement())},t.prototype.isShow=function(){return!0},t}(),O=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="click",t}return O(t,e),t.prototype.run=function(t){"click"!==this.actionName&&"click-Newsday"!==this.actionName&&e.prototype.run.call(this,t)},t}(S),P=n(326),D=n(331),x=n(273),B=n(7),U=n(338),R=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),L=function(n){function t(){var t=n.call(this)||this;return t.actionName="activation",t}return R(t,n),t.prototype.run=function(t){n.prototype.run.call(this,t);var e=P.a.get(D.a.ActivationInstance);e?e.process():this.processActivation()},t.prototype.show=function(){try{var t=this.getActionElement();if(t){var e=(x.a._isIterable(t)?t:[t]).filter(function(t){return 0<I.a.parents(t,".Mg2-connext").length});I.a.show(e)}}catch(t){n.prototype.show.call(this)}},t.prototype.isShow=function(){return B.a.getUserState()!==b.q.Subscribed},t.prototype.processActivation=function(){U.a.loadActivation().then(function(t){t&&(new t).process()})},t}(E),T=n(52),F=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="click-Newsday",t}return F(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),C.a.dispatch(w.a.NewsdayButtonClick,t),window.setDestUrl&&Object(T.isFunction)(window.setDestUrl)&&window.setDestUrl()},t}(E),V=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="connextRun",t}return V(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),C.a.dispatch(b.h.ApplicationReload,null)},t}(E),M=n(70),j=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="login",t}return j(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),M.a.showLoginForm()},t.prototype.isShow=function(){return B.a.getUserState()===b.q.NotLoggedIn},t}(E),Z=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="logout",t}return Z(t,e),t.prototype.run=function(){e.prototype.run.call(this,event),M.a.logout()},t.prototype.isShow=function(){return B.a.getUserState()!==b.q.NotLoggedIn},t}(E),X=n(137),H=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J=function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.actionName="openNewsletterWidget",t}return H(t,s),t.prototype.run=function(t){var e="NewsletterWidgetHandler";X.a.log(e,t);try{s.prototype.run.call(this,t);var n=t.target,o={email:"",categoryIdsList:this.getIdsList(n.dataset.categoryIdsList),newsletterIdsList:this.getIdsList(n.dataset.newsletterIdsList),viewMode:+n.dataset.viewMode||0},r=I.a.find('[data-mg2-input="Email"]',I.a.parents(n,".Mg2-connext")),i=I.a.val(r);void 0!==i&&""!==i&&(o.email=i),window.mg2WidgetAPI&&window.mg2WidgetAPI.openNewsletter(o)}catch(t){X.a.error(e,t)}},t.prototype.getIdsList=function(t){return void 0!==t?t.toString().split(",").map(function(t){return parseInt(t,10)}):[]},t}(E),Q=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="register",t}return Q(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),M.a.showRegisterForm(t)},t.prototype.isShow=function(){return B.a.getUserState()===b.q.NotLoggedIn},t}(E),Y=n(9),z=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q=function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.actionName="submit",t}return z(t,s),t.prototype.run=function(t){var e="SubscribeClickHandler";X.a.log(e,t);try{s.prototype.run.call(this,t);var n=t.target,o=I.a.attr(n,"href"),r=I.a.find('[data-mg2-input="Email"]',I.a.parents(n,".Mg2-connext")),i=I.a.val(r);window.location.href=Object(Y.c)(o,"email",i)}catch(t){X.a.error(e,t)}},t}(E),$=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tt=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.actionName="Zipcode",t}return $(t,a),t.prototype.run=function(t){var e="SubmitZipCodeHandler";X.a.log(e,t);try{a.prototype.run.call(this,t);var n=t.target,o=I.a.attr(n,"href"),r=I.a.parents(n,".Mg2-zip-wrapper"),i=I.a.find('[data-mg2-input="Zipcode"]',r[0]),s="";i&&(s=I.a.val(i[0])),o=Object(Y.c)(o,"zipcode",s),I.a.attr(n,{href:o}),n.hasAttribute("target")?window.open(o,"_blank"):window.location.href=o}catch(t){X.a.error(e,t)}},t}(E),et=n(56),nt=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ot=function(r){function t(){var t=null!==r&&r.apply(this,arguments)||this;return t.actionName="'access code'",t}return nt(t,r),t.prototype.run=function(t){r.prototype.run.call(this,t);var e=t.target,n=e;n.dataset.mg2CodeSet||(n=I.a.parents(e,this.selector)[0]);var o=+n.dataset.mg2CodeSet;et.a.processAccessCodeFlow(o)},t}(E),rt=n(143),it=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),st=function(r){function t(){var t=null!==r&&r.apply(this,arguments)||this;return t.actionName="SwGAccountLinking",t}return it(t,r),t.prototype.run=function(t){var e="SwGAccountLinking";X.a.log(e,t);try{r.prototype.run.call(this,t);var n={CustomerRegistrationId:B.a.getCustomerRegistrationId()},o=window.btoa(JSON.stringify(n));rt.SwG.linkSubscriptions(o).then(function(t){})}catch(t){X.a.error(e,t)}},t.prototype.isShow=function(){return B.a.isSubscribed()},t}(E),at=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="click",t.findedElements=[],t}return at(t,e),t.prototype.register=function(){this.setSelector(),this.findedElements=I.a.find(this.selector,document),this.run()},t.prototype.run=function(t){e.prototype.run.call(this,t),this.isShow()?I.a.show(this.findedElements):I.a.hide(this.findedElements)},t}(S),ut=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideentitled",t}return ut(t,e),t.prototype.isShow=function(){return B.a.getUserState()!==b.q.Subscribed},t}(ct),lt=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideloggedin",t}return lt(t,e),t.prototype.isShow=function(){return B.a.getUserState()===b.q.NotLoggedIn},t}(ct),ht=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideloggedout",t}return ht(t,e),t.prototype.isShow=function(){return B.a.getUserState()!==b.q.NotLoggedIn},t}(ct);n.d(e,"a",function(){return gt});var gt=new(function(){function t(){this.registeredActions=[],this.isRegistrationProcess=!1,this.isActivationProcess=!1,this.isLoginEndProcess=!1}return t.prototype.registerActions=function(){var n=this,t=Object.keys(o);Object(A.each)(t,function(t){var e=new o[t];e.register(),n.registeredActions.push(e)}),this.setupUserVisibilityActions()},t.prototype.setupUserVisibilityActions=function(){var t=this;C.a.subscribe([w.a.AnyAccountStatusEvent],function(){return t.setVisibility()}),C.a.subscribe([b.h.TemplateShown],function(){t.setVisibility()})},t.prototype.setVisibility=function(){Object(A.each)(this.registeredActions,function(t){t.isShow()?t.show():t.hide()})},t.prototype.startRegistrationProcess=function(){this.isRegistrationProcess=!0},t.prototype.stopRegistrationProcess=function(){this.isRegistrationProcess=!1},t.prototype.getRegistrationProcess=function(){return this.isRegistrationProcess},t.prototype.startActivationFlow=function(){this.isActivationProcess=!0},t.prototype.stopActivationFlow=function(){this.isActivationProcess=!1},t.prototype.getActivationProcess=function(){return this.isActivationProcess},t.prototype.setLoginEndFlowStatus=function(t){this.isLoginEndProcess=t},t.prototype.getLoginEndFlowStatus=function(){return this.isLoginEndProcess},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Action",function(){return _});var o=n(94),r=n(137),i=n(11),s=n(325),a=n(50),c=n(326),u=n(331),p=n(25),l=n(140),f=n(70),h=n(44),d=n(338),g=n(8),y=n(218),v=n(214),m=n(26),_=function(){function t(t){this.DEFAULT_ACTION_ID="ConneXt_Action_Id-",this.FlittzButton="[data-fz-btn=smartAuth]",this.countShow=0,this.closed=!0,this.firstShow=!1,t.closeEvent=null,this.action=new y.a(t)}return t.prototype.isFirstShow=function(){return this.firstShow},t.prototype.incrementCountShow=function(){this.countShow++},t.prototype.resetCountShow=function(){this.countShow=0},t.prototype.getCountShow=function(){return this.countShow},t.prototype.executeAction=function(){this.actionTemplate&&this.showTemplate(),this.incrementCountShow()},t.prototype.prepareToShow=function(t){return r.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),this.action.What&&!this.action.What.Html?(r.a.log("Action","setActionTemplate","===== ACTION NOT PASSED(No HTML) =====",this.action),Promise.reject()):(this.action.What.Html=i.a.parseVariables(this.action.What.Html.trim(),t),this.setActionTemplate(),this.existTemplate()?Promise.resolve():Promise.reject())},t.prototype.existTemplate=function(){return!(!this.actionTemplate||!this.actionTemplate.isCanShow())},t.prototype.getActionElement=function(){return this.element?this.element:i.a.queryElement("#"+this.getActionId())},t.prototype.show=function(){this.firstShow||(this.firstShow=!0),this.closed=!1,s.a.dispatch(a.a.ActionShow,this.action),c.a.set(u.a.ActionStartTime,p.a.get())},t.prototype.close=function(t){this.action.CloseEvent=t.detail.closeEvent,s.a.dispatch(a.a.ActionClosed,this.action),this.closed=!0,c.a.set(u.a.ActionEndTime,p.a.get())},t.prototype.isClosed=function(){return this.closed},t.prototype.setActionTemplate=function(){var t=new v.a(this.action.What);this.actionTemplate=l.a.getInstance().createTemplate(t)},t.prototype.getActionTemplate=function(){return this.actionTemplate},t.prototype.showTemplate=function(){this.prepareTemplateToShow(),this.actionTemplate.beforeShow(),this.actionTemplate.show(),this.actionTemplate.afterShow()},t.prototype.prepareTemplateToShow=function(){var e=this,t=this.actionTemplate.getElement();if(this.actionTemplate.addCss(this.action.What.Css,this.action.Id),this.actionTemplate.setId(this.getActionId()),this.addFlittzButtonEvent(t),f.a.processLinks(t),this.action.What.SwGEnable){var n=c.a.get(u.a.SwGInstance);n&&n.SwG.renderButtons(t,{offers:this.action.What.SwGOffers})}i.a.on(this.actionTemplate.getElement(),m.h.TemplateClosed,function(t){e.close(t)})},t.prototype.registerTrigger=function(){this.showTrigger=o.ActionTriggerDispatcher.registerActionTriggers(this)},t.prototype.getRegisteredTrigger=function(){return this.showTrigger},t.prototype.addFlittzButtonEvent=function(t){var e=this,n=i.a.find(this.FlittzButton,t);0<n.length&&i.a.on(n,"click",function(t){e.flittzBtnHandler(t)})},t.prototype.flittzBtnHandler=function(e){var n=this;e.preventDefault(),h.a.get(u.a.IntegrateFlittz)&&d.a.loadCampaign().then(function(t){e.EventData.conversation=t?t.getCurrentConversation():null,e.EventData.viewCount=g.a.getCurrentConversationViewCount(),e.EventData.hasFlittz=!0,window.CommonFz.PushData("Connext-onFlittzButtonClick",e),s.a.dispatch(a.a.FlittzButtonClick,n.action)})},t.prototype.getActionId=function(){return""+this.DEFAULT_ACTION_ID+this.action.Id},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var o,r=n(204),i=n(39),s=n(0),a=n(27),c=n(46),u=n(138),p=n(2),l=n(275),f=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=new(function(e){function t(){var t=e.call(this)||this;return t.localStorage=new a.a,t}return f(t,e),t.prototype.isSupported=function(){return this.localStorage.isSupported()},t.prototype.getStorage=function(){return this.localStorage},t.prototype.get=function(t,e){e=this.getOptions(e),u.a.addToDebug(c.a.LocalStorage,t,"get",null,e,this);var n=t;return e.expandKey&&(n=this.expandKey(t)),this.getStorage().get(n,e.isJson)},t.prototype.set=function(t,e,n){var o=!1;try{n=this.getOptions(n),u.a.addToDebug(c.a.LocalStorage,t,"set",null,n,this);var r=t;n.expandKey&&(r=this.expandKey(t)),o=this.getStorage().set(r,e,n.isJson)}catch(t){o=!1}finally{return o}},t.prototype.delete=function(t,e){var n=t;return(e=this.getOptions(e)).expandKey&&(n=this.expandKey(t)),this.getStorage().delete(n)},t.prototype.clear=function(){return this.getStorage().clear()},t.prototype.getAllKeys=function(){return this.getStorage().getAllKeys()},t.prototype.getAllConnextRecords=function(){var n=this,o=[],t=this.getConnextExistingStorageKeys();return Object(s.each)(t,function(t){var e=n.get(t,{expandKey:!1,isJson:!0});null==e&&(e=n.get(t,{expandKey:!1,isJson:!1})),o.push({Name:t,Value:e})}),o},t.prototype.getConnextExistingStorageKeys=function(t){void 0===t&&(t=!0);var e=this.getAllKeys(),n=t?this.getAllConstantKeys():this.getStorageConstantKeys();return n=this.removeExceptionsFromKeys(n),e=this.filterConnextExistingStorageKeys(e,n)},t.prototype.getStorageConstantKeys=function(){return this.getConstantKeys(p.e)},t.prototype.getAllConstantKeys=function(){return this.getStorageConstantKeys().concat(l.a.getStorageConstantKeys())},t.prototype.getOptions=function(t){return Object(s.extendOwn)(new i.a,t)},t}(r.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(59),r=n.n(o),i=new(function(){function t(){this.key=r.a.enc.Utf8.parse("4512639636589784"),this.iv=r.a.enc.Utf8.parse("4512639636589784")}return t.prototype.decrypt=function(t,e){if(void 0===e&&(e=!0),t)try{var n=r.a.AES.decrypt(t,this.key,{keySize:16,iv:this.iv,mode:r.a.mode.CBC,padding:r.a.pad.Pkcs7}).toString(r.a.enc.Utf8);return e?JSON.parse(n):n}catch(t){return null}},t.prototype.encrypt=function(t){var e=r.a.AES.encrypt(r.a.enc.Utf8.parse(JSON.stringify(t)),this.key,{keySize:16,iv:this.iv,mode:r.a.mode.CBC,padding:r.a.pad.Pkcs7});return this.decrypt(e),e},t}())},function(t,e,n){var o,r,i,s,c,a,u,p,l,f,h,d,g,y,v,m,_,b,C,w,A,I,S;t.exports=(o=n(6),n(86),void(o.lib.Cipher||(i=(r=o).lib,s=i.Base,c=i.WordArray,a=i.BufferedBlockAlgorithm,(u=r.enc).Utf8,p=u.Base64,l=r.algo,f=l.EvpKDF,h=i.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function r(t){return"string"==typeof t?S:w}return function(o){return{encrypt:function(t,e,n){return r(e).encrypt(o,t,e,n)},decrypt:function(t,e,n){return r(e).decrypt(o,t,e,n)}}}}()}),i.StreamCipher=h.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),d=r.mode={},g=i.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),y=d.CBC=function(){var t=g.extend();function i(t,e,n){var o=this._iv;if(o){var r=o;this._iv=void 0}else var r=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=r[i]}return t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;i.call(this,t,e,o),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),t.Decryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,r=t.slice(e,e+o);n.decryptBlock(t,e),i.call(this,t,e,o),this._prevBlock=r}}),t}(),v=r.pad={},m=v.Pkcs7={pad:function(t,e){for(var n=4*e,o=n-t.sigBytes%n,r=o<<24|o<<16|o<<8|o,i=[],s=0;s<o;s+=4)i.push(r);var a=c.create(i,o);t.concat(a)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:y,padding:m}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=n.createEncryptor;else{var o=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==o?this._mode.init(this,e&&e.words):(this._mode=o.call(n,this,e&&e.words),this._mode.__creator=o)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),_=i.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),b=r.format={},C=b.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var o=c.create([1398893684,1701076831]).concat(n).concat(e);else var o=e;return o.toString(p)},parse:function(t){var e=p.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var o=c.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return _.create({ciphertext:e,salt:o})}},w=i.SerializableCipher=s.extend({cfg:s.extend({format:C}),encrypt:function(t,e,n,o){o=this.cfg.extend(o);var r=t.createEncryptor(n,o),i=r.finalize(e),s=r.cfg;return _.create({ciphertext:i,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:o.format})},decrypt:function(t,e,n,o){o=this.cfg.extend(o),e=this._parse(e,o.format);var r=t.createDecryptor(n,o).finalize(e.ciphertext);return r},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),A=r.kdf={},I=A.OpenSSL={execute:function(t,e,n,o){o||(o=c.random(8));var r=f.create({keySize:e+n}).compute(t,o),i=c.create(r.words.slice(e),4*n);return r.sigBytes=4*e,_.create({key:r,iv:i,salt:o})}},S=i.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:I}),encrypt:function(t,e,n,o){var r=(o=this.cfg.extend(o)).kdf.execute(n,t.keySize,t.ivSize);o.iv=r.iv;var i=w.encrypt.call(this,t,e,r.key,o);return i.mixIn(r),i},decrypt:function(t,e,n,o){o=this.cfg.extend(o),e=this._parse(e,o.format);var r=o.kdf.execute(n,t.keySize,t.ivSize,e.salt);o.iv=r.iv;var i=w.decrypt.call(this,t,e,r.key,o);return i}}))))},function(t,e,n){"use strict";n.r(e),n.d(e,"Campaign",function(){return _});var o=n(141),i=n(8),s=n(241),r=n(343),a=n(120),c=n(325),u=n(326),p=n(331),l=n(137),f=n(330),h=n(50),d=n(87),g=n(64),y=n(335),v=n(0),m=n(74),_=new(function(){function t(){this.NAME="Campaign",u.a.set(p.a.CampaignInstance,this)}return t.prototype.process=function(e,t){var n=this;this.meterLevel=e.Level,this.meterLevelId=e.Id,this.campaignModel=new s.a(t),this.conversations=this.campaignModel.Conversations[this.meterLevel]||[],this.criteriaProvider=a.CriteriaProvider.getInstance();var o=y.a.getAllConversations();o&&o.lenght===this.conversations.length||y.a.setAllConversations(this.campaignModel.Conversations);var r="processCampaign";try{if(l.a.log(this.NAME,r,"Starting process campaign...",t,this.meterLevel),!this.meterLevel)throw f.a.NO_METER_LEVEL_SET;if(!t)throw f.a.NO_CAMPAIGN;return c.a.dispatch(h.a.CampaignFound,t),this.calculateCurrentConversation().then(function(t){return null===t&&(t=new g.Conversation(null,n)),n.conversationType=t,u.a.set(p.a.CurrentConversation,n.conversationType),t.start(e).then(function(){return Promise.resolve(!0)}).catch(function(t){return Promise.reject(t)})})}catch(t){t.custom?l.a.warn(t.message):l.a.error(this.NAME,r,t);var i=t.message?t.message:t;return c.a.dispatch(h.a.CriticalError,i),Promise.reject(i)}},t.prototype.getName=function(){return this.campaignModel.Name},t.prototype.calculateCurrentConversation=function(){var o=this,r="calculateCurrentConversation";return new Promise(function(e,n){l.a.log(o.NAME,r,"Get conversation for a processing");try{var t=o.getStoredConversationByMeterLevel();return t&&!t.properties.Date.Started&&t.setDefaultConversationProperties(),o.updateExpirationsSettings(t),o.convCalculation=0,t?o.criteriaProvider.isConversationValid(t.conversation).then(function(){l.a.log(o.NAME,r,"Found a stored valid conversation",t),e(t)}).catch(function(){return l.a.log(o.NAME,r,"Found a new valid conversation",t),o.getConversation(t).then(function(t){e(t)})}):o.getConversation().then(function(t){l.a.log(o.NAME,r,"Found a new conversation",t),e(t)})}catch(t){l.a.error(o.NAME,r,t),n()}})},t.prototype.getFilteredConversation=function(){var e=this,n="getFilteredConversation";return l.a.log(this.NAME,n,"Getting conversation"),this.criteriaProvider.calculateConversation(this.conversations).then(function(t){return Promise.resolve(new g.Conversation(t,e))}).catch(function(t){return l.a.warn(e.NAME,n,t),Promise.resolve(null)})},t.prototype.getNextConversation=function(t){l.a.log(this.NAME,"getNextConversation","Go to conversation",t);var e=this.conversations,n=null;return e.length&&t&&(n=Object(v.find)(e,{Id:t})),new g.Conversation(n,this)},t.prototype.getCurrentConversationFromStorage=function(){var t=this.getCurrentConversations();return t?t[this.meterLevel]:null},t.prototype.getConfigUpdateConversation=function(t,e){var n=m.a.getConversation(this.meterLevel,t);return n?(n.Properties=e,n):null},t.prototype.updateExpirationsSettings=function(t){t&&t.conversation&&t.conversation.ExpirationSettings&&t.updateDateExpiration()},t.prototype.getRestoredConversationFromCookie=function(t){t||(t=i.a.getActiveConversationId());var e=new o.a({Date:{Started:i.a.getConversationStartDate(t)}});return this.getConfigUpdateConversation(t,e)},t.prototype.getStoredConversationByMeterLevel=function(){var e="getStoredConversationByMeterLevel",t=i.a.getActiveConversationId(),n=this.getCurrentConversationFromStorage();try{l.a.log(this.NAME,e,"meterLevel",this.meterLevel);var o=null;return n?o=n.Id==t?this.getConfigUpdateConversation(n.Id,n.Properties):this.getRestoredConversationFromCookie(t):t&&(o=this.getRestoredConversationFromCookie(t)),l.a.log(this.NAME,e,"Found stored conversations for meter level",this.meterLevel,o),o?new g.Conversation(o,this):null}catch(t){return l.a.error(this.NAME,e,t),null}},t.prototype.saveCurrentConversation=function(t){var e="saveCurrentConversation";l.a.log(this.NAME,e,t.Name);try{this.setStoredCurrentConversation(t);var n=this.getCurrentConversations()||{};n[this.meterLevel]=t,this.setStoredCurrentConversations(n)}catch(t){l.a.error(this.NAME,e,t)}},t.prototype.getConversation=function(n,o){var r=this;return new Promise(function(e,t){r.getNewConversationByExpired(n).then(function(t){return t?(n&&n.expired(t,o),r.convCalculation++,t.conversation?(t.setPrevExpirationSettings(n),i.a.setCurrentConversation(t.conversation),t.setDefaultConversationProperties(),r.criteriaProvider.isConversationValid(t.conversation).then(function(){e(t)}).catch(function(){r.convCalculation>r.conversations.length?(l.a.warn("getConversation","Exceeded the number of calculations of conversation! Please, check your conversations."),e(null)):r.getConversation(t,!1).then(function(t){e(t)})})):void e(t)):void e(null)})})},t.prototype.getNewConversationByExpired=function(t){if(!t){var e=this.getRestoredConversationFromCookie();return e?Promise.resolve(new g.Conversation(e,this)):this.getFilteredConversation()}var n=t.properties.getExpiredType();return n?n.NextConversationId?n.NextConversationId===d.AfterExpireActions.Recalculate?this.getFilteredConversation():n.NextConversationId===d.AfterExpireActions.GoToSelf?Promise.resolve(this.getNextConversation(t.conversation.Id)):Promise.resolve(this.getNextConversation(n.NextConversationId)):void new r.a("NextConversationId is not set"):Promise.resolve(null)},t.prototype.getCurrentConversationType=function(){return this.conversationType},t.prototype.getCurrentConversation=function(){var t=y.a.getCurrentConversation();return t.Actions||(t.Actions=m.a.getConversationActions(t.MeterLevelId,t.Id)),t},t.prototype.getCurrentConversations=function(){var t=y.a.getCurrentConversations();return Object(v.each)(t,function(t){t.Actions||(t.Actions=m.a.getConversationActions(t.MeterLevelId,t.Id))}),t},t.prototype.getConversationsByMeterLevel=function(t){return y.a.getConversationsByMeterLevel(t)},t.prototype.checkFakeCurrentConversation=function(){var t=this.getCurrentConversation();return t&&-1==t.Id},t.prototype.setStoredCurrentConversation=function(t){return y.a.setCurrentConversation(t)},t.prototype.setStoredCurrentConversations=function(t){return y.a.setCurrentConversations(t)},t.prototype.getConversationById=function(t){return y.a.getConversationById(t)},t.prototype.resetStorage=function(){y.a.resetStorage()},t.prototype.setStartDateToCurrentConversation=function(t){try{var e=y.a.getCurrentConversation(),n=this.getCurrentConversations(),o=Object(v.find)(Object.keys(n),function(t){return n[t].Id=e.Id});e.Properties.Date.Started=t,n[o].Properties.Date.Started=t,y.a.setCurrentConversation(e),y.a.setCurrentConversations(n)}catch(t){}},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(52),r=function(t){this.inputAttrName=["data-nxt-input","data-mg2-input"],t&&(this.api=t.api,this.inputAttrName=!t.inputAttrName||Object(o.isArray)(t.inputAttrName)?t.inputAttrName:[t.inputAttrName],this.submitSelector=t.submitSelector)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTypes",function(){return o});var o={Banner:"Banner",Modal:"Modal",Paywall:"Paywall",Inline:"Inline",SmallInfoBox:"SmallInfoBox",JSCall:"JSCall",Newsletter:"Newsletter",Messaging:"Messaging",InsightsRecommendation:"InsightsRecommendation"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(326),r=new(function(){function t(){this.proxyMethods=["get","set","delete","clear"],this.prefixMap=[],this.keys=[],this.limits={}}return t.prototype.applyProxy=function(o,t){var r=this;this.prefixMap.push({_this:o,prefix:t});for(var i={},e=function(n){var t=o.isSupported();o.isSupported=function(){return t};var e=o[n].bind(o);i[n]=e,o[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.currentContext=o,r["_"+n].apply(r,[i].concat(t))}},n=0,s=this.proxyMethods;n<s.length;n++){e(s[n])}return o},t.prototype.isSupported=function(){return!0},t.prototype._get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.currentContext.isSupported()){var o=e[0];if(!this.limits[this.getExpandKey(o)])return t.get.apply(null,e)}return this.get.apply(this,e)},t.prototype.get=function(t){return o.a.get(this.getExpandKey(t))},t.prototype._set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.set;if(this.currentContext.isSupported()){var r=o.apply(null,e);if(r)return r;var i=this.currentContext;t.delete.apply(this,e),this.currentContext=i;var s=e[0];this.limits[this.getExpandKey(s)]=!0}return this.set.apply(this,e)},t.prototype.set=function(t,e){var n=this.getExpandKey(t);return o.a.set(n,e),this.addKey(n),!0},t.prototype._delete=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.currentContext.isSupported()){var o=e[0];if(!this.limits[this.getExpandKey(o)])return t.delete.apply(null,e)}return this.delete.apply(this,e)},t.prototype.delete=function(t){var e=this.getExpandKey(t);return this.removeKey(e),o.a.delete(e)},t.prototype._clear=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.currentContext.isSupported()&&(0,t.clear)();return this.clear},t.prototype.clear=function(){for(var t=0,e=this.getCurrentStorageKeys();t<e.length;t++){var n=e[t];this.delete(n)}return!0},t.prototype.getExpandKey=function(t){return this.getCurrentPrefix()+"__"+t},t.prototype.getCurrentPrefix=function(){var e=this,t=this.prefixMap.find(function(t){return t._this===e.currentContext});return t?t.prefix:"NOT_FOUND"},t.prototype.getCurrentStorageKeys=function(){var e=this.getCurrentPrefix();return this.keys.filter(function(t){return t.startsWith(e)})},t.prototype.addKey=function(t){-1===this.keys.indexOf(t)&&this.keys.push(t)},t.prototype.removeKey=function(t){var e=this.keys.indexOf(t);-1!==e&&this.keys.splice(e,1)},t}())},function(XP,YP){var ZP;ZP=function(){return this}();try{ZP=ZP||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(ZP=window)}XP.exports=ZP},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(27),r=new(function(){function t(){this.localStorage=new o.a,this.storageKey="CustomTime"}return t.prototype.set=function(t){this.localStorage.set(this.storageKey,t)},t.prototype.get=function(){var t=this.localStorage.get(this.storageKey);return t?new Date(Date.parse(t)):new Date},t.prototype.delete=function(){this.localStorage.delete(this.storageKey)},t.prototype.checkLocalStorage=function(){return!!this.localStorage.get(this.storageKey)},t.prototype.formatDate=function(t,e){void 0===e&&(e="M/D/Y h:m:s");var n=function(t){return("0"+String(t)).slice(-2)};return e.replace("Y",String(t.getFullYear())).replace("M",n(t.getMonth()+1)).replace("D",n(t.getDate())).replace("h",n(t.getHours())).replace("m",n(t.getMinutes())).replace("s",n(t.getSeconds()))},t.prototype.convertToUtcTime=function(t){var e=new Date(t+"+00:00");return isNaN(e.getDate())&&(e=new Date(t+" 00:00:00+00:00"),isNaN(e.getDate()))?new Date(t):e},t}())},function(t,e,n){"use strict";n.d(e,"j",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"i",function(){return i}),n.d(e,"d",function(){return p}),n.d(e,"q",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return m}),n.d(e,"l",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"m",function(){return f}),n.d(e,"r",function(){return A}),n.d(e,"k",function(){return C}),n.d(e,"g",function(){return O}),n.d(e,"n",function(){return E}),n.d(e,"p",function(){return P}),n.d(e,"b",function(){return D}),n.d(e,"f",function(){return x}),n.d(e,"o",function(){return B});var o,r,i,s,a="notclosablepaywall";(r=o||(o={})).localhost="localhost",r.dev="dev",r.test="test",r.test20="test20",r.demo="demo",r.stage="stage",r.preprod="preprod",r.prod="prod",(s=i||(i={}))[s.Free=1]="Free",s[s.Metered=2]="Metered",s[s.Premium=3]="Premium";var c,u,p={Premium:"PREMIUM",Upgrade:"UPGRADE",Purchase:"PURCHASE"},l={NotLoggedIn:"Logged Out",LoggedIn:"Logged In",NoActiveSubscription:"No Active Subscription",SubscribedNotEntitled:"Subscribed Not Entitled",Subscribed:"Subscribed"};(u=c||(c={}))[u.MG2=1]="MG2",u[u.Janrain=2]="Janrain",u[u.Auth0=4]="Auth0",u[u.Custom=5]="Custom",u[u.Newzware=6]="Newzware",u[u.Janrain_custom=7]="Janrain_custom",u[u.Auth0UniversalLogin=8]="Auth0UniversalLogin";var f,h,d,g,y,v,m={CloseButton:"closeButton",CloseSpan:"closeSpan",ClickOutside:"clickOutside",EscButton:"escButton",MoveToActivate:"moveToLinkStep",MoveToSuccess:"moveToSuccessStep",MoveToFail:"moveToErrorStep",AccessGranted:"accessGranted"},_={ActivationSuccess:"Activation success",ActivationFail:"Activation fail",RepeatedInit:"Repeated init",RunSettingsPromise:"Run settings promise",RunSettingsTimeout:"Run settings timeout",Login:"User login",Logout:"User logout",Init:"Default init flow",SuccessNewsletterSignUp:"Success Newsletter SignUp",GoogleLogin:"Google user login",GoogleRemain:"Google remain",GoogleSuccessPurchase:"Google success purchase"},b={ApplicationReload:"Connext::Application.reload",ApplicationReInit:"Connext::Application.reinit",ChangedUserProfile:"Connext::UserProfile.changed",ChangedUserData:"Connext::UserData.changed",TemplateShown:"Connext::Template.shown",TemplateClosed:"Connext::Template.closed",ActivationLogin:"Connext::Activation.login",ActivationRegister:"Connext::Activation.register",ActivationActivate:"Connext::Activation.activate",DeviceDetectorFail:"Connext::DeviceDetector.fail",StartInit:"Connext::Start.init",StartDebugSecureMode:"Connext::StartDebugSecureMode"};(h=f||(f={})).Banner="mg2bn",h.Modal="modal",h.InfoBox="info-box",h.Inline="inline",(g=d||(d={}))[g.Facebook=0]="Facebook",(v=y||(y={})).APICall="APICall",v.LoadConnext="LoadConnext";var C,w,A={ArticleCount:"ac",DeviceArticleCount:"ac_d",StartDate:"s",ActiveConvoId:"_acnv",MeterView:"_ac",DeviceMeterView:"_ac_d",ActionRepeatAfter:"rpt",ActionCount:"rtpc"};(w=C||(C={})).No="No",w.Current="Current",w.All="All";var I,S,O="9999-01-01",E="unknown",P=1e4;(S=I||(I={})).HideLoggedIn="hideloggedin",S.HideLoggedOut="hideloggedout",S.HideEntitled="hideentitled";var D={clientCode:"",apiUrl:"https://prod-newsday-proxy-connext.azurewebsites.net/",appInsightsKey:"1819964f-57a2-45c2-b878-c270d7e5d1d9"},x={Id:-1},B={clearUserStateParam:"clearUserState",authSystemParams:"authSystemParams",refreshUserDataCookieExpired:"refreshUserDataCookieExpired",userDataMismatch:"userDataMismatch",updateEveryPageload:"updateEveryPageload"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(23),r=function(){function t(){return o.a.applyProxy(this,"LocalStorage")}return t.prototype.isSupported=function(){var e;try{var t="isSupportedLocalStorageKey",n="isSupportedLocalStorageValue";localStorage.setItem(t,n),localStorage.getItem(t)===n&&(localStorage.removeItem(t),e=!0)}catch(t){e=!1}finally{return e}},t.prototype.get=function(t,e){void 0===e&&(e=!0);try{var n=localStorage.getItem(t);return e?JSON.parse(n):n}catch(t){return null}},t.prototype.set=function(t,e,n){var o;void 0===n&&(n=!0);try{var r=n?JSON.stringify(e):e;localStorage.setItem(t,r),o=!this.checkIsNullOrUndefined(this.get(t,n))}catch(t){o=!1}finally{return o}},t.prototype.delete=function(t){var e;try{localStorage.removeItem(t),e=!0}catch(t){e=!1}finally{return e}},t.prototype.clear=function(){var e;try{localStorage.clear(),e=!0}catch(t){e=!1}finally{return e}},t.prototype.getAllKeys=function(){var t=[];try{t=Object.keys(localStorage)}catch(t){}finally{return t}},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o,s=n(9);!function(e){var n,t,o,r;e.DeviceTypes={Desktop:"Desktop",Mobile:"Mobile",Tablet:"Tablet",Default:"Default"},(t=n=e.OSTypes||(e.OSTypes={})).IOS="IOS",t.windows="windows",t.android="android",t.blackberry="blackberry",t.fxos="fxos",(r=o=e.BrowserTypes||(e.BrowserTypes={})).Opera="Opera",r.Edge="Edge",r.Chrome="Chrome",r.Safari="Safari",r.Firefox="Firefox",r.IE="IE",r.Facebook="Facebook",r.unknown="unknown";var i=function(){function t(){this.userAgent=window.navigator.userAgent.toLowerCase()}return t.prototype.getDeviceType=function(){return this.mobile()?e.DeviceTypes.Mobile:this.tablet()?e.DeviceTypes.Tablet:this.desktop()?e.DeviceTypes.Desktop:void 0},t.prototype.getOS=function(){return this.ios()?n.IOS:this.windows()?n.windows:this.android()?n.android:this.blackberry()?n.blackberry:this.fxos()?n.fxos:void 0},t.prototype.getBrowser=function(){return-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?o.Opera:-1!==navigator.userAgent.indexOf("Edg")?o.Edge:-1!==navigator.userAgent.indexOf("Chrome")?o.Chrome:-1!==navigator.userAgent.indexOf("Safari")?o.Safari:-1!==navigator.userAgent.indexOf("Firefox")?o.Firefox:-1!==navigator.userAgent.indexOf("MSIE")||!0==!!document.documentMode?o.IE:-1<navigator.userAgent.indexOf("FBAN")||-1<navigator.userAgent.indexOf("FBAV")?o.Facebook:o.unknown},t.prototype.getUserMeta=function(){return{Browser:this.getBrowser(),OS:this.getOS(),deviceType:this.getDeviceType(),URL:Object(s.j)()}},t.prototype.find=function(t){return-1!==this.userAgent.indexOf(t)},t.prototype.ios=function(){return this.iphone()||this.ipod()||this.ipad()},t.prototype.iphone=function(){return!this.windows()&&this.find("iphone")},t.prototype.ipod=function(){return this.find("ipod")},t.prototype.ipad=function(){return this.find("ipad")},t.prototype.android=function(){return!this.windows()&&this.find("android")},t.prototype.androidPhone=function(){return this.android()&&this.find("mobile")},t.prototype.androidTablet=function(){return this.android()&&!this.find("mobile")},t.prototype.blackberry=function(){return this.find("blackberry")||this.find("bb10")||this.find("rim")},t.prototype.blackberryPhone=function(){return this.blackberry()&&!this.find("tablet")},t.prototype.blackberryTablet=function(){return this.blackberry()&&this.find("tablet")},t.prototype.windows=function(){return this.find("windows")},t.prototype.windowsPhone=function(){return this.windows()&&this.find("phone")},t.prototype.windowsTablet=function(){return this.windows()&&this.find("touch")&&!this.windowsPhone()},t.prototype.fxos=function(){return(this.find("(mobile;")||this.find("(tablet;"))&&this.find("; rv:")},t.prototype.fxosPhone=function(){return this.fxos()&&this.find("mobile")},t.prototype.fxosTablet=function(){return this.fxos()&&this.find("tablet")},t.prototype.meego=function(){return this.find("meego")},t.prototype.cordova=function(){return window.cordova&&"file:"===location.protocol},t.prototype.nodeWebkit=function(){return"object"==typeof window.process},t.prototype.mobile=function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()||this.meego()},t.prototype.tablet=function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},t.prototype.desktop=function(){return!this.tablet()&&!this.mobile()},t.prototype.isIOS=function(){return this.getOS()===n.IOS},t}();e.userAgent=new i}(o||(o={}))},,,function(t,e,n){"use strict";var o=n(2),r=n(350),i=n(17),s=n(275),a=function(){function t(){}return t.prototype.getUserDataByEncryptedMasterId=function(t){return r.a.get("user/encryptedMasterId?encryptedMasterId="+encodeURIComponent(t))},t.prototype.getUserDataByMasterId=function(t){return r.a.get("user/masterId/"+t)},t.prototype.deleteCachedUserData=function(){i.a.delete(o.e.ConnextUserData)},t.prototype.getActualDataOnDay=function(){return s.a.get(o.b.UserDataExpiration)},t.prototype.setActualDataOnDay=function(){s.a.set(o.b.UserDataExpiration,"actual",{daysOfLife:1})},t.prototype.removeActualDataOnDay=function(){s.a.delete(o.b.UserDataExpiration)},t.prototype.clearStorage=function(){this.removeActualDataOnDay(),this.deleteCachedUserData()},t}(),c=n(211),u=n(18);n.d(e,"a",function(){return p});var p=new(function(){function t(){this.repository=new a}return t.prototype.getUserData=function(t,e){switch(e){case c.e.Usual:return this.getUserDataByMasterId(t);case c.e.Encrypted:return this.getUserDataByEncryptedMasterId(t)}},t.prototype.getUserDataByEncryptedMasterId=function(t){return this.repository.getUserDataByEncryptedMasterId(t).then(function(t){return u.a.decrypt(t)})},t.prototype.getUserDataByMasterId=function(t){return this.repository.getUserDataByMasterId(t).then(function(t){return u.a.decrypt(t)})},t.prototype.hasIsActualData=function(){return!!this.getActualDataOnDay()},t.prototype.getActualDataOnDay=function(){return this.repository.getActualDataOnDay()},t.prototype.setActualDataOnDay=function(){this.repository.setActualDataOnDay()},t.prototype.removeActualDataOnDay=function(){this.repository.removeActualDataOnDay()},t.prototype.clearStorage=function(){this.repository.clearStorage()},t.prototype.logout=function(t){return r.a.post("user/logout",t)},t.className="Mg2Account",t}())},function(t,e,n){"use strict";var o={};n.r(o),n.d(o,"LTForgotPasswordSubStep",function(){return Jt}),n.d(o,"LTLoginSubStep",function(){return jt}),n.d(o,"LTRegistrationSubStep",function(){return zt});var r={};n.r(r),n.d(r,"SubscribeNewsletterSubStep",function(){return se}),n.d(r,"SuccessNewsletterSignUpSubStep",function(){return re});var i={};n.r(i),n.d(i,"RTLoginSubStep",function(){return me}),n.d(i,"RTRegistrationSubStep",function(){return we}),n.d(i,"RTAlreadyLoginSubStep",function(){return ye}),n.d(i,"RTForgotPasswordSubStep",function(){return Ie});var s={};n.r(s),n.d(s,"RPTSuccessResetPasswordSubStep",function(){return Re}),n.d(s,"RPTResetPasswordSubStep",function(){return ke});var a,c,u,p,l,f,h,d,g,y,v,m,_,b,C,w,A,I,S,O,E,P,D,x,B,U,R,L,T,F,k,V,N,M,j,G,Z,W=n(74),X=n(70),H=n(211),J=n(348),Q=n(9),K=n(340),Y=n(346),z=n(11),q=function(t,e){this.Email=t,this.ReturnUrl=e},$=function(){function t(t,e,n){this.options=n,this.selector=t,this.element=z.a.queryElement(this.selector),this.inputsRules=e}return t.prototype.clear=function(){this.form.clear()},t.prototype.show=function(){z.a.show(z.a.queryElement(this.selector,document))},t.prototype.submit=function(){return Promise.resolve(!0)},t.prototype.autoSubmit=function(t){return Promise.resolve(!0)},t.prototype.startSpinner=function(){this.loader.on()},t.prototype.stopSpinner=function(){this.loader.off()},t}(),tt=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),et=function(r){function t(t,e,n){var o=r.call(this,t,e,n)||this;return o.inputsRules=e||[{field:"Email",rules:[{name:H.f.Required,params:{}},{name:H.f.Email,params:{}}]}],o}return tt(t,r),t.prototype.submit=function(){var s=this;return new Promise(function(o,r){var i=(new K.a).find("ForgotPassword",s.element);s.form=new Y.a(s.selector,s.inputsRules),z.a.on(i,"click",function(t){t.preventDefault();var e=new J.a(i);if(s.form.validate()){e.on();var n=new q(s.form.getInputsData().Email,Object(Q.k)());s.sendData(n).then(function(){e.off(),s.form.hideServerErrors(),s.form.showSuccessMessage(),o()}).catch(function(t){e.off(),s.form.showServerErrors(t.ErrorMessage),s.form.hideSuccessMessage(),r(t)})}})})},t.prototype.sendData=function(t){return X.a.sendForgotPasswordRequest(t,this.options.api)},t}($),nt=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ot=function(r){function t(t,e,n){var o=r.call(this,t,e,n)||this;return o.inputsRules=e||[{field:"Email",rules:[{name:H.f.Required,params:{}},{name:H.f.Email,params:{}}]},{field:"Password",rules:[{name:H.f.Required,params:{}}]}],o}return nt(t,r),t.prototype.initForm=function(){this.form=new Y.a(this.selector,this.inputsRules),this.form.setInputAttrName(this.options.inputAttrName),this.autocompleteIfCan(this.form)},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("LogIn",this.element)},t.prototype.submit=function(){var r=this;return new Promise(function(n,t){var o=r.getSubmitElement();r.initForm(),z.a.on(o,"click",function(t){t.preventDefault();var e=new J.a(o);r.form.validate()&&(e.on(),r.sendData(r.form.getInputsData()).then(function(){r.successSubmit(e),n()}).catch(function(t){r.errorSubmit(t,e)}))})})},t.prototype.successSubmit=function(t){t.off(),this.form.hideServerErrors()},t.prototype.errorSubmit=function(t,e){e&&e.off();var n="GenericAuthFailed";t&&t.ErrorMessage&&(n=(n=t.ErrorMessage)?n.replace("Request Failed. Errors:","").trim():n,"UserName or Password invalid."===t.ErrorMessage&&(n=t.ErrorMessage+"Please try again or click on the Forgot/Reset Password link to update your password, or create an account if you have never registered an email address with us.")),this.form.showServerErrors(n)},t.prototype.autoSubmit=function(e){var n=this;return this.sendData(e).catch(function(t){return n.form||(n.initForm(),n.show()),n.autocompleteIfCan(n.form,e),n.errorSubmit(t),Promise.reject()})},t.prototype.sendData=function(t){return X.a.login(t.Email,t.Password,this.options.api)},t.prototype.autocompleteIfCan=function(t,e){e?(t.autocompleteInput("Email",e.Email),t.autocompleteInput("Password",e.Password)):t.autocompleteInput("Email",Object(Q.p)("email"))},t}($),rt=n(21),it=n(72),st=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),at=function(r){function t(t,e,n){var o=r.call(this,t,e,new rt.a(n))||this;return o.emailPreferences=[],o.emailPreferences=n.preferences,o.inputsRules=e||[{field:"Email",rules:[{name:H.f.Required,params:{}},{name:H.f.Email,params:{}}]}],o}return st(t,r),t.prototype.initForm=function(){this.form=new Y.a(this.selector,this.inputsRules),this.form.setInputAttrName(this.options.inputAttrName)},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("subscribe",this.element)},t.prototype.submit=function(){var o=this;return new Promise(function(e,t){var n=o.getSubmitElement();o.initForm(),z.a.on(n,"click",function(t){t.preventDefault(),o.loader=new J.a(n),o.form.validate()&&(o.startSpinner(),o.sendData(o.form.getInputsData()).then(function(){o.successSubmit(),e()}).catch(function(t){o.errorSubmit(t)}))})})},t.prototype.successSubmit=function(){this.stopSpinner(),this.form.hideServerErrors()},t.prototype.errorSubmit=function(t){this.stopSpinner();var e="Error! Empty result or no connection";t&&t.ErrorMessage&&(e=t.ErrorMessage),this.form.showServerErrors(e)},t.prototype.sendData=function(t){var e={Email:t.Email,EmailPreferences:this.emailPreferences};return it.a.getSubscribeNewsletters(e)},t}($),ct=n(325),ut=n(50),pt=n(341),lt=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ft=function(r){function t(t,e,n){var o=r.call(this,t,e,n)||this;return o.inputsRules=e||[{field:"Email",rules:[{name:H.f.Required,params:{}},{name:H.f.Email,params:{}}]},{field:"RepeatEmail",rules:[{name:H.f.Required,params:{}},{name:H.f.Equals,params:{matchField:"Email"}}]},{field:"Password",rules:[{name:H.f.Required,params:{}}]},{field:"RepeatPassword",rules:[{name:H.f.Required,params:{}},{name:H.f.Equals,params:{matchField:"Password"}}]},{field:"DisplayName",rules:[{name:H.f.Required,params:{}}]}],o}return lt(t,r),t.prototype.submit=function(){var r=this;return new Promise(function(n,t){var o=(new K.a).find("Register",r.element);r.show(),r.form=new Y.a(r.selector,r.inputsRules),r.form.setInputAttrName(r.options.inputAttrName),z.a.on(o,"click",function(t){if(t.preventDefault(),r.form.resetErrors(),r.loader=new J.a(o),r.form.validate()){r.loader.on();var e=r.form.getInputsData();r.sendData(e).then(function(){r.form.hideServerErrors(),r.loader.off(),n(e)}).catch(function(t){r.loader.off(),r.form.showServerErrors(t.ErrorMessage),ct.a.dispatch(ut.a.RegistrationError,t)})}else ct.a.dispatch(ut.a.RegistrationError,r.form.getErrors())})})},t.prototype.sendData=function(t){var e=new pt.a(t.Email,t.Password,t.DisplayName);return X.a.createUser(e,this.options.api)},t}($),ht=function(t,e){this.EncryptedEventId=t,this.NewPassword=e},dt=n(2),gt=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yt=function(r){function t(t,e,n){var o=r.call(this,t,e,n)||this;return o.inputsRules=e||[{field:"Password",rules:[{name:H.f.Required,params:{}}]},{field:"RepeatPassword",rules:[{name:H.f.Required,params:{}},{name:H.f.Equals,params:{matchField:"Password"}}]}],o}return gt(t,r),t.prototype.submit=function(){var o=this;return new Promise(function(e,t){var n=o.getSubmitElement();o.initForm(),z.a.on(n,"click",function(t){t.preventDefault(),o.loader=new J.a(n),o.form.validate()&&(o.loader.on(),o.sendData(o.form.getInputsData()).then(function(t){o.form.hideServerErrors(),o.loader.off(),e(t)}).catch(function(t){o.loader.off(),o.form.showServerErrors(t.ErrorMessage),ct.a.dispatch(ut.a.ResetPasswordError,t)}))})})},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("ResetPassword",this.element)},t.prototype.initForm=function(){this.form=new Y.a(this.selector,this.inputsRules),this.form.setInputAttrName(this.options.inputAttrName)},t.prototype.sendData=function(t){var e=new ht(Object(Q.p)(dt.g.Encryptedeventid),t.Password);return X.a.resetPassword(e,this.options.api)},t}($),vt=n(26),mt=n(0),_t=n(137),bt=n(140),Ct=n(326),wt=n(331),At=function(){function t(t){this.templateSettings=t,!this.templateSettings||this.templateSettings&&!this.templateSettings.Html?_t.a.warn("Template is not marked"):this.createTemplate()}return t.prototype.getTemplate=function(){return this.template},t.prototype.processStep=function(t){this.activeStep=t;var e=this.activeStep.stepAttrName;this.hideAllSteps("["+e+"]"),this.template.setWidth(this.activeStep.getStepWidth()),this.activeStep.process()},t.prototype.updateActiveStep=function(t){this.activeStep=t},t.prototype.setWidth=function(t){this.template.setWidth(t)},t.prototype.showTemplate=function(){this.template.beforeShow(),this.template.show();var t=this.template.getElement();z.a.on(t,vt.h.TemplateShown,this.templateShowAction.bind(this)),z.a.on(t,vt.h.TemplateClosed,this.templateCloseAction.bind(this));var e=Ct.a.get(wt.a.SwGInstance);e&&e.SwG.renderButtons(t),this.template.afterShow()},t.prototype.removeListeners=function(){var t=this.template.getElement();z.a.off(t,vt.h.TemplateClosed,this.templateCloseAction),z.a.off(t,vt.h.TemplateShown,this.templateShowAction)},t.prototype.closeTemplate=function(t){this.removeListeners(),this.template.hide()},t.prototype.createTemplate=function(){if(this.template=bt.a.getInstance().createTemplate(this.templateSettings),this.template)return this.template;_t.a.warn(this.name+"Template","No Html in Template")},t.prototype.hideAllSteps=function(t){var e=z.a.find(t,this.template.getElement());Object(mt.each)(e,function(t){z.a.hide(t)})},t.prototype.templateShowAction=function(t){},t.prototype.templateCloseAction=function(t){var e={CloseEvent:t&&t.detail?t.detail.closeEvent:"",ActivateStatus:null};this.activeStep.close(e),this.afterCloseActions(e)},t.prototype.afterCloseActions=function(t){},t.prototype.process=function(){},t.prototype.getActiveStep=function(){return this.activeStep},t}(),It=n(15),St=n(7),Ot=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Activation",t}return Ot(t,e),t.prototype.showTemplate=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;e.prototype.showTemplate.call(this),this.template.setId("ConneXt_Authentication-Activation"),this.templateSettings.NotClosable&&z.a.remove(z.a.find('.connext-actflow-close-wrapper, [data-nxt-role="close"]',this.template.getElement()))},t.prototype.templateShowAction=function(t){ct.a.dispatch(ut.a.ActivationFormShown,null)},t.prototype.afterCloseActions=function(t){It.a.stopActivationFlow(),St.a.isLogin()&&!It.a.getLoginEndFlowStatus()&&(It.a.setLoginEndFlowStatus(!0),ct.a.dispatch(vt.h.ApplicationReload,vt.l.Login))},t}(At),Pt=n(84),Dt=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xt=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="CookiesPrivacy",e.create(),e}return Dt(t,n),t.prototype.process=function(){this.show()},t}(Pt.a),Bt=n(240),Ut=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="CookiesPrivacy",t}return Ut(t,e),t.prototype.process=function(){if(!Bt.a.isCheckCookiesPrivacy()){this.showTemplate();var t=new xt(this);this.processStep(t)}},t.prototype.templateShowAction=function(t){},t.prototype.templateCloseAction=function(t){Bt.a.setCookiesPrivacy(!0)},t}(At),Lt=n(339),Tt=n(83),Ft=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kt=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e}return Ft(t,n),t}(Tt.a),Vt=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nt=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:["data-nxt-input","data-mg2-input"],submitSelector:"[data-mg2-submit=login], [data-mg2-submit=LogIn], [data-nxt-button=LogIn]"}),e.setSubStepData(Ge.getLoginSubStepInformation()),e.create(),e}return Vt(t,n),t.prototype.submitForm=function(){return this.show(),this.form=Ge.getLoginForm(this.getSelector(),null,this.formOptions),this.form.submit()},t.prototype.process=function(){this.submitForm()},t.prototype.autologin=function(t){return Ge.getLoginForm(this.getSelector(),null,this.formOptions).autoSubmit(t)},t}(kt),Mt=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:["data-nxt-input","data-mg2-input"],submitSelector:"[data-mg2-submit=login], [data-mg2-submit=LogIn], [data-nxt-button=LogIn]"}),t}return Mt(t,e),t}(Nt),Gt=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zt=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="Authenticate",e.stepWidth=420,e.create(),e}return Gt(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new Nt(this)]),this.processActiveSubsteps()},t}(Pt.a),Wt=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xt=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(Ge.getForgotPasswordSubStepInformation()),e.create(),e}return Wt(t,n),t.prototype.process=function(){var t=this;this.show(),this.form=Ge.getForgotPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(){t.successSubStepStepAction()}).catch(function(t){_t.a.log("Forgot password","error",t)})},t.prototype.successSubStepStepAction=function(){this.nextSubStep&&this.nextSubStep.process()},t}(kt),Ht=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:"data-mg2-input",submitSelector:"[data-mg2-submit=login]"}),t}return Ht(t,e),t}(Xt),Qt=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kt=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(Ge.getRegistrationSubStepInformation()),e.create(),e}return Qt(t,n),t.prototype.process=function(){var e=this;try{this.show(),this.form=Ge.getRegistrationForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(t){e.processData=t,e.successSubStepStepAction()})}catch(t){ct.a.dispatch(ut.a.ResetPasswordError,t)}},t}(kt),Yt=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.successSubStepStepAction=function(){var t=this;this.form.startSpinner();var e=new jt(this.parentStep);this.parentStep.setActiveSubsteps([e]),e.autologin(this.processData).always(function(){t.form.stopSpinner(),t.hide()})},e}(Kt),qt=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$t=function(n){function t(t){var e=n.call(this,t)||this;return e.setProcessSubSteps(o),e}return qt(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new jt(this)]),this.processActiveSubsteps()},t}(Zt),te=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Login",t}return te(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;this.showTemplate();var t=new $t(this);this.processStep(t)},t.prototype.showTemplate=function(){e.prototype.showTemplate.call(this),this.template.setId("ConneXt_Authentication-Login");var t=this.template.getElement();X.a.processLinks(t)},t.prototype.templateShowAction=function(t){ct.a.dispatch(ut.a.LoginShown,this.templateSettings.Name)},t.prototype.templateCloseAction=function(t){var e=t&&t.detail?t.detail.closeEvent:"";ct.a.dispatch(ut.a.LoginClosed,e)},t}(At),ne=n(25),oe=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),re=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessNewsletterSignUp",e.create(),e}return oe(t,n),t.prototype.process=function(){this.show()},t}(Tt.a),ie=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),se=function(o){function t(t,e){var n=o.call(this,t)||this;return n.newsletterFormOptions={api:{location:Lt.a.Newsletter},inputAttrName:"data-nxt-input",submitSelector:"[data-nxt-button=subscribe]",preferences:[]},n.subStepName="SubscribeNewsletter",n.create(),n.newsletterFormOptions.preferences=e,n}return ie(t,o),t.prototype.submitForm=function(){var t=this;this.show(),this.form=Ge.getNewsletterForm(this.getFormSelector(),null,this.newsletterFormOptions),this.form.submit().then(function(){t.hide(),t.processSubStep(new re(t.parentStep))})},t.prototype.process=function(){this.submitForm()},t.prototype.getFormSelector=function(){var t=this.parentStep.getTemplateStepsGroup().getTemplate().getElement(),e="data-uniqId",n=ne.a.get().valueOf();return t.setAttribute(e,n+""),"["+e+'="'+n+'"]'},t}(Tt.a),ae=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ce=function(o){function t(t,e){var n=o.call(this,t)||this;return n.subscribePreferences=[],n.setProcessSubSteps(r),n.stepName="Newsletter",n.create(),n.subscribePreferences=e,n}return ae(t,o),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new se(this,this.subscribePreferences)]),this.processActiveSubsteps()},t}(Pt.a),ue=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pe=function(o){function t(t,e){var n=o.call(this,t)||this;return n.name="Newsletter",n.preferences=[],n.preferences=e,n}return ue(t,o),t.prototype.process=function(){this.showTemplate(),this.processStep(new ce(this,this.preferences))},t}(At),le=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fe=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e.create(),e}return le(t,n),t}(kt),he=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),de=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="LoginSuccess",e.create(),e}return he(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.RegistrationSuccessLogin,null),setTimeout(function(){It.a.stopRegistrationProcess(),ct.a.dispatch(vt.h.ApplicationReload,vt.l.Login)},3e3)},t}(fe),ge=(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ye=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="AlreadyLogin",e.create(),e}return ge(t,n),t.prototype.process=function(){this.show();var t=z.a.queryElement(".data-nxt-loggin-email"),e=St.a.getEmail();t&&z.a.text(t,e)},t}(fe),ve=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e.prototype.process=function(){var t=this;St.a.isLogin()?this.processSubStep(new ye(this.parentStep)):this.submitForm().then(function(){t.hide(),t.processSubStep(new de(t.parentStep))})},e}(Nt),_e=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),be=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessRegistration",e.create(),e}return _e(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.RegistrationSuccessRegister,null),setTimeout(function(){It.a.stopRegistrationProcess(),X.a.onRegistrationSuccess()},3e3)},t}(fe),Ce=(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),we=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ce(e,t),e.prototype.successSubStepStepAction=function(){var t=this,e=new me(this.parentStep);this.parentStep.setActiveSubsteps([e]),e.autologin(this.processData).then(function(){t.parentStep.setActiveSubsteps([new be(t.parentStep)]),t.parentStep.processActiveSubsteps()}).always(function(){t.form.stopSpinner(),t.hide()})},e}(Kt),Ae=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ae(e,t),e}(Xt),Se=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oe=function(n){function t(t){var e=n.call(this,t)||this;return e.setProcessSubSteps(i),e}return Se(t,n),t.prototype.process=function(){this.show(),this.hideAllSubsteps(),this.calculateActiveSubStep()},t}(Zt),Ee=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Registration",t}return Ee(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;It.a.startRegistrationProcess(),this.showTemplate(),this.template.setId("ConneXt_Authentication-Registration"),this.processStep(new Oe(this))},t.prototype.templateShowAction=function(t){ct.a.dispatch(ut.a.RegistrationShown,null)},t.prototype.afterCloseActions=function(t){It.a.stopRegistrationProcess(),ct.a.dispatch(ut.a.RegistrationClosed,t)},t}(At),De=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xe=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new rt.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e.create(),e}return De(t,n),t}(kt),Be=n(133),Ue=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Re=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessResetPassword",e.create(),e}return Ue(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.ResetPasswordSuccess,null),setTimeout(function(){var t=Object(Q.p)(dt.g.ReturnUrl);Be.a.redirectToPage(t)},3e3)},t}(xe),Le=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Te=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(Ge.getResetPasswordSubStepInformation()),e.create(),e}return Le(t,n),t.prototype.process=function(){var e=this;try{this.show(),this.form=Ge.getResetPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(t){e.processData=t,e.successSubStepStepAction()})}catch(t){ct.a.dispatch(ut.a.RegistrationError,t)}},t}(kt),Fe=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fe(e,t),e.prototype.successSubStepStepAction=function(){this.parentStep.setActiveSubsteps([new Re(this.parentStep)]),this.parentStep.processActiveSubsteps(),this.form.stopSpinner(),this.hide()},e}(Te),Ve=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ne=function(n){function t(t){var e=n.call(this,t)||this;return e.setProcessSubSteps(s),e}return Ve(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new ke(this)]),this.processActiveSubsteps()},t}(Zt),Me=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="ResetPassword",t}return Me(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;this.showTemplate(),this.template.setId("ConneXt_Authentication-Reset_Password"),this.processStep(new Ne(this))},t}(At);n.d(e,"a",function(){return Ge});var Ge=new(function(){function t(){}return t.prototype.getLoginForm=function(t,e,n){return new ot(t,e,n)},t.prototype.getRegistrationForm=function(t,e,n){return new ft(t,e,n)},t.prototype.getForgotPasswordForm=function(t,e,n){return new et(t,e,n)},t.prototype.getNewsletterForm=function(t,e,n){return new at(t,e,n)},t.prototype.getResetPasswordForm=function(t,e,n){return new yt(t,e,n)},t.prototype.getLoginTemplate=function(){return new ee(W.a.getLoginTemplate())},t.prototype.getActivationTemplate=function(t){return new Et(t)},t.prototype.getRegistrationTemplate=function(){return new Pe(W.a.getRegistrationTemplate())},t.prototype.getResetPasswordTemplate=function(){return new je(W.a.getResetPasswordTemplate())},t.prototype.getLoginSubStepInformation=function(){return{Name:"Login",Width:420,LinkAttrName:"GoToLogIn"}},t.prototype.getRegistrationSubStepInformation=function(){return{Name:"Registration",Width:420,LinkAttrName:"GoToRegister"}},t.prototype.getForgotPasswordSubStepInformation=function(){return{Name:"ForgotPassword",Width:420,LinkAttrName:"GoToForgotPassword"}},t.prototype.getResetPasswordSubStepInformation=function(){return{Name:"ResetPassword",Width:420,LinkAttrName:""}},t.prototype.getCookiesPrivacyTemplate=function(){var t=W.a.getCookiesPrivacyTemplate();return t&&t.Html?new Rt(t):null},t.prototype.getNewsletterTemplate=function(t,e){return t&&t.Html?new pe(t,e):null},t}())},,,function(t,e,n){"use strict";n.r(e),n.d(e,"SearchOptions",function(){return o});var o={ActivateByAccountNumber:"ActivateByAccountNumber",ActivateByZipCodeAndHouseNumber:"ActivateByZipCodeAndHouseNumber",ActivateByZipCodeAndPhoneNumber:"ActivateByZipCodeAndPhoneNumber",ActivateBySubscriptionId:"ActivateBySubscriptionId",ActivateByConfirmationNumber:"ActivateByConfirmationNumber"}},,function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateSubStep",function(){return c});var o,r=n(81),i=n(326),s=n(331),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(n){function t(t){var e=n.call(this,t)||this;return e.activation=i.a.get(s.a.ActivationInstance),e}return a(t,n),t}(r.ActivationSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateBy",function(){return r});var o=n(0),r=function(){function t(t){}return t.prototype.canLink=function(){var e=this,t=Object(o.keys)(this);return Object(o.every)(t,function(t){return!!e[t]})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(9),r=function(t){this.expandKey=!0,this.isSecureValue=!0,this.isJson=!0,t&&(this.expandKey=Object(o.t)(t.expandKey)?t.expandKey:this.expandKey,this.isSecureValue=Object(o.t)(t.isSecureValue)?t.isSecureValue:this.isSecureValue,this.isJson=Object(o.t)(t.isJson)?t.isJson:this.isJson)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),i=n(25),o=n(27),s=new(function(){function t(){this.safariCookieMaxAge=6048e5,this.prefix="Cookie_",this.localStorage=new o.a}return t.prototype.dublicateCookieToLocalStorageIfItNeed=function(t,e,n){if(!this.isDublicateToLocalStorage(t,e,n)||""==e)return this.localStorage.delete(this.prefix+t),!1;var o=Object(r.extend)({},n);o.key=t,o.value=e,this.localStorage.set(this.prefix+t,o)},t.prototype.dublicateLocalStorageToCookieIfItNeed=function(e){if(!this.isDublicateToCookie(e))return!1;var t,n;try{t=this.getStoredValue(e),n=new Date(t.expires)}catch(t){return this.localStorage.delete(this.prefix+e),!1}return this.isOutDatedLocalStorage(n)?(this.localStorage.delete(this.prefix+e),!1):(document.cookie=this.stringifyAttributes(t),!0)},t.prototype.getStoredValue=function(t){return this.localStorage.get(this.prefix+t)},t.prototype.removeLocalStorageDublicate=function(t){this.localStorage.delete(this.prefix+t)},t.prototype.isDublicateToCookie=function(t){return!0},t.prototype.isDublicateToLocalStorage=function(t,e,n){if(this.isDublicateToCookie(t)){var o=n.expires?new Date(n.expires):i.a.get();return this.isDublicateSafari(o)}return!1},t.prototype.isDublicateSafari=function(t){return t.getTime()>i.a.get().getTime()+this.safariCookieMaxAge},t.prototype.stringifyAttributes=function(t){var e=t.key+"="+t.value;for(var n in delete t.key,delete t.value,t)t[n]&&(e+="; "+n,!0!==t[n]&&(e+="="+t[n]));return e},t.prototype.isOutDatedLocalStorage=function(t){return i.a.get().getTime()>=t.getTime()},t}())},,,function(t,e,n){var o,r,c;t.exports=(o=n(6),c=(r=o).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,o=this._map;t.clamp();for(var r=[],i=0;i<n;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)r.push(o.charAt(s>>>6*(3-a)&63));var c=o.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var r=0;r<n.length;r++)o[n.charCodeAt(r)]=r}var i=n.charAt(64);if(i){var s=t.indexOf(i);-1!==s&&(e=s)}return function(t,e,n){for(var o=[],r=0,i=0;i<e;i++)if(i%4){var s=n[t.charCodeAt(i-1)]<<i%4*2,a=n[t.charCodeAt(i)]>>>6-i%4*2;o[r>>>2]|=(s|a)<<24-r%4*8,r++}return c.create(o,r)}(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(t,e,n){"use strict";var o=n(9),i=n(326),s=n(331),r=n(11),a=n(50),c=n(329),u=n(330),p=n(13),l=n(137),f=n(325),h=n(26),d=n(0),g=n(65),y=function(){function t(t){this.environment="prod",this.resourceUrl="https://cdn.czx5eyk0exbhwp43ya.biz/prod/",this.clientCode=h.b.clientCode,this.apiUrl=h.b.apiUrl,this.appInsightsKey=h.b.appInsightsKey,this.batchCount=3,this.ViewsUpdateFromServerPeriod=24,this.ConversationPromiseTimeout=5e3,this.ActionPromiseTimeout=5e3,this.DynamicMeterPromiseTimeout=5e3,this.userAuthenticationTime=45,this.userIgmAuthTime=1,this.runExternally=!1,this.tracingSettings={TraceLevel:g.a.Fatal.Level,DebugTraceExpirationSettings:{Duration:10,StopAfter:null,ConfigCode:null}},this.configCode=new String(t.configCode).toUpperCase(),this.siteCode=new String(t.siteCode).toUpperCase(),this.debug=t.debug,this.pluginStartTime=new Date,this.productCode=Object(o.p)("productCode"),this.integrateFlittz=t.integrateFlittz||!1,this.silentmode=this.getSilentmode(t),this.clientCode=t.clientCode||this.clientCode,this.apiUrl=this.buildApiUrl(t),this.loadType=t.loadType||"ajax",this.runSettings=t.runSettings,this.settingsKey=t.settingsKey||null,this.environment=t.environment||"prod",this.configSettings=t.configSettings||this.configSettings,this.resourceUrl=this.buildResourceUrl(t),this.appInsightsKey=t.appInsightsKey||(-1===this.appInsightsKey.indexOf("__appInsightsKey__")?this.appInsightsKey:"a57959cf-5e4d-4ab3-8a3e-d17f7e2a8bf8"),this.authSettings=t.authSettings,this.batchCount=t.batchCount||this.batchCount,this.ViewsUpdateFromServerPeriod=t.ViewsUpdateFromServerPeriod||this.ViewsUpdateFromServerPeriod,this.ConversationPromiseTimeout=t.ConversationPromiseTimeout||this.ConversationPromiseTimeout,this.ActionPromiseTimeout=t.ActionPromiseTimeout||this.ActionPromiseTimeout,this.DynamicMeterPromiseTimeout=t.DynamicMeterPromiseTimeout||this.DynamicMeterPromiseTimeout,this.attr=t.attr,this.userAuthenticationTime=t.userAuthenticationTime||this.userAuthenticationTime,this.userIgmAuthTime=t.userIgmAuthTime||this.userIgmAuthTime,this.publicEventHandlers=t.publicEventHandlers,this.sessionId=t.sessionId,this.tracingSettings.TraceLevel=t.traceLevel&&g.a[t.traceLevel]?g.a[t.traceLevel].Level:this.tracingSettings.TraceLevel,this.tracingSettings.DebugTraceExpirationSettings=t.debugTraceExpirationSettings?t.debugTraceExpirationSettings:this.tracingSettings.DebugTraceExpirationSettings,this.articleIdProvider=t.articleIdProvider,this.externalMigrationCode=t.externalMigrationCode||null}return t.prototype.getSilentmode=function(t){return!!this.integrateFlittz||t.silentmode},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.buildApiUrl=function(t){return t.apiUrl=t.apiUrl||this.apiUrl,null!=t.apiUrl&&""!==t.apiUrl&&null!=t.clientCode&&""!==t.clientCode&&(t.apiUrl=t.apiUrl.replace(/\[clientCode\]/gi,t.clientCode.toLowerCase())),t.apiUrl},t.prototype.buildResourceUrl=function(t){var e=t.resourceUrl||this.resourceUrl;return e.endsWith("/")||(e+="/"),e.toLowerCase().endsWith(this.environment.toLowerCase()+"/")||(e+=this.environment.toLowerCase()+"/"),e},t}(),v=n(17),m=n(2),_=function(){function t(){}return t.prototype.setStartLoadPlugin=function(){v.a.set(m.e.StartLoadPlugin,Date.now())},t.prototype.getStartLoadPlugin=function(){return v.a.get(m.e.StartLoadPlugin)},t.prototype.deleteStartLoadPlugin=function(){v.a.delete(m.e.StartLoadPlugin)},t.prototype.getToogleDebugMode=function(){return v.a.get(m.e.DebugMode)},t.prototype.setToogleDebugMode=function(t){v.a.set(m.e.DebugMode,t)},t.prototype.deleteToogleDebugMode=function(){v.a.delete(m.e.DebugMode)},t}();n.d(e,"a",function(){return C});var b="AppOptions",C=new(function(){function t(){this.options={},this.defaultRunOffsetTime=5e3,this.optionsRepository=new _}return t.prototype.processingData=function(t){this.set(t),"localhost"!==window.location.hostname&&(n.p=this.options.resourceUrl+(this.options.clientCode||o.C)+"/"),this.checkRequirements(),this.subscribePublicEvents()},t.prototype.set=function(t){this.options=new y(t),i.a.set(s.a.FirstRunExecuted,!1),i.a.set(s.a.IsInitFinished,!1),i.a.set(s.a.AppOptions,this)},t.prototype.getOptions=function(){return this.options},t.prototype.get=function(t){return this.options[t]},t.prototype.getEnvironment=function(t){return(h.e[t]?t:h.e.prod).toLowerCase()},t.prototype.getDebugMode=function(){var t=this.optionsRepository.getToogleDebugMode();return Object(o.t)(t)?t:this.options[s.a.Debug]},t.prototype.getSettingsKey=function(){return this.options.settingsKey},t.prototype.subscribePublicEvents=function(){Object(d.each)(this.options.publicEventHandlers,function(t,e){f.a.subscribe(e,t)})},t.prototype.checkRequirements=function(){var e="checkRequirements";l.a.log(b,e,"Checking requirements...",this.options);try{if(!this.options.siteCode)throw new c.a(u.a.LOAD_ERRORS.siteCode);if(!this.options.configCode)throw new c.a(u.a.LOAD_ERRORS.configCode);this.checkRunSettings(this.options.runSettings),this.defineDomPropertyForDevice()}catch(t){t.custom?l.a.warn(t.message):l.a.error(b,e,"The settings error",t)}},t.prototype.checkRunSettings=function(t){var e="checkRunSettings";t&&(l.a.log(b,e,"Run settings have been found",t),this.options.silentmode=!0,l.a.log(b,e,"If we have run settings - we set up silent mode in true",this.options),t.runPromise&&Object(d.isFunction)(t.runPromise.then)?(t.hasValidPromise=!0,Object(d.isFunction)(t.onRunPromiseResolved)||(t.onRunPromiseResolved=Object(d.noop)()),Object(d.isFunction)(t.onRunPromiseRejected)||(t.onRunPromiseRejected=Object(d.noop)())):(t.hasValidPromise=!1,l.a.log(b,e,"No or invalid promise object in the 'runSettings'")),Object(d.isNumber)(t.runOffset)||(l.a.log(b,e,"We have not run offset, so we set the 'runSettings.runOffset' by default",this.defaultRunOffsetTime),t.runOffset=this.defaultRunOffsetTime))},t.prototype.setPublishSettings=function(t){this.options.publishData=t},t.prototype.getPublishSettings=function(){return this.options.publishData},t.prototype.getPublishDate=function(){var t=this.getPublishSettings();return t&&t.publishSettings?t.publishSettings.Date:null},t.prototype.getIsInitFinished=function(){return i.a.get(s.a.IsInitFinished)},t.prototype.hasRunSettings=function(){return this.options.runSettings},t.prototype.clearRunTimeout=function(){clearTimeout(i.a.get(s.a.RunTimeout))},t.prototype.setupDeferredRun=function(){var r=this;return new Promise(function(e,t){var n="setupDeferredRun";l.a.log(b,n,"Setup run settings",r.options.runSettings);try{r.options.runSettings.hasValidPromise&&(l.a.log(b,n,"Setup run settings promise"),r.options.runSettings.runPromise.then(function(t){i.a.get(s.a.FirstRunExecuted)||(r.options.runSettings.onRunPromiseResolved(t),e(h.l.RunSettingsPromise)),r.clearRunTimeout(),l.a.log(b,n,"Promise has been resolved",t)},function(t){i.a.get(s.a.FirstRunExecuted)||(r.options.runSettings.onRunPromiseRejected(t),e(h.l.RunSettingsPromise)),r.clearRunTimeout(),l.a.log(b,n,"Promise has been rejected",t)}),l.a.log(b,n,"Promise has been setup",r.options.runSettings)),l.a.log(b,n,"Setup run settings timeout");var o=setTimeout(function(){i.a.get(s.a.FirstRunExecuted)||e(h.l.RunSettingsTimeout),l.a.log(b,n,"Timeout has been expired")},r.options.runSettings.runOffset);i.a.set(s.a.RunTimeout,o)}catch(t){l.a.error(b,n,"Setup run settings",t),i.a.get(s.a.FirstRunExecuted)||e()}})},t.prototype.defineDomPropertyForDevice=function(){var t=p.a.getDeviceType(),e=r.a.queryElement("body");l.a.log("Device type is "+t),r.a.addClass(e,t.toLowerCase()),p.a.isIOS()&&r.a.addClass(e,"ios-fix-body-styles")},t.prototype.updateProductCodeFromConfig=function(t){t&&t.DefaultProduct&&(this.options.productCode||(this.options.productCode=t.DefaultProduct))},t.prototype.finishInit=function(){i.a.set(s.a.IsInitFinished,!0),f.a.dispatch(a.a.Init,null)},t.prototype.getProductCode=function(){return this.options.productCode},t.prototype.getStartLoadPlugin=function(){return this.optionsRepository.getStartLoadPlugin()},t.prototype.deleteStartLoadPlugin=function(){return this.optionsRepository.deleteStartLoadPlugin()},t.prototype.getConfigCode=function(){return this.options.configCode},t.prototype.setConfigCode=function(t){this.options.configCode=t},t.prototype.getSiteCode=function(){return this.options.siteCode},t.prototype.setSiteCode=function(t){this.options.siteCode=t},t.prototype.getResourceUrl=function(){return this.options.resourceUrl},t.prototype.getSessionId=function(){return this.options.sessionId},t.prototype.setSessionId=function(t){this.options.sessionId},t.prototype.getTraceLevel=function(){return this.options&&this.options.tracingSettings?this.options.tracingSettings.TraceLevel:0},t.prototype.getDebugTraceExpirationSettings=function(){return this.options.tracingSettings.DebugTraceExpirationSettings},t.prototype.setDebugMode=function(t){this.optionsRepository.setToogleDebugMode(t),location.reload()},t.prototype.resetManualDebugMode=function(){this.optionsRepository.deleteToogleDebugMode(),location.reload()},t.prototype.getClientCode=function(){return this.options.clientCode==h.b.clientCode?null:this.options.clientCode},t.prototype.getAttribute=function(){return this.options.attr||null},t.prototype.getParamsToGenerateUrl=function(){return{ResourceUrl:this.getResourceUrl(),ClientCode:this.getClientCode(),SiteCode:this.getSiteCode(),ConfigCode:this.getConfigCode()}},t.prototype.getRunExternally=function(){return this.options.runExternally},t.prototype.setRunExternally=function(t){this.options.runExternally=t},t.prototype.getArticleIdProvider=function(){return this.options.articleIdProvider},t.prototype.getExternalMigrationCode=function(){return this.options.externalMigrationCode},t.prototype.isIntegrateDisqus=function(){return this.options.integrateDisqus},t.prototype.getAuthSettings=function(){return this.options.authSettings},t}())},,function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={Cookies:"cookies",LocalStorage:"localStorage"}},,,function(t,e,n){var o,r,i,s,a,u,c;t.exports=(o=n(6),i=(r=o).lib,s=i.Base,a=r.enc,u=a.Utf8,c=r.algo,void(c.HMAC=s.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=u.parse(e));var n=t.blockSize,o=4*n;e.sigBytes>o&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),i=this._iKey=e.clone(),s=r.words,a=i.words,c=0;c<n;c++)s[c]^=1549556828,a[c]^=909522486;r.sigBytes=i.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var o=e.finalize(this._oKey.clone().concat(n));return o}})))},function(t,e,n){"use strict";var o,r;n.d(e,"a",function(){return o}),(r=o||(o={})).Init="onInit",r.Run="onRun",r.Finish="onFinish",r.DynamicMeterFound="onDynamicMeterFound",r.MeterLevelSet="onMeterLevelSet",r.CampaignFound="onCampaignFound",r.ConversationDetermined="onConversationDetermined",r.ConversationExpired="onConversationExpired",r.AdblockFound="onAdblockFound",r.NotAuthorized="onNotAuthorized",r.Authorized="onAuthorized",r.LoggedIn="onLoggedIn",r.HasAccess="onHasAccess",r.HasAccessNotEntitled="onHasAccessNotEntitled",r.HasNoActiveSubscription="onHasNoActiveSubscription",r.AnyAccountStatusEvent="onAnyAccountStatusEvent",r.ActionShow="onActionShown",r.ActionClosed="onActionClosed",r.ButtonClick="onButtonClick",r.NewsdayButtonClick="onNewsdayButtonClick",r.PaywallShown="onPaywallShown",r.FlittzPaywallShown="onFlittzPaywallShown",r.FlittzPaywallClosed="onFlittzPaywallClosed",r.FlittzButtonClick="onFlittzButtonClick",r.LoginShown="onLoginShown",r.LoginClosed="onLoginClosed",r.LoginSuccess="onLoginSuccess",r.LoginError="onLoginError",r.ActivationFormShown="onActivationFormShown",r.ActivationLoginStepShown="onActivationLoginStepShown",r.ActivationLoginStepClosed="onActivationLoginStepClosed",r.ActivationLinkStepShown="onActivationLinkStepShown",r.ActivationLinkStepClosed="onActivationLinkStepClosed",r.ActivationLinkStepSubmitted="onActivationLinkStepSubmitted",r.ActivationLinkSuccessStepShown="onActivationLinkSuccessStepShown",r.ActivationLinkSuccessStepClosed="onActivationLinkSuccessStepClosed",r.ActivationLinkErrorStepShown="onActivationLinkErrorStepShown",r.ActivationLinkErrorStepClosed="onActivationLinkErrorStepClosed",r.ActivationFormClosed="onActivationFormClosed",r.ActivationExpiredSubscriptionStepShown="onActivationExpiredSubscriptionStepShown",r.ActivationExpiredSubscriptionStepClosed="onActivationExpiredSubscriptionStepClosed",r.AccessTemplateShown="onAccessTemplateShown",r.AccessTemplateClosed="onAccessTemplateClosed",r.AccessGranted="onAccessGranted",r.AccessDenied="onAccessDenied",r.LoadError="onLoadError",r.CriticalError="onCriticalError",r.NewsletterArrival="onNewsletterArrival",r.ViewsAutoReset="onViewsAutoReset",r.ActionNotFound="onActionNotFound",r.ConversationNotFound="onConversationNotFound",r.NewsletterUpdateResolved="mg2nw_preferences_succeed_e",r.NewsletterSignUp="onNewsletterSignUp",r.NewsletterSignUpFails="onNewsletterSignUpFails",r.RegistrationShown="onRegistrationShown",r.RegistrationError="onRegistrationError",r.RegistrationSuccess="onRegistrationSuccess",r.RegistrationSuccessRegister="onRegistrationSuccessRegister",r.RegistrationSuccessLogin="onRegistrationSuccessLogin",r.RegistrationClosed="onRegistrationClosed",r.ResetPasswordError="onResetPasswordError",r.ResetPasswordSuccess="onResetPasswordSuccess",r.ABCookieSet="onABCookieSet",r.ABCookieFail="onABCookieFail",r.ActivationAccountCreated="onActivationAccountCreated",r.GenericError="GenericError",r.JsCallFired="onJsCallFired",r.GoogleSignInChanged="onGoogleSignInChanged",r.GoogleSignInSuccess="onGoogleSignInSuccess",r.GoogleSignInFailure="onGoogleSignInFailure",r.ChangedDeviceId="onChangedDeviceId",r.NxtError="onNxtError",r.CustomTrackedEvent="nxt_customTrackedEvent"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(275),r=n(350),i=n(2),s=new(function(){function t(){}return t.prototype.getAccessBySavedCode=function(){var t=o.a.get(i.e.AllowUseCode,{isSecureValue:!0});return t?JSON.parse(t):void 0},t.prototype.setAccessByCode=function(t,e){e.isSecureValue=!0,o.a.set(i.e.AllowUseCode,JSON.stringify(t),e)},t.prototype.getPinAttempts=function(){return o.a.get(i.e.PinAttempts)},t.prototype.setPinAttempts=function(t,e){o.a.set(i.e.PinAttempts,t,e)},t.prototype.removeAccessByCode=function(){o.a.delete(i.e.AllowUseCode)},t.prototype.checkAccessCode=function(t,e){return e.contentType="application/json",r.a.post("accesscode/check",t,e)},t.prototype.resetStorage=function(){this.removeAccessByCode()},t}())},function(t,P,D){(function(s){var e=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},o=0;o<e.length;o++)n[e[o]]=Object.getOwnPropertyDescriptor(t,e[o]);return n},a=/%[sdj%]/g;P.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,r=o.length,i=String(t).replace(a,function(t){if("%%"===t)return"%";if(r<=n)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),s=o[n];n<r;s=o[++n])m(s)||!u(s)?i+=" "+s:i+=" "+c(s);return i},P.deprecate=function(t,e){if(void 0!==s&&!0===s.noDeprecation)return t;if(void 0===s)return function(){return P.deprecate(t,e).apply(this,arguments)};var n=!1;return function(){if(!n){if(s.throwDeprecation)throw new Error(e);s.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}};var t,o={};function c(t,e){var n={seen:[],stylize:i};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),v(e)?n.showHidden=e:e&&P._extend(n,e),C(n.showHidden)&&(n.showHidden=!1),C(n.depth)&&(n.depth=2),C(n.colors)&&(n.colors=!1),C(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),h(n,t,n.depth)}function r(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function i(t,e){return t}function h(e,n,o){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==P.inspect&&(!n.constructor||n.constructor.prototype!==n)){var t=n.inspect(o,e);return b(t)||(t=h(e,t,o)),t}var r=function(t,e){if(C(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(_(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(e,n);if(r)return r;var i,s=Object.keys(n),a=(i={},s.forEach(function(t,e){i[t]=!0}),i);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),I(n)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return d(n);if(0===s.length){if(S(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(I(n))return d(n)}var u,p="",l=!1,f=["{","}"];(y(n)&&(l=!0,f=["[","]"]),S(n))&&(p=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(p=" "+RegExp.prototype.toString.call(n)),A(n)&&(p=" "+Date.prototype.toUTCString.call(n)),I(n)&&(p=" "+d(n)),0!==s.length||l&&0!=n.length?o<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=l?function(e,n,o,r,t){for(var i=[],s=0,a=n.length;s<a;++s)O(n,String(s))?i.push(g(e,n,o,r,String(s),!0)):i.push("");return t.forEach(function(t){t.match(/^\d+$/)||i.push(g(e,n,o,r,t,!0))}),i}(e,n,o,a,s):s.map(function(t){return g(e,n,o,a,t,l)}),e.seen.pop(),function(t,e,n){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,p,f)):f[0]+p+f[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,o,r,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),O(o,r)||(s="["+r+"]"),a||(t.seen.indexOf(c.value)<0?-1<(a=m(n)?h(t,c.value,null):h(t,c.value,n-1)).indexOf("\n")&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),C(s)){if(i&&r.match(/^\d+$/))return a;s=(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function _(t){return"number"==typeof t}function b(t){return"string"==typeof t}function C(t){return void 0===t}function w(t){return u(t)&&"[object RegExp]"===n(t)}function u(t){return"object"==typeof t&&null!==t}function A(t){return u(t)&&"[object Date]"===n(t)}function I(t){return u(t)&&("[object Error]"===n(t)||t instanceof Error)}function S(t){return"function"==typeof t}function n(t){return Object.prototype.toString.call(t)}function p(t){return t<10?"0"+t.toString(10):t.toString(10)}P.debuglog=function(e){if(C(t)&&(t=Object({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var n=s.pid;o[e]=function(){var t=P.format.apply(P,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},(P.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},P.isArray=y,P.isBoolean=v,P.isNull=m,P.isNullOrUndefined=function(t){return null==t},P.isNumber=_,P.isString=b,P.isSymbol=function(t){return"symbol"==typeof t},P.isUndefined=C,P.isRegExp=w,P.isObject=u,P.isDate=A,P.isError=I,P.isFunction=S,P.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},P.isBuffer=D(276);var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}P.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[p(t.getHours()),p(t.getMinutes()),p(t.getSeconds())].join(":"),[t.getDate(),l[t.getMonth()],e].join(" ")),P.format.apply(P,arguments))},P.inherits=D(277),P._extend=function(t,e){if(!e||!u(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t};var f="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}P.promisify=function(i){if("function"!=typeof i)throw new TypeError('The "original" argument must be of type Function');if(f&&i[f]){var t;if("function"!=typeof(t=i[f]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,f,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var n,o,t=new Promise(function(t,e){n=t,o=e}),e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);e.push(function(t,e){t?o(t):n(e)});try{i.apply(this,e)}catch(t){o(t)}return t}return Object.setPrototypeOf(t,Object.getPrototypeOf(i)),f&&Object.defineProperty(t,f,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,e(i))},P.promisify.custom=f,P.callbackify=function(i){if("function"!=typeof i)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,r=function(){return n.apply(o,arguments)};i.apply(this,t).then(function(t){s.nextTick(r,null,t)},function(t){s.nextTick(E,t,r)})}return Object.setPrototypeOf(t,Object.getPrototypeOf(i)),Object.defineProperties(t,e(i)),t}}).call(this,D(224))},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(350),r=n(17),i=n(275),s=n(2),a=n(18),c=new(function(){function t(){}return t.prototype.decrypt=function(t){return a.a.decrypt(t)},t.prototype.encrypt=function(t){return a.a.encrypt(t)},t.prototype.createUser=function(t,e){return o.a.post("user/create",t,e)},t.prototype.syncUser=function(t,e){return o.a.post("user/sync",t,e)},t.prototype.resetPassword=function(t,e){return o.a.post("user/resetPassword",t,e)},t.prototype.saveUserData=function(t){var e=this.encrypt(t);r.a.set(s.e.ConnextUserData,e,{isJson:!1})},t.prototype.getCachedUserData=function(){var e=null,t=r.a.get(s.e.ConnextUserData,{isJson:!1});if(t)try{e=this.decrypt(t)}catch(t){e=r.a.get(s.e.ConnextUserData)}return e},t.prototype.setProfile=function(t){r.a.set(s.e.ConnextUserProfile,t)},t.prototype.getProfile=function(){return r.a.get(s.e.ConnextUserProfile)},t.prototype.deleteProfile=function(){return r.a.delete(s.e.ConnextUserProfile)},t.prototype.clearStorage=function(){this.deleteProfile()},t.prototype.deleteUserDataExpiration=function(){i.a.delete(s.b.UserDataExpiration)},t}())},function(t,e,n){"use strict";var o=n(0),r=n.n(o),i=n(2),s=n(342),a=n(275),c=n(134),u=function(t){t&&(this.ABExperimentId=t.ABExperimentId,this.ABExperimentName=t.ABExperimentName,this.ABGroup=t.ABGroup,this.ABGroupName=t.ABGroupName)},p=n(325),l=n(50),f=n(25);n.d(e,"a",function(){return h});var h=new(function(){function t(){}return t.prototype.start=function(){this.getAbTestDataFromConfiguration(),this.getCookie(),!this.configData||this.getTodayDate()<this.configData.StartDate||this.getTodayDate()>=this.configData.EndDate?this.cookieData&&this.removeCookie():(!this.cookieData||this.cookieData&&this.configData.Id!=this.cookieData.ABExperimentId)&&this.generateCookie()},t.prototype.getUserGroup=function(){return this.cookieData?this.cookieData.ABGroup:this.configData?this.configData.DefaultGroup:void 0},t.prototype.getTest=function(){return this.configData},t.prototype.getCookie=function(){try{var t=JSON.parse(a.a.get(i.e.AbTest,{isSecureValue:!1,expandKey:!0,useRootDomain:!0}));return this.cookieData=t?new u(t):null,this.cookieData}catch(t){return this.cookieData=null}},t.prototype.setCookie=function(t){t&&(this.cookieData=t);try{a.a.set(i.e.AbTest,this.cookieData,{expires:this.configData.EndDate,useRootDomain:!0,expandKey:!0,isSecureValue:!1}),p.a.dispatch(l.a.ABCookieSet,this.cookieData)}catch(t){p.a.dispatch(l.a.ABCookieFail)}},t.prototype.getEndDate=function(){if(this.configData&&this.configData.EndDate)return this.configData.EndDate},t.prototype.generateCookie=function(){var e=this.generateUserGroup();return this.cookieData={ABExperimentId:this.configData.Id,ABExperimentName:this.configData.Name,ABGroup:e,ABGroupName:r.a.find(this.configData.Groups,function(t){return t.Value==e}).GroupName},this.setCookie(),this.cookieData},t.prototype.generateUserGroup=function(){var e=Math.floor(101*Math.random()),n=0;return r.a.find(this.configData.Groups,function(t){return n+=t.Split,e<=n}).Value},t.prototype.getAbTestDataFromConfiguration=function(){try{var t=s.a.getABTestData();this.configData=t?new c.a(t):null;var e=this.getDateWithoutTime(this.configData.EndDate);return e=new Date(e.setDate(e.getDate()+1)),this.configData.EndDate=e,this.configData}catch(t){return this.configData=null}},t.prototype.removeCookie=function(){a.a.delete(i.e.AbTest,{isSecureValue:!1,expandKey:!0,useRootDomain:!0}),this.cookieData=null},t.prototype.getTodayDate=function(){return this.getDateWithoutTime(f.a.get())},t.prototype.getDateWithoutTime=function(t){return new Date(t.setUTCHours(0,0,0,0))},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(328),r=n(220),i=n(350),s=n(17),a=n(275),c=n(58),u=n(39),p=n(18),l=new(function(){function t(){this.cookies=o.a.getInstance(),this.sessionStorage=new r.a,this.customLocalStorageOptions=new u.a({expandKey:!1,isSecureValue:!1})}return t.prototype.getUserDataByEncryptedEmail=function(t){var e="user/encrypted?encodedEncryptedEmail="+encodeURIComponent(t);return i.a.get(e).then(function(t){return p.a.decrypt(t)})},t.prototype.setEncryptedEmail=function(t){this.sessionStorage.set(c.a.EncryptedEmail,t)},t.prototype.getEncryptedEmail=function(){return this.sessionStorage.get(c.a.EncryptedEmail)},t.prototype.getNewsletterSource=function(){return this.cookies.get(c.a.NewsletterSource)},t.prototype.getNewsletterReader=function(){return s.a.get(c.a.NewsletterReader,this.customLocalStorageOptions)},t.prototype.setNewsletterSource=function(t,e){a.a.set(c.a.NewsletterSource,t,e)},t.prototype.setNewsletterReader=function(t){s.a.set(c.a.NewsletterReader,t,this.customLocalStorageOptions)},t.prototype.setNewsLetterNW=function(t){this.cookies.set(c.a.NewsletterNW,t,{expandKey:!1})},t}())},function(t,e,n){"use strict";var o=n(51),r=n(339),i=n(137),s=n(25),a=n(325),c=n(50),u=n(345),p=n(8),l=n(11),f=n(26),h=n(140),d=n(342),g=n(0),y=n.n(g),v=function(){function t(t){this.templateClosed=!1,this.MAX_PIN_ATTAMPTS=5,this.WRONG_PIN=100,this.originalSubmitStyles=null,this.codeListId=t;var e=d.a.getCodeSetTemplatesData(),n=y.a.findWhere(e,{Id:this.codeListId});this.codeListName=n.Name;var o={Html:n?n.TemplateHtml:'<div data-display-type="modal" tabindex="-1" data-width="380" class="Mg2-connext modal Mg2-pin-modal fade in">\n                <div class="modal-body m-0 p-0 Mg2-pin x-editable-css-bg x-editable-text">\n                    <a href="#" class="fa fa-times closebtn Mg2-close-inline" data-dismiss="modal" aria-label="Close" aria-hidden="true"></a>\n                    <div class="m-0 p-0 Mg2-pin__title">Please enter your PIN</div>\n                    <div class="m-0 p-0 Mg2-pin__subtitle">If you have been given an access PIN, please input it in the box below. If you do not have an access PIN you may close this to continue reading.</div>\n                    <div class="m-0 p-0 Mg2-pin__input-row">\n                        <div class="Mg2-pin__message Mg2-pin__message_success" style="display: none;">Success! Now you have full access</div>\n                        <input type="password" class="Mg2-pin__input">\n                    </div>\n                    <div class="Mg2-pin__button-row">\n                        <a class="Mg2-pin__button" data-mg2-action="click">Submit</a>\n                    </div>\n                </div>\n            </div>'};this.template=h.a.getInstance().createTemplate(o),this.pinElement=this.template.getElement()}return t.prototype.checkAttemptsLeft=function(){return!!this.checkPinAttempts()||(this.noPinAttemptsLeft(),!1)},t.prototype.noPinAttemptsLeft=function(){var t=l.a.queryElement(".Mg2-pin__message",this.pinElement);l.a.text(t,"You exceeded maximum amount of attempts. You will be allowed to try again in 15 minutes."),l.a.addClass(t,"Mg2-pin__message_error"),l.a.show(t),l.a.remove(l.a.queryElement(".Mg2-pin__input",this.pinElement));var e=l.a.queryElement(".Mg2-pin__button",this.pinElement);e.style.visibility="hidden",setTimeout(function(){return l.a.remove(e)},0),this.template.setElement(this.pinElement)},t.prototype.checkPinAttempts=function(){var t=parseInt(o.a.getPinAttempts()),e=!0;return t&&t>=this.MAX_PIN_ATTAMPTS-1&&(e=!1),e},t.prototype.wrongPin=function(){var t=parseInt(o.a.getPinAttempts());t?t++:t=1;var e=s.a.get();e.setMinutes(e.getMinutes()+15),o.a.setPinAttempts(t,{expires:e})},t.prototype.addEventListeners=function(){var n=this;l.a.on(this.pinElement,f.h.TemplateShown,function(t){n.fireShowEvent(),n.checkAttemptsLeft()}),l.a.on(this.pinElement,f.h.TemplateClosed,function(t){var e=t&&t.detail?t.detail.closeEvent:"";n.fireCloseEvent(e),e===f.c.AccessGranted&&a.a.dispatch(f.h.ApplicationReload)}),l.a.on(l.a.queryElement(".Mg2-pin__button",this.pinElement),"click",function(t){n.checkAttemptsLeft()&&n.submitAccessForm()})},t.prototype.show=function(){this.template.beforeShow(),this.template.show(),this.pinElement=this.template.getElement(),this.addEventListeners(),this.template.afterShow()},t.prototype.hide=function(t){this.template.hide(t)},t.prototype.fireCloseEvent=function(t){this.templateClosed||(a.a.dispatch(c.a.AccessTemplateClosed,t),this.templateClosed=!0)},t.prototype.fireShowEvent=function(){a.a.dispatch(c.a.AccessTemplateShown,null)},t.prototype.submitAccessForm=function(){var e=this,n=l.a.queryElement('.Mg2-pin__input[type="password"]',this.pinElement),o=l.a.queryElement(".Mg2-pin__message",this.pinElement);l.a.hide(o),l.a.removeClass(o,"Mg2-pin__message_error"),l.a.removeClass(o,"Mg2-pin__message_success"),l.a.removeClass(n,"Mg2-pin__input_error");var t=l.a.val(n);t?(_.checkAccessCode(t,this.codeListName).then(function(){e.accessCodeSuccess(o,{message:"Success! Now you have full access",status:200})}).catch(function(t){e.accessCodeFail(o,{message:t.ErrorMessage,status:t.ErrorCode},n)}).always(function(){return e.toggleDisablingSubmitButton(!1)}),this.toggleDisablingSubmitButton(!0)):(l.a.show(o),l.a.addClass(n,"Mg2-pin__input_error"),l.a.text(o,"Please enter a code"),l.a.addClass(o,"Mg2-pin__message_error"))},t.prototype.toggleDisablingSubmitButton=function(t){var e=l.a.queryElement(".Mg2-pin__button",this.pinElement);t?(this.originalSubmitStyles={},this.originalSubmitStyles.pointerEvents=e.style.pointerEvents,e.setAttribute("disabled","true"),e.style.pointerEvents="none"):(e.removeAttribute("disabled"),e.style.pointerEvents=this.originalSubmitStyles.pointerEvents)},t.prototype.accessCodeSuccess=function(t,e){var n=this;l.a.text(t,e.message),l.a.addClass(t,"Mg2-pin__message_success"),l.a.show(t),setTimeout(function(){n.template.hide(f.c.AccessGranted)},1e3),this.fireCloseEvent(f.c.AccessGranted)},t.prototype.accessCodeFail=function(t,e,n){+e.status===this.WRONG_PIN&&this.wrongPin(),l.a.text(t,e.message),l.a.show(t),l.a.addClass(t,"Mg2-pin__message_error"),n.value=""},t}(),m=n(44),_=new(function(){function t(){}return t.prototype.showAccessCodeInputTemplate=function(t){this.checkCodeSetExistsbyId(t)&&new v(t).show()},t.prototype.isSavedCode=function(){return!!o.a.getAccessBySavedCode()||!1},t.prototype.getAccessCodeId=function(){var t=o.a.getAccessBySavedCode();return t?t.Id:null},t.prototype.getSavedAccessCodeData=function(){var t=o.a.getAccessBySavedCode();return t||null},t.prototype.setAccessToStorage=function(t){o.a.setAccessByCode({Id:t.Id,Expiration:t.Expiration},{expires:new Date(t.Expiration)})},t.prototype.checkAccessCode=function(t,n){if(t){var e={Code:t,CodeListSetName:n,ClientCode:m.a.getClientCode(),SiteCode:m.a.getSiteCode()};return o.a.checkAccessCode(e,{location:r.a.Whitelisting}).then(function(t){i.a.log("Check Access Code","Success",t),o.a.setAccessByCode({Id:t.Id,Expiration:t.Expiration},{expires:new Date(t.Expiration)}),p.a.sendViewData();var e={Id:t.Id,Name:n,AccessStartDate:s.a.get().toString(),AccessEndDate:t.Expiration,Active:!0,ClientId:null,Ips:null,UserAgents:null};return a.a.dispatch(c.a.AccessGranted,e),Promise.resolve()}).catch(function(t){i.a.log("Check access code","error",t.ErrorMessage);var e="Input access code is wrong",n={};return n[u.a.AccessDeniedReason]=e,a.a.dispatch(c.a.AccessDenied,e,n),Promise.reject(t)})}return Promise.reject()},t.prototype.checkCodeSetExistsbyId=function(t){var e=d.a.getCodeSetTemplatesData();return!!y.a.findWhere(e,{Id:t})},t}()),b=n(52),C=n(133),w=function(){function t(t,e){this.allowedAccessList=Object(b.isArray)(t)?t:[],this.ip=e||C.a.getIP()}return t.prototype.apply=function(){return this.findAllowedlistSetsWithIP(this.ip)},t.prototype.findAllowedlistSetsWithIP=function(n){var o=this,r=[];return Object(g.each)(this.allowedAccessList,function(e){e&&Object(b.isArray)(e.Ips)&&Object(g.each)(e.Ips,function(t){o.compareIPs(n,t)&&r.push(e)})}),Promise.resolve(r)},t.prototype.compareIPs=function(t,e){try{if(!t||!e)return!1;var n=!1,o=!1;return/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e)&&(~e.indexOf("/")?o=!0:n=!0),n?t===e:!!o&&this.IPWithinRangeCIDR(t,e)}catch(t){return!1}},t.prototype.IPWithinRangeCIDR=function(t,e){for(var n=this.getIPsRangeByCIDR(e),o=n[0],r=n[1],i=[t.split("."),o.split("."),r.split(".")],s=0;s<i.length;s++){for(var a=0;a<i[s].length;a++)i[s][a]=parseInt(i[s][a]);i[s]=(i[s][0]<<24)+(i[s][1]<<16)+(i[s][2]<<8)+i[s][3]}return i[0]>=i[1]&&i[0]<=i[2]},t.prototype.getIPsRangeByCIDR=function(t){var e=[];if("string"==typeof t){var n=t.match(/^(\d+\.\d+\.\d+\.\d+)\/(\d+)$/);if(n){var o=this.ipToIp32(n[1]),r=parseInt(n[2]);if("number"==typeof o&&0<=r&&r<=32){var i=this.buildMask(r),s=this.applyMask(o,i);e=[this.ip32ToIp(s),this.ip32ToIp(s-i-1)]}}}return e},t.prototype.ipToIp32=function(t){var e=!1;if("string"==typeof t){var n=t.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);if(n){for(var o=[],r=1;r<n.length;r++){var i=parseInt(n[r]);0<=i&&i<=255&&o.push(i)}4===o.length&&(e=this.bytesToInt32(o))}}return e},t.prototype.ip32ToIp=function(t){var e;return"number"==typeof t&&isFinite(t)&&(e=this.int32ToBytes(4294967295&t).join(".")),e},t.prototype.int32ToBytes=function(t){return[t>>>24&255,t>>>16&255,t>>>8&255,t>>>0&255]},t.prototype.bytesToInt32=function(t){return 256*(256*(256*t[0]+t[1])+t[2])+t[3]},t.prototype.buildMask=function(t){return t?-1<<32-t:0},t.prototype.applyMask=function(t,e){for(var n=this.int32ToBytes(t),o=this.int32ToBytes(e),r=[],i=0;i<n.length;i++)r.push(n[i]&o[i]);return this.bytesToInt32(r)},t}(),A=n(61),I=function(t){this.TypeName="UserAgentAccess",t&&(this.Value=t.Value,this.Qualifier=t.Qualifier)},S=function(t){this.Ips=[],this.UserAgents=[],t&&(this.Id=t.Id,this.Name=t.Name,this.Active=t.Active,this.AccessStartDate=t.AccessStartDate,this.ClientId=t.ClientId,this.AccessEndDate=t.AccessEndDate,this.Ips=t.Ips,this.UserAgents=Object(g.map)(t.UserAgents,function(t){return new I(t)}))},O=function(){function t(t){this.allowedAccessList=[],t&&(Object(g.isArray)(t)?this.allowedAccessList=t:this.allowedAccessList.push(t))}return t.prototype.apply=function(){return this.filterList()},t.prototype.filterList=function(){var e=this,n=[],o=A.Criteria.getInstance();return this.allowedAccessList&&0<this.allowedAccessList.length?(Object(g.each)(this.allowedAccessList,function(t){(t=new S(t)).passed=!0,t.UserAgents&&0===t.UserAgents.length?(t.passed=!1,t.calculateExpressions=[Promise.resolve()]):t.calculateExpressions=o.getCalculateExpressions(e.mapUserAgents(t.UserAgents)),n.push(o.executeCalculateExpressionsAtLeastOneForCollection(t))}),i.a.log("Check UserAgents: ",this.allowedAccessList),o.calculatePassedCollections(n)):Promise.resolve([])},t.prototype.mapUserAgents=function(t){var e=[];return Object(g.each)(t,function(t){e.push(new I(t))}),e},t}(),E=function(){function t(t){this.inputList=t}return t.prototype.apply=function(){var e=this,n=[];return Object(g.each)(this.inputList,function(t){e.inAccessPeriod(t)&&n.push(t)}),Promise.resolve(n)},t.prototype.getCurrentDate=function(){return s.a.get().valueOf()},t.prototype.inAccessPeriod=function(t){var e=this.getCurrentDate();t.AccessStartDate=t.AccessStartDate?t.AccessStartDate:null,t.AccessEndDate=t.AccessEndDate?t.AccessEndDate:null;var n=new Date(t.AccessStartDate).valueOf(),o=new Date(t.AccessEndDate).valueOf();return o<=0&&n<=0||(o<=0?n<=e:n<=0?e<=o:n<=e&&e<=o)},t}(),P=function(){return(P=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},D=new(function(){function t(){this.useConnextFlow=!0}return t.prototype.apply=function(t){var s=this;return Promise.all([new w(t).apply(),new O(t).apply()]).then(function(t){var e=t[0],n=t[1],r=e.concat(n);if(s.haveSets(r))return new E(r).apply().then(function(t){if(s.haveSets(t))return a.a.dispatch(c.a.AccessGranted,t[0]),Promise.resolve(!s.useConnextFlow);var e="Access date is out of range",n=Object(g.first)(r)||{},o={};return o[u.a.AccessDeniedReason]=e,o[u.a.AccessStartDate]=n.AccessStartDate,o[u.a.AccessEndDate]=n.AccessEndDate,s.accessDenied(e,n,o)});var o="IpFilter or UserAgentFilter",i={};return i[u.a.AccessDeniedReason]=o,s.accessDenied(o,null,i)})},t.prototype.haveSets=function(t){return t&&0<t.length},t.prototype.accessDenied=function(t,e,n){return e=P({},e,{reason:t}),a.a.dispatch(c.a.AccessDenied,e,n),i.a.log("AccessManager",t),Promise.resolve(this.useConnextFlow)},t}());n.d(e,"a",function(){return x});var x=new(function(){function t(){var t=this;this.accessGranted=!1,this.skipOnNextRun=!1,a.a.subscribe(c.a.AccessGranted,function(){t.accessGranted=!0},!0)}return t.prototype.canClientUseConnext=function(t){var e=this;if(t&&Array.isArray(t))return D.apply(t).then(function(t){return t&&e.isHaveAccessByCode()?Promise.resolve(!t):Promise.resolve(t)});var n=!this.isHaveAccessByCode();return Promise.resolve(n)},t.prototype.isHaveAccessByCode=function(){return _.isSavedCode()},t.prototype.getAccessCodeId=function(){return _.getAccessCodeId()},t.prototype.resetStorage=function(){o.a.resetStorage()},t.prototype.getSavedAccessCode=function(){return _.getSavedAccessCodeData()},t.prototype.processAccessCodeFlow=function(t){_.showAccessCodeInputTemplate(t)},t.prototype.setAccessByCode=function(t){_.setAccessToStorage(t)},t.prototype.IsAccessGranted=function(){return this.accessGranted},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"LinkAccountServiceClass",function(){return d}),n.d(e,"LinkAccountService",function(){return g});var i=n(108),s=n(0),o=n(7),r=n(131),a=n(339),c=n(9),u=n(325),p=n(50),l=n(52),f=n(121),h=n(70),d=function(){function t(){this.apiOptions={location:a.a.Activation}}return t.prototype.isCanAutoLink=function(){var n=this,o=!1,r=Object(c.i)();return Object(s.each)(i,function(t){var e=new t(r);e.canLink()&&(n.activateModel=e,o=!0)}),o},t.prototype.getAutoLinkModel=function(){return this.activateModel},t.prototype.linkAccount=function(e){var n=this;return e.CustomRegId=o.a.getCustomerRegistrationId(),e.Mode=o.a.getUserMode(),u.a.dispatch(p.a.ActivationLinkStepSubmitted,e.SearchOption),r.a.activateBySearchOption(e.SearchOption,e,this.apiOptions).then(function(t){return n.checkAccessAfterLinking(t,e)},function(t){return Promise.reject(t)})},t.prototype.checkAccessAfterLinking=function(e,t){if(Object(l.isString)(e))try{e=JSON.parse(e)}catch(t){return Promise.reject(e)}return e.errorCode||!e.Success?Promise.reject(e.Message):this.checkDigitalAccess(e).then(function(){return Promise.resolve()},function(t){return Promise.reject(t)})},t.prototype.checkDigitalAccess=function(t){var e=new f.DigitalAccess;return r.a.checkDigitalAccess(o.a.getCustomerRegistrationId(),o.a.getUserMode(),this.apiOptions).then(function(t){return e.check(t)}).catch(function(t){return h.a.updateCurrentUser().then(function(){return Promise.reject(t)})})},t.prototype.syncUser=function(){return h.a.syncUser(this.apiOptions).catch(function(){return Promise.resolve()})},t}(),g=new d},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={EncryptedEmail:"igm_eui",EmailPreference:"igm_epref",NewsletterSource:"nxt_nl_source",NewsletterReader:"nxt_nl_reader",NewsletterNW:"nxt_NW"}},function(t,e,n){var o;t.exports=(o=n(6),n(142),n(278),n(279),n(43),n(66),n(215),n(210),n(280),n(225),n(281),n(282),n(283),n(49),n(284),n(86),n(19),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),o)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerOnArticle",function(){return a});var o,r=n(10),i=n(68),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.trigger=function(){var t=this;this.actionType.isClosed()&&this.actionType.prepareToShow(r.ActionModule.getReplaceVariables()).then(function(){t.actionType.executeAction(),t.setActionInfo(),t.actionType.show()}).catch(function(){})},e}(i.ActionTrigger)},function(t,e,n){"use strict";n.r(e),n.d(e,"Criteria",function(){return a});var i=n(137),r=n(197),s=n(0),o=n.n(s),a=function(){function t(){this.NAME="Criteria"}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.calculateExpression=function(t,e,n){i.a.log(this.NAME,"calculateExpression","Expression"+t,n);var o=(new r.ExpressionFactory).create(t);return o?(o.setOptions(n),o.check(e)):Promise.reject()},t.prototype.getCalculateExpressions=function(t,n){var o=this,r=[];return Object(s.each)(t,function(t,e){i.a.log("Expression",e,t),r.push(o.calculateExpression(t.TypeName,t,n))}),r},t.prototype.executeCalculateExpressionsForCollection=function(e){return Promise.all(e.calculateExpressions).then(function(t){return i.a.log("Collection ["+e.Name+"] --- PASSED",e),Promise.resolve(e)}).catch(function(t){return i.a.log("Collection ["+e.Name+"] --- FAILED",e),e.passed=!1,Promise.resolve(e)})},t.prototype.executeCalculateExpressionsAtLeastOneForCollection=function(e){return Promise.all(e.calculateExpressions.map(function(t){return Promise.resolve(t).then(function(t){return{status:"fulfilled",value:t}},function(t){return{status:"rejected",reason:t}})})).then(function(t){return o.a.where(t,{status:"fulfilled"}).length?i.a.log("Collection ["+e.Name+"] --- PASSED",e):(i.a.log("Collection ["+e.Name+"] --- FAILED",e),e.passed=!1),Promise.resolve(e)})},t.prototype.calculatePassedCollection=function(t,e){return this.calculatePassedCollections(t,e).then(function(t){return Object(s.first)(t)})},t.prototype.calculatePassedCollections=function(t,o){return Promise.all(t).then(function(t){var e=Object(s.filter)(t,function(t){return!0===t.passed});if(e&&0!==e.length){var n=Object(s.sortBy)(e,o);return Promise.resolve(n)}return Promise.resolve([])}).catch(function(t){return Promise.reject(t)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerType",function(){return o});var o={Time:"Time",Hover:"Hover",EOS:"ElementOnScreen",PublicEvent:"PublicEvent",ScrollDepth:"ScrollDepth"}},function(t,e,n){"use strict";n.r(e),n.d(e,"Conversation",function(){return y});var r=n(10),o=n(120),i=n(303),s=n(141),a=n(26),c=n(8),u=n(137),p=n(330),l=n(325),f=n(50),h=n(25),d=n(199),g=n(0),y=function(){function t(t,e){this.NAME="Conversation",this.conversation=t?new i.a(t):null,this.properties=this.conversation?this.conversation.getProperties():new s.a(null),this.campaign=e,this.criteriaProvider=o.CriteriaProvider.getInstance()}return t.prototype.start=function(t){return this.conversation?(u.a.log(this.NAME,"start","Conversation To Process",this.conversation),this.processConversation()):(this.processFakeConversation(t.Id),u.a.warn(p.a.NO_CONVO_FOUND.message),l.a.dispatch(f.a.ConversationNotFound,t),Promise.reject(p.a.NO_CONVO_FOUND))},t.prototype.expired=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!0);try{var n=t?t.conversation:null,o={Conversation:this.conversation,NextConversation:n,Reason:this.properties.getExpiredTypeName(),ArticleCountReset:this.properties.getExpiredType().ResetConversationViews},r=this.properties.getExpiredType();this.resetViewExpirationConversation(r),e&&c.a.setRequestForSaveView(n,this.conversation),l.a.dispatch(f.a.ConversationExpired,o)}catch(t){u.a.error(this.NAME,"expired",t)}},t.prototype.processConversation=function(){var n=this,o="processConversation";try{return u.a.log(this.NAME,o,"Starting process conversation...",this.conversation),this.campaign.setStoredCurrentConversation(this.conversation),c.a.incrementConversationCount(this.conversation),this.updatePropertyViews(c.a.getCurrentConversationViewCount()),this.getValidPaywalls().then(function(t){var e=c.a.getViewPaywallInformation(t);return e&&(n.properties.setPaywallProperties(e),n.campaign.saveCurrentConversation(n.conversation)),u.a.log(n.NAME,o,"Conversation To start",n.conversation),l.a.dispatch(f.a.ConversationDetermined,n.conversation),n.getValidActions().then(function(t){return 0<t.length?(u.a.log(n.NAME,o,"ACTIONS DETERMINGED ---\x3e ",t),r.ActionModule.processActions(t)):(u.a.warn("No 'Actions' to execute."),l.a.dispatch(f.a.ActionNotFound,n.conversation.Id)),Promise.resolve()})})}catch(t){return u.a.error(this.NAME,o,t),Promise.reject("")}},t.prototype.getPaywallInformation=function(){return this.properties.getPaywallInfo()},t.prototype.getProperties=function(){return this.properties},t.prototype.setPrevExpirationSettings=function(t){if(t){var e=t.properties.getExpiredType();this.prevExpirationSettings=Object(g.extend)(e,{StartDate:t.properties.getStartDate()})}},t.prototype.processFakeConversation=function(t){this.conversation=new i.a({Id:a.f.Id,Name:"fake conversation",CampaignId:-1,MeterLevelId:t}),this.campaign.setStoredCurrentConversation(this.conversation),c.a.incrementConversationCount(this.conversation)},t.prototype.setDefaultConversationProperties=function(){try{var t=this.getConversationStartDate();this.properties.setStartDate(t),this.updateDateExpiration(),this.campaign.saveCurrentConversation(this.conversation)}catch(t){u.a.error(this.NAME,"setDefaultConversationProperties",t)}},t.prototype.updateDateExpiration=function(){var t=this.properties.getStartDate();if(t){var e=this.getDateExpiration(t);this.properties.setDateExpiration(e)}},t.prototype.getConversationStartDate=function(){var t=h.a.get(),e=c.a.getConversationStartDate(),n=this.campaign.getCurrentConversations();return this.prevExpirationSettings&&"Yes"===this.prevExpirationSettings.ShareStartDate?this.prevExpirationSettings.StartDate:!e||n&&!Object(g.isEmpty)(n)?t:e},t.prototype.getDateExpiration=function(t){var e=this.getNearestExpirationTime();if(e){this.properties.setIsExpired(!1);var n=new Date(t);return n.setMilliseconds(n.getMilliseconds()+e),n}return u.a.log(this.NAME,"setDateExpiration","No expiration time set for this conversation."),null},t.prototype.getValidPaywalls=function(){var e=this,n="getValidPaywalls";try{return this.criteriaProvider.getConversationPaywallsForView(this.conversation).then(function(t){return e.processValidActions(Object(g.sortBy)(t,"Order"))}).catch(function(t){return u.a.error(e.NAME,n,t),Promise.resolve([])})}catch(t){return u.a.error(this.NAME,n,t),Promise.reject(t)}},t.prototype.getValidActions=function(){var e=this,n="getValidActions";try{return u.a.log(this.NAME,n,"Begin determine conversation actions",this.conversation.Actions),this.criteriaProvider.calculateConversationActions(this.conversation).then(function(t){return e.processValidActions(t)}).catch(function(t){return Promise.resolve([])})}catch(t){return u.a.error(this.NAME,n,t),Promise.reject(t)}},t.prototype.processValidActions=function(t){var n=this,o="processValidActions",r=[];return Object(g.each)(t,function(t,e){u.a.log(n.NAME,o,"===== ACTION PASSED =====",t),r.push(t)}),u.a.log(this.NAME,o,"End determine conversation actions",r),Promise.resolve(r)},t.prototype.updatePropertyViews=function(t){var e="updatePropertyViews";u.a.log(this.NAME,e);try{Object(g.isNumber)(t)?t:c.a.getCurrentConversationViewCount(),this.properties.setViews(t),this.campaign.saveCurrentConversation(this.conversation)}catch(t){u.a.error(this.NAME,e,t)}},t.prototype.getName=function(){return this.conversation.Name},t.prototype.getNearestExpirationTime=function(){if(this.conversation.ExpirationSettings){var t=Object(g.find)(Object(g.sortBy)(this.conversation.ExpirationSettings,"Value"),function(t){return t.TypeName===d.ExpirationTypes.Time});return t?t.Value:null}return null},t.prototype.resetViewExpirationConversation=function(t){var e=t.ResetConversationViews;e===a.k.Current&&c.a.resetConversationView(this.conversation),e===a.k.All?c.a.resetMeterLevel():r.ActionModule.resetConversationRepeatableActions(this.conversation)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){}return t.Debug={Level:1,Name:"debug"},t.Error={Level:2,Name:"error"},t.Fatal={Level:3,Name:"fatal"},t.None={Level:4,Name:"none"},t}()},function(t,e,n){var s;t.exports=(s=n(6),function(p){var t=s,e=t.lib,n=e.WordArray,o=e.Hasher,r=t.algo,O=[];!function(){for(var t=0;t<64;t++)O[t]=4294967296*p.abs(p.sin(t+1))|0}();var i=r.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var o=e+n,r=t[o];t[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,s=t[e+0],a=t[e+1],c=t[e+2],u=t[e+3],p=t[e+4],l=t[e+5],f=t[e+6],h=t[e+7],d=t[e+8],g=t[e+9],y=t[e+10],v=t[e+11],m=t[e+12],_=t[e+13],b=t[e+14],C=t[e+15],w=i[0],A=i[1],I=i[2],S=i[3];A=x(A=x(A=x(A=x(A=D(A=D(A=D(A=D(A=P(A=P(A=P(A=P(A=E(A=E(A=E(A=E(A,I=E(I,S=E(S,w=E(w,A,I,S,s,7,O[0]),A,I,a,12,O[1]),w,A,c,17,O[2]),S,w,u,22,O[3]),I=E(I,S=E(S,w=E(w,A,I,S,p,7,O[4]),A,I,l,12,O[5]),w,A,f,17,O[6]),S,w,h,22,O[7]),I=E(I,S=E(S,w=E(w,A,I,S,d,7,O[8]),A,I,g,12,O[9]),w,A,y,17,O[10]),S,w,v,22,O[11]),I=E(I,S=E(S,w=E(w,A,I,S,m,7,O[12]),A,I,_,12,O[13]),w,A,b,17,O[14]),S,w,C,22,O[15]),I=P(I,S=P(S,w=P(w,A,I,S,a,5,O[16]),A,I,f,9,O[17]),w,A,v,14,O[18]),S,w,s,20,O[19]),I=P(I,S=P(S,w=P(w,A,I,S,l,5,O[20]),A,I,y,9,O[21]),w,A,C,14,O[22]),S,w,p,20,O[23]),I=P(I,S=P(S,w=P(w,A,I,S,g,5,O[24]),A,I,b,9,O[25]),w,A,u,14,O[26]),S,w,d,20,O[27]),I=P(I,S=P(S,w=P(w,A,I,S,_,5,O[28]),A,I,c,9,O[29]),w,A,h,14,O[30]),S,w,m,20,O[31]),I=D(I,S=D(S,w=D(w,A,I,S,l,4,O[32]),A,I,d,11,O[33]),w,A,v,16,O[34]),S,w,b,23,O[35]),I=D(I,S=D(S,w=D(w,A,I,S,a,4,O[36]),A,I,p,11,O[37]),w,A,h,16,O[38]),S,w,y,23,O[39]),I=D(I,S=D(S,w=D(w,A,I,S,_,4,O[40]),A,I,s,11,O[41]),w,A,u,16,O[42]),S,w,f,23,O[43]),I=D(I,S=D(S,w=D(w,A,I,S,g,4,O[44]),A,I,m,11,O[45]),w,A,C,16,O[46]),S,w,c,23,O[47]),I=x(I,S=x(S,w=x(w,A,I,S,s,6,O[48]),A,I,h,10,O[49]),w,A,b,15,O[50]),S,w,l,21,O[51]),I=x(I,S=x(S,w=x(w,A,I,S,m,6,O[52]),A,I,u,10,O[53]),w,A,y,15,O[54]),S,w,a,21,O[55]),I=x(I,S=x(S,w=x(w,A,I,S,d,6,O[56]),A,I,C,10,O[57]),w,A,f,15,O[58]),S,w,_,21,O[59]),I=x(I,S=x(S,w=x(w,A,I,S,p,6,O[60]),A,I,v,10,O[61]),w,A,c,15,O[62]),S,w,g,21,O[63]),i[0]=i[0]+w|0,i[1]=i[1]+A|0,i[2]=i[2]+I|0,i[3]=i[3]+S|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;e[o>>>5]|=128<<24-o%32;var r=p.floor(n/4294967296),i=n;e[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[14+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,a=s.words,c=0;c<4;c++){var u=a[c];a[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function E(t,e,n,o,r,i,s){var a=t+(e&n|~e&o)+r+s;return(a<<i|a>>>32-i)+e}function P(t,e,n,o,r,i,s){var a=t+(e&o|n&~o)+r+s;return(a<<i|a>>>32-i)+e}function D(t,e,n,o,r,i,s){var a=t+(e^n^o)+r+s;return(a<<i|a>>>32-i)+e}function x(t,e,n,o,r,i,s){var a=t+(n^(e|~o))+r+s;return(a<<i|a>>>32-i)+e}t.MD5=o._createHelper(i),t.HmacMD5=o._createHmacHelper(i)}(Math),s.MD5)},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseTimedTrigger",function(){return h});var o,r=n(68),i=n(10),s=n(327),a=n(2),c=n(9),u=n(137),p=n(25),l=n(0),f=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(n){function t(t,e){return n.call(this,t)||this}return f(t,n),t.prototype.trigger=function(){var t=this;this.actionType.prepareToShow(i.ActionModule.getReplaceVariables()).then(function(){t.actionType.executeAction(),t.setActionInfo(),t.actionType.show()}).catch(function(){})},t.prototype.canTrigger=function(){var t=this.getActionInfo();return!t||(0===this.options.RepeatableOnConversation||!!(this.isTimeRepeatUp(t)&&t.count<this.options.RepeatableOnConversation))},t.prototype.resetRepeatableData=function(){if(this.getActionInfo()){var t=s.a.getTimeRepeatableActions();delete t[this.actionData.ConversationId][this.actionData.Id],s.a.setTimeRepeatableActions(t)}},t.prototype.getActionInfo=function(){var t=s.a.getTimeRepeatableActions()||{};if(this.issetActionData(t)){var e=t[this.actionData.ConversationId][this.actionData.Id];return{date:e[a.f.RepeatAfter],count:e[a.f.Count]}}return null},t.prototype.setActionInfo=function(){try{var t=this.getActionInfo(),e={};e[a.f.RepeatAfter]=Object(c.d)(this.options.RepeatAfter);var n=s.a.getTimeRepeatableActions()||{};Object(l.isEmpty)(t)?(n[this.actionData.ConversationId]||(n[this.actionData.ConversationId]={}),e[a.f.Count]=1):e[a.f.Count]=t.count+1,n[this.actionData.ConversationId][this.actionData.Id]=e,s.a.setTimeRepeatableActions(n)}catch(t){u.a.error("SetTimeRepeatableActionData",t)}},t.prototype.isTimeRepeatUp=function(t){return p.a.get()>new Date(t.date)},t}(r.ActionTrigger)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTrigger",function(){return a});var o=n(0),r=n(327),i=n(137),s=n(9),a=function(){function t(t){this.actionType=t,this.actionModel=this.actionType.action,this.actionElem=t.getActionElement?t.getActionElement():null}return t.prototype.getTriggerWhen=function(){return this.actionModel.When},t.prototype.unRegister=function(){clearTimeout(this.timer)},t.prototype.startTimer=function(t){var e=this.options.Delay;0===e?t():this.timer=setTimeout(function(){t()},e)},t.prototype.handlerAction=function(t){return!0},t.prototype.canNotTriggerAction=function(){i.a.log("ACTION FAILED - ActionInPendingExecutionTime or ActionLimitIsExceeded",this.actionType)},t.prototype.getActionInfo=function(){try{var t=r.a.getRepeatablesInConv();return Object(o.isEmpty)(t)?null:t[this.actionModel.Id]}catch(t){i.a.error("ActionTrigger","GetRepeatablesInConv",t)}},t.prototype.issetActionData=function(t){return t&&t[this.actionModel.ConversationId]&&t[this.actionModel.ConversationId][this.actionModel.Id]},t.prototype.setActionInfo=function(){try{var t=r.a.getRepeatablesInConv(),e=this.getActionInfo();Object(s.t)(e)?t[this.actionModel.Id]=e+1:t[this.actionModel.Id]=1,r.a.setRepeatablesInConv(t)}catch(t){i.a.error("ActionTrigger","UpdateRepeatablesInConv",t)}this.setActionArticleInfo()},t.prototype.setActionArticleInfo=function(){try{var t=r.a.getRepeatablesInArticle(),e=Object(s.k)();Object(s.t)(t)&&t.url===e?t.count++:t={url:e,count:1},r.a.setRepeatablesInArticle(t)}catch(t){i.a.error("ActionTrigger","UpdateRepeatablesInArticle",t)}},t.prototype.resetRepeatableData=function(){if(this.getActionInfo()){var t=r.a.getRepeatablesInConv();delete t[this.actionModel.Id],r.a.setRepeatablesInConv(t)}r.a.removeRepeatablesInArticle()},t.prototype.canRepeatableOnConversation=function(t){if(0===t)return!0;var e=this.getActionInfo();return!e||e<t},t.prototype.canRepeatableOnArticle=function(t){if(0===t)return!0;var e=r.a.getRepeatablesInArticle(),n=Object(s.k)();return!e||e.url!==n||e.count<t},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInService",function(){return u});var r=n(137),o=n(325),i=n(50),s=n(89),a=n(70),c=n(7),u=function(){function t(){var e=this;this.NAME="SignInService",this.buttonDefaultSettings={height:"61",longtitle:!0,onsuccess:function(t){return e.onSuccess(t)},onfailure:function(t){return e.onFailure(t)}}}return t.getInstance=function(){return null===this._self&&(this._self=new t),this._self},t.prototype.auth2Init=function(){var n=this,o="auth2Init";return r.a.log(this.NAME,o,"start"),this.firstInit||(this.firstInit=new Promise(function(e){n.gapi=window.gapi,n.gapi&&n.gapi.load("auth2",function(){n.auth2=n.gapi.auth2.init().then(function(){r.a.log(n.NAME,o,"finish success"),n.gapi.auth2.getAuthInstance().isSignedIn.listen(n.onSignedInChanged.bind(n)),e()}).catch(function(t){r.a.log(n.NAME,o,"finish failed",t),e()})})})),this.firstInit},t.prototype.render=function(t,e){var n=Object.assign({},this.buttonDefaultSettings,e);this.gapi.signin2.render(t,n)},t.prototype.onSuccess=function(t){r.a.log(this.NAME,"onSuccess",t),this.authPromise.then(function(){o.a.dispatch(i.a.GoogleSignInSuccess)})},t.prototype.onFailure=function(t){var e=this;r.a.log(this.NAME,"onFailure",t),this.authPromise.then(function(){e.isSignedIn()?o.a.dispatch(i.a.GoogleSignInSuccess):o.a.dispatch(i.a.GoogleSignInFailure)})},t.prototype.onSignedInChanged=function(t){r.a.log(this.NAME,"onSignedInChanged",t),t?this.authPromise=this.authenticate():a.a.setDefaultUserData()},t.prototype.isSignedIn=function(){return this.gapi.auth2.getAuthInstance().isSignedIn.get()},t.prototype.getUserToken=function(){return this.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token},t.prototype.loginIfNeed=function(){return this.isSignedIn()?Promise.resolve():this.gapi.auth2.getAuthInstance().signIn()},t.prototype.logoutIfNeed=function(){return this.isSignedIn()?this.gapi.auth2.getAuthInstance().signOut():Promise.resolve()},t.prototype.authenticate=function(){var e=this,n="authenticate",t={IdToken:this.getUserToken()};return s.UserRepository.authenticateByToken(t).then(function(t){return r.a.log(e.NAME,n,t),a.a.onLoginSuccess(t)}).catch(function(t){return r.a.error(e.NAME,n,t),Promise.reject()})},t.prototype.waitAuthenticate=function(){return this.authPromise||(c.a.notLoggedIn()?this.authPromise=this.authenticate():this.authPromise=Promise.resolve()),this.authPromise},t._self=null,t}()},function(t,e,n){"use strict";var o,r=n(338),i=n(62),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return t.call(this)||this}return s(e,t),e.create=function(t){return r.a.loadAuthModule(t).then(function(t){return new t})},e}(i.a),c=n(7),u=n(26),p=n(137),l=n(326),f=n(331),h=n(31),d=n(10),g=n(9),y=n(2),v=n(350),m=new(function(){function t(){}return t.prototype.checkFacebookLinking=function(){var e=this,n="checkFacebookLinking",t=Object(g.p)(y.g.FacebookNewsToken);return t?v.a.post("facebook/linking",t).then(function(t){return _.clearStorage(),_.onLoginSuccess(t).then(function(){return p.a.log(e.constructor.name,n,"Facebook login success"),Promise.resolve()})}).catch(function(t){return p.a.log(e.constructor.name,n,"Facebook login failed"),Promise.resolve()}):Promise.resolve()},t}());n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.createAuthSystem=function(t){var e=this;return a.create(t).then(function(t){return e.authSystem=t,e.setAuthListeners(),e.authSystem})},t.prototype.defineUserData=function(t){var e=this;return this.createAuthSystem(t).then(function(){return m.checkFacebookLinking().then(function(){return e.authSystem.HasActiveSession().then(function(t){if(p.a.log(e.constructor.name,"defineUserData","HasActiveSession: "+t),l.a.get(f.a.ForceAuthSystemLogout)&&(l.a.set(f.a.ForceAuthSystemLogout,!1),e.clearMg2Storage()),t)return e.authSystem.getAuthProfile().then(function(t){return e.setActualUserData(t).then(function(t){return e.authSystem.logoutMultipleDevices().then(function(){return t})})}).catch(function(t){return e.setUserDataOnError(t)});e.setDefaultUserData()}).catch(function(t){return e.setUserDataOnError(t)})}).catch(function(t){return e.setUserDataOnError(t)})})},t.prototype.login=function(t,e,n){var o=this;return this.authSystem.login(t,e,n).then(function(t){return c.a.updateUserDataWithoutAccessEvent(t),o.authSystem.successLogin(),Promise.resolve(t)}).catch(function(t){return o.authSystem.failLogin(t),Promise.reject(t)})},t.prototype.onLoginSuccess=function(t){return this.authSystem.onLoginSuccess(t).then(function(t){return c.a.updateUserData(t),Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},t.prototype.onRegistrationSuccess=function(){this.authSystem.successRegistration()},t.prototype.syncUser=function(t){return this.authSystem.syncUser(t)},t.prototype.createUser=function(t,e){return c.a.createUser(t,e)},t.prototype.resetPassword=function(t,e){return c.a.resetPassword(t,e)},t.prototype.showLoginForm=function(){this.authSystem&&"function"==typeof this.authSystem.showLoginForm&&!c.a.isLogin()&&this.authSystem.showLoginForm()},t.prototype.showRegisterForm=function(t){this.authSystem&&"function"==typeof this.authSystem.showRegisterForm&&this.authSystem.showRegisterForm(t)},t.prototype.showResetPasswordForm=function(){this.authSystem&&"function"==typeof this.authSystem.showResetPasswordForm&&this.authSystem.showResetPasswordForm()},t.prototype.logout=function(){this.authSystem&&"function"==typeof this.authSystem.logout&&(d.ActionModule.deletePossibilityPresentForUser(),this.clearStorage(),this.authSystem.logout(),this.googleLogout())},t.prototype.googleLogout=function(){var t=l.a.get(f.a.SwGInstance);return t?t.GoogleUser.logout():Promise.resolve()},t.prototype.processLinks=function(t){this.authSystem&&"function"==typeof this.authSystem.processLinks&&this.authSystem.processLinks(t)},t.prototype.sendForgotPasswordRequest=function(t,e){return this.authSystem.sendForgotPasswordRequest(t,e)},t.prototype.useMg2LoginTemplate=function(){return this.authSystem.useMg2LoginTemplate()},t.prototype.hasPartialMg2AuthCookies=function(){return this.authSystem&&this.authSystem.hasPartialMg2AuthCookies()},t.prototype.updateCurrentUser=function(){var e=this;return this.authSystem.getAuthProfile().then(function(t){return e.updateUserData(t,u.o.refreshUserDataCookieExpired)}).catch(function(t){return e.setUserDataOnError(t)})},t.prototype.setAuthListeners=function(){this.authSystem.setAuthEventsListeners()},t.prototype.clearStorage=function(){this.authSystem.clearStorage(),c.a.clearStorage(),this.clearMg2Storage()},t.prototype.clearMg2Storage=function(){h.a.clearStorage()},t.prototype.getLastLoginDate=function(){return this.authSystem.getLastLoginDate()},t.prototype.setActualUserData=function(t){var e=c.a.needRefreshUserData(t.UserId,t.isPageLoadUpdate);return e.refresh?e.reason==u.o.refreshUserDataCookieExpired?this.updateUserData(t,e.reason,u.p):this.updateUserData(t,e.reason):this.keepUserDataUntouched(t)},t.prototype.updateUserData=function(n,o,r){var i=this;void 0===r&&(r=null);var s="updateUserData",t=null,e=this.authSystem.getUserData(n);return r&&(t=new Promise(function(t){var e=setTimeout(function(){clearTimeout(e),t(null)},r)})),(r?Promise.race([t,e]):e).then(function(t){if(t){var e=i.authSystem.createUserDataFrom(n,t);return c.a.updateUserData(e),o==u.o.updateEveryPageload?h.a.removeActualDataOnDay():h.a.setActualDataOnDay(),Promise.resolve(t)}return p.a.warn(i.constructor.name,s,"User data refresh timeout reached. Using old data"),i.keepUserDataUntouched(n)}).catch(function(t){return o==u.o.refreshUserDataCookieExpired?(p.a.warn(i.constructor.name,s,"User data refresh failed. Using old data"),i.keepUserDataUntouched(n)):i.setUserDataOnError(t)})},t.prototype.keepUserDataUntouched=function(t){return c.a.updateCachedUserData(t),Promise.resolve(c.a.getCachedUserData())},t.prototype.setDefaultUserData=function(){this.clearStorage();var t=this.authSystem.getDefaultUserData();c.a.updateUserData(t),p.a.log(this.constructor.name,"setDefaultUserData",t)},t.prototype.setUserDataOnError=function(t){return p.a.log(this.constructor.name,"setUserDataOnError","error",t),this.setDefaultUserData(),Promise.resolve(c.a.getUserData())},t}())},function(t,e,n){"use strict";var o=n(235),r=n(15),i=n(26),a=n(7),c=n(44),u=n(275),p=n(350),l=n(2),f=n(331),s=new(function(){function t(){u.a.get(l.e.DisqusToken,{expandKey:!1,useRootDomain:!0}),u.a.get(l.e.DisqusDemos,{expandKey:!1,useRootDomain:!0})}return t.prototype.integrate=function(){var i=a.a.getUserData(),s={id:i.CustomerRegistrationId,username:i.DisplayName?i.DisplayName:i.Email.split("@")[0],email:i.Email};p.a.post("user/integrateDisqus",s).then(function(t){var e=s.username.split(" "),n=e[0],o="";2==e.length?o=e[1]:2<e.length&&(e.shift(),o=e.join(" "));var r={nameFirst:n,nameLast:o,age:0,gend:0,userId:i.CustomerRegistrationId};u.a.set(l.e.DisqusToken,t,{expandKey:!1,daysOfLife:c.a.get(f.a.UserAuthenticationTime),useRootDomain:!0}),u.a.set(l.e.DisqusDemos,r,{expandKey:!1,daysOfLife:c.a.get(f.a.UserAuthenticationTime),useRootDomain:!0})})},t.prototype.clearCookie=function(){u.a.delete(l.e.DisqusToken,{expandKey:!1,useRootDomain:!0}),u.a.delete(l.e.DisqusDemos,{expandKey:!1,useRootDomain:!0})},t}()),h=n(133),d=n(325),g=n(50),y=n(326),v=n(137),m=n(9),_=n(0),b=n(11),C=n(74),w=n(208),A=new(function(){function t(){this.redirectAttrName="redirect",this.processLinkAttrName="process-link"}return t.prototype.processLink=function(t){var e=b.a.attr(t,"href")||"";this.checkBooleanAttribute(t,this.redirectAttrName,!1)&&(e=new w.a(t).getUrl()),this.checkBooleanAttribute(t,this.processLinkAttrName,!1)&&(e=C.a.getUrlWithQueryParams(t,e))&&"#"!==e&&b.a.attr(t,{href:e})},t.prototype.checkBooleanAttribute=function(t,e,n){void 0===n&&(n=!0);var o=b.a.attr(t,e);return null===o?!n:"true"===(o=o.toLowerCase())||"false"!==o&&!n},t}()),I=n(18),S=n(31);n.d(e,"a",function(){return O});var O=function(){function t(){}return t.prototype.HasActiveSession=function(){return Promise.resolve(!1)},t.prototype.successLogin=function(){d.a.dispatch(g.a.LoginSuccess,{MG2AccountData:a.a.getUserData(),AuthProfile:a.a.getAuthProfile(),AuthSystem:this.name}),this.setLoginData(),c.a.isIntegrateDisqus()&&s.integrate(),r.a.getActivationProcess()||this.afterSuccessLogin()},t.prototype.afterSuccessLogin=function(){d.a.dispatch(i.h.ApplicationReload,i.l.Login)},t.prototype.successRegistration=function(){(d.a.dispatch(g.a.RegistrationSuccess,{MG2AccountData:a.a.getUserData(),AuthProfile:a.a.getAuthProfile(),AuthSystem:this.name}),c.a.isIntegrateDisqus()&&s.integrate(),r.a.getActivationProcess())?(d.a.dispatch(g.a.ActivationAccountCreated,{Email:this.authProfile.Email,DisplayName:this.authProfile.FullName}),y.a.get(f.a.ActivationInstance).process()):this.afterSuccessRegistration()},t.prototype.afterSuccessRegistration=function(){r.a.stopRegistrationProcess(),d.a.dispatch(i.h.ApplicationReload,i.l.Login)},t.prototype.failLogin=function(t){d.a.dispatch(g.a.LoginError,t.ErrorMessage)},t.prototype.showLoginForm=function(t){},t.prototype.showRegisterForm=function(t){},t.prototype.showResetPasswordForm=function(t){},t.prototype.setAuthEventsListeners=function(){},t.prototype.login=function(t,e,n){return Promise.resolve()},t.prototype.onLoginSuccess=function(t){return Promise.resolve(t)},t.prototype.getUserData=function(n){var o=this;return n.UserId?S.a.getUserData(n.UserId,n.IdType).then(function(t){v.a.log(o.name,"getUserData",t);var e=o.createUserDataFrom(n,t);return Promise.resolve(e)}).catch(function(t){return v.a.error(o.name,"getUserData - failed",t),Promise.reject(t)}):Promise.resolve(this.getDefaultUserData())},t.prototype.getDefaultUserData=function(t){return v.a.log(this.name,"getDefaultUserData"),new o.a({UserState:t?i.q.LoggedIn:i.q.NotLoggedIn,AuthSystem:this.name,AuthSystemId:this.id,ZipCodes:[h.a.getZipCode()]})},t.prototype.getAuthProfile=function(){return Promise.resolve(this.authProfile)},t.prototype.logoutMultipleDevices=function(){return Promise.resolve()},t.prototype.logout=function(){this.deleteLoginData(),s.clearCookie()},t.prototype.processLinks=function(t){var e=Object(m.h)(t);Object(_.each)(e,function(t){A.processLink(t)})},t.prototype.clearStorage=function(){},t.prototype.sendForgotPasswordRequest=function(t,e){throw"Not implemented"},t.prototype.useMg2LoginTemplate=function(){return!1},t.prototype.hasPartialMg2AuthCookies=function(){return!1},t.prototype.createUserDataFrom=function(t,e){var n;return(n=e?new o.a(e):new o.a(t)).UserState=null,n.updateAuthProfileData(t),n.setAuthSystemInfo(this.id,this.name),n},t.prototype.authSystemNotFound=function(){v.a.warn(this.constructor.name,"No global object found!")},t.prototype.syncUser=function(t){var e={CustomRegId:a.a.getCustomerRegistrationId()};return a.a.syncUser(e,t).catch(function(){return Promise.resolve()})},t.prototype.getLastLoginDate=function(){var t=this.getLoginData();if(!t||!t.LastLoginDate)return null;var e=new Date(t.LastLoginDate);return isNaN(e.getTime())?null:e},t.prototype.setLoginData=function(){var t={LastLoginDate:new Date};u.a.set(l.b.AuthLoginData,I.a.encrypt(t))},t.prototype.deleteLoginData=function(){u.a.delete(l.b.AuthLoginData)},t.prototype.getLoginData=function(){return I.a.decrypt(u.a.get(l.b.AuthLoginData),!0)},t}()},function(t,e,n){"use strict";var r=n(0),i=n(11),s=n(137),a=n(7),o=function(){function t(t){this.preferences=[],this.invalidPreferences=[];var e=this.getPreferencesFromHtml(t);this.mapPreferences(e)}return t.prototype.mapPreferences=function(t){var n=this;Object(r.each)(t,function(t){var e=parseInt(t.id);n.isValidId(e)?n.preferences.push({Id:e,Name:t.name,Description:t.description,SubscriberOnly:t.SubscriberOnly}):n.invalidPreferences.push(t.id)})},t.prototype.isValidId=function(t){return!isNaN(t)&&0<t},t.prototype.getNewsletterPreferences=function(){return this.preferences},t.prototype.getInvalidPreferences=function(){return this.invalidPreferences.length?this.invalidPreferences:null},t.prototype.getPreferencesFromHtml=function(t){try{var e=document.createDocumentFragment();e.appendChild(i.a.create(t));var n=e.querySelector("[data-tmpl-action-name='Newsletter']");if(!n)return null;var o=i.a.text(n);return o?JSON.parse(decodeURIComponent(o)):null}catch(t){return s.a.error("getPreferencesFromHtml method has error",t),null}},t.prototype.getEmailPreferencesIds=function(){return Array.isArray(this.preferences)?this.preferences.map(function(t){return t.Id}):null},t.prototype.getUserSubscribedEmailPreferenceIds=function(){var t=[],e=v.getCookiesEmailPreferences(),n=e?Object(r.map)(e.split(","),function(t){return parseInt(t)}):[];if(a.a.isLogin()){var o=a.a.getUserData().EmailPreferences||[];t=Object(r.union)(n,Object(r.map)(o,function(t){return t.Id}))}else t=n;return t},t.prototype.issetPreferencesInTemplate=function(t){return!(!t||t&&0==t.length)},t.prototype.isUserAlreadySubscribe=function(){var t=this.getEmailPreferencesIds();if(this.issetPreferencesInTemplate(t)){var e=this.getUserSubscribedEmailPreferenceIds();if(e&&0==e.length)return!1;if(t&&e)return 0==Object(r.difference)(t,e).length}return!1},t}(),c=n(328),u=n(339),p=n(350),l=n(58),f=n(39),h=new(function(){function t(){this.cookies=c.a.getInstance(),this.customLocalStorageOptions=new f.a({expandKey:!1,isSecureValue:!1})}return t.prototype.getSubscribeNewsletters=function(t){return p.a.post("user/emailPreference/subscribe",t,{location:u.a.Newsletter})},t.prototype.getEmailPreferences=function(t){var e="user/emailPreference?email="+encodeURIComponent(t);return p.a.get(e)},t.prototype.setEmailPreference=function(t,e){this.cookies.set(l.a.EmailPreference,t,e)},t.prototype.getEmailPreference=function(){return this.cookies.get(l.a.EmailPreference)},t}()),d=n(9),g=n(325),y=n(50);n.d(e,"a",function(){return v});var v=new(function(){function t(){}return t.prototype.getSubscribePreferenceInstance=function(t){return new o(t)},t.prototype.getEmailPreferences=function(t){return h.getEmailPreferences(t).then(function(t){var n=[];return Object(r.each)(t,function(t){var e=t.Preference;n.push({Id:e.EmailPreferenceId,Name:e.Title,Description:e.Description,SubscriberOnly:e.SubscriberOnly})}),Promise.resolve(n)})},t.prototype.mergeEmailPreferenceIdsToStorage=function(t){var e=this.getCookiesEmailPreferences(),n=e?e.split(",").map(function(t){return+t}):[],o=Object(r.map)(t,function(t){return t.Id});this.setEmailPreferencesIds(Object(r.uniq)(Object(r.union)(n,o)))},t.prototype.setEmailPreferences=function(t){this.setEmailPreferencesIds(Object(r.map)(t,function(t){return t.Id}))},t.prototype.setEmailPreferencesIds=function(t){h.setEmailPreference(t.join(","),{useRootDomain:!0,expandKey:!1,expires:Object(d.b)(45)})},t.prototype.getCookiesEmailPreferences=function(){return h.getEmailPreference()},t.prototype.getSubscribeNewsletters=function(t){var e={Email:t.Email,EmailPreferences:t.EmailPreferences.map(Object(r.property)("Id"))};return h.getSubscribeNewsletters(e).then(function(){return g.a.dispatch(y.a.NewsletterSignUp,t),Promise.resolve()}).catch(function(t){return g.a.dispatch(y.a.NewsletterSignUpFails,{PostModel:e,Error:t}),Promise.reject(t)})},t}())},function(t,e,n){"use strict";n.r(e);var o,i=n(88),r=n(37),s=n(26),a=n(11),c=n(124),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector="data-mg2-action",t}return u(t,e),t}(c.a),l=n(325),f=n(50);n.d(e,"FailActivation",function(){return g});var h,d=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(r){function t(t,e){var n=r.call(this,t)||this;n.subStepName="Fail",n.create();var o=a.a.find('[data-nxt-role="linkingErrorMessage"] span',n.element);return e=e?e.replace("Request Failed. Errors:","").trim():e,a.a.html(o,e),n}return d(t,r),t.prototype.process=function(){var e=this,t=(new p).find("backStep",this.element);this.show(),a.a.on(t,"click",function(t){t.preventDefault(),e.hide(),new i.ActivateForm(e.parentStep).process(),l.a.dispatch(f.a.ActivationLinkErrorStepClosed,{CloseEvent:s.c.MoveToActivate})})},t.prototype.close=function(t){this.hide(),t.ActivateStatus="error",l.a.dispatch(f.a.ActivationLinkErrorStepClosed,t)},t.prototype.addErrorMessage=function(t){var e=a.a.find('[data-nxt-role="linkingErrorMessage"] span',this.element),n=t.ErrorMessage;n=n?n.replace("Request Failed. Errors:","").trim():t,a.a.html(e,n),this.addLinkToInsertedButton(t,e)},t.prototype.addLinkToInsertedButton=function(t,e){var n=a.a.find('[data-nxt-template-substep="'+t.Substep+'"] [data-nxt-link="'+t.Link+'"]',this.parentStep.getStepElement());if(n.length){var o=a.a.attr(n[0],"href");if(o){var r=a.a.find('[data-nxt-link="'+t.Link+'"]',e[0]);a.a.attr(r[0],{href:o})}}},t}(r.ActivateSubStep)},function(t,e,n){"use strict";var i=n(303),o=n(326),r=n(331),s=n(329),a=n(137),c=n(44),u=n(26),p=n(342),l=function(t,e){this.publishSettings=t,this.needUpdate=e},f=n(0),h=n(8),d=n(327),g=n(335),y=n(51),v=function(){function t(){}return t.prototype.resetAll=function(){d.a.resetStorage(),g.a.resetStorage(),y.a.resetStorage(),h.a.resetStorage()},t.prototype.setResetData=function(t){this.resetData=t,this.publishSettings=t?t.publishSettings:null},t.prototype.startFlowResetIfNeed=function(t,e){if(t){if(this.setResetData(t),!this.resetData||!this.publishSettings)return;this.resetData.needUpdate&&(this.isNeedUpdateRepeatActions()&&d.a.resetStorage(),this.isResetCurrentConversation()&&(h.a.resetCurrentCovrsations(),g.a.resetStorage()),this.isResetAllowIpList()&&y.a.resetStorage(),this.publishSettings.Reset?h.a.resetStorage():this.isResetArticleViews()&&h.a.resetArticleViews(),e&&(this.resetData.needUpdate=!1))}else this.resetAll()},t.prototype.isResetVisitedView=function(){return!(!this.resetData||!this.publishSettings)&&(!!this.resetData.needUpdate&&!(!this.publishSettings.ResetDaysVisitedSite&&!this.publishSettings.Reset))},t.prototype.isResetCurrentConversation=function(){return!(!this.resetData||!this.publishSettings)&&(!!this.resetData.needUpdate&&!(!this.publishSettings.ResetCurrentConversation&&!this.publishSettings.Reset))},t.prototype.isResetArticleViews=function(){return!!this.resetData&&!(!this.publishSettings.ResetArticleViews&&!this.publishSettings.Reset)},t.prototype.isResetAllowIpList=function(){return!!this.resetData&&!(!this.publishSettings.ResetAllowIpList&&!this.publishSettings.Reset)},t.prototype.isNeedUpdateRepeatActions=function(){return!!this.resetData&&!(!this.publishSettings||!this.publishSettings.Reset&&!this.publishSettings.ResetRepeatable)},t}(),m=n(248);n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.getStartConfiguration=function(){var n=this;this.resetService=new v;var t=p.a.getLocalConfiguration();if(Object(f.isEmpty)(t))return this.saveConfiguration();this.setConfiguration(t);var e=p.a.getPublishSettings();return c.a.setPublishSettings(e),new Promise(function(e){n.updateConfiguration().then(function(){var t=p.a.getPublishSettings();c.a.setPublishSettings(t),n.resetService.startFlowResetIfNeed(t),e(p.a.getLocalConfiguration())}).catch(function(){n.saveConfiguration().then(function(t){e(t)})})})},t.prototype.isHaveNewPublish=function(t,e){return new Date(this.getPublishDate(e)).valueOf()<new Date(t.publishSettings.Date).valueOf()},t.prototype.getResetService=function(){return this.resetService},t.prototype.getPublishDate=function(t){var e=t||this.getConfiguration();return e&&e.Settings&&e.Settings.LastPublishDate?new Date(e.Settings.LastPublishDate):null},t.prototype.getConfiguration=function(){return p.a.getLocalConfiguration()},t.prototype.setConfiguration=function(t){p.a.setLocalConfiguration(t),o.a.set(r.a.UseRootDomain,this.useRootDomain())},t.prototype.saveConfiguration=function(t){var e=this;return this.getConfigurationData(c.a.getAttribute()).catch(function(t){if(t instanceof s.a)return e.getConfigurationData()}).catch(function(t){return Promise.reject()})},t.prototype.getConfigurationData=function(t){var e=this;return(window.NxtConfiguration||!Object(f.isEmpty)(window.NxtConfiguration)?Promise.resolve(window.NxtConfiguration):p.a.getConfigurationFromApi(c.a.getParamsToGenerateUrl(),t)).then(function(t){return!t||Object(f.isEmpty)(t)?(a.a.error("getConfigurationFromApi configuration is empty",t),Promise.reject()):(e.setConfiguration(t),t.Settings&&c.a.updateProductCodeFromConfig(t.Settings),Promise.resolve(t))}).catch(function(t){throw t})},t.prototype.updateConfiguration=function(){var e=this;return this.getResetInformation().then(function(t){return e.updatePublishSettings(t),e.resetService.setResetData(t),t.needUpdate?e.saveConfiguration(t):Promise.resolve(null)}).catch(function(t){return a.a.error(t),Promise.reject(t)})},t.prototype.getResetInformation=function(){var i=this,s="getResetInformation";return(window.NxtPublishConfiguration||!Object(f.isEmpty)(window.NxtPublishConfiguration)?Promise.resolve(window.NxtPublishConfiguration):p.a.getPublishSettingsFromApi(c.a.getResourceUrl(),c.a.getSiteCode(),c.a.getConfigCode())).then(function(t){if(Object(f.isEmpty)(t)||!t.Date)return a.a.error("Configuration",s,"Publish settings file is empty","Resource URL: "+c.a.getResourceUrl(),t?JSON.stringify(t):null),Promise.reject(null);var e=new Date(t.Date),n=i.getPublishDate(),o=!1;o=!n||e.getTime()>n.getTime();var r=new l(t,o);return Promise.resolve(r)}).catch(function(t){return a.a.error("Configuration",s,"Failed to get Publish settings","Resource URL: "+c.a.getResourceUrl()+", SiteCode: "+c.a.getSiteCode()+", ConfigCode: "+c.a.getConfigCode()),Promise.reject(null)})},t.prototype.updatePublishSettings=function(t){c.a.setPublishSettings(t),p.a.setPublishSettings(t,{expires:new Date(u.g)})},t.prototype.getPublishSettings=function(){return p.a.getPublishSettings()},t.prototype.getCampaignData=function(){return this.getConfiguration().Campaign},t.prototype.getConfigurationSettings=function(){var t=this.getConfiguration();return t?t.Settings:null},t.prototype.useRootDomain=function(){var t=this.getConfigurationSettings();return!!t&&t.UseParentDomain},t.prototype.getRegistrationType=function(){return this.getConfigurationSettings().Site.RegistrationTypeId},t.prototype.getWhitelistSets=function(){var t=this.getConfiguration();return t?t.WhitelistSets:null},t.prototype.getRegistrationTemplate=function(){return this.getConfigurationSettings().RegistrationForm},t.prototype.getLoginTemplate=function(){return this.getConfigurationSettings().LoginTemplate},t.prototype.getActivationTemplate=function(){return this.getConfigurationSettings().ActivationForm},t.prototype.getCookiesPrivacyTemplate=function(){return this.getConfigurationSettings().CookiesPrivacyForm},t.prototype.getResetPasswordTemplate=function(){return this.getConfigurationSettings().ResetPasswordForm},t.prototype.getReturnUrl=function(){var t=this.getConfigurationSettings();return t?t.ReturnUrl:null},t.prototype.getUrlWithQueryParams=function(t,e){return new m.a(t,e,this.getConfigurationSettings()).getUrl()},t.prototype.setActive=function(t){var e=this.getConfiguration();e.Active=t,this.setConfiguration(e)},t.prototype.getDebugAllowedSetting=function(){var t=(this.getPublishSettings()||{}).publishSettings,e=this.getConfiguration();return t&&void 0!==t.PluginDebugAllowed?t.PluginDebugAllowed:e&&e.Settings&&void 0!==e.Settings.PluginDebugAllowed?e.Settings.PluginDebugAllowed:c.a.getOptions().environment!==u.e.prod},t.prototype.getConversation=function(t,e){var n=this.getCampaignData().Conversations;if(!n)return null;var o=n[t],r=Object(f.findWhere)(o,{Id:e});return r?new i.a(r):null},t.prototype.getConversationActions=function(t,e){var n=this.getConversation(u.i[t],e);return n?n.Actions:null},t.prototype.getPublishConfigurationCodes=function(){return this.getConfiguration().PublishedConfigurations},t}())},function(t,e,n){"use strict";var o=n(11),r=n(0),i=n(91),s=n(122),a=new(function(){function t(){}return t.prototype.add=function(t){var e=t.options.backdrop;e||"static"===e?(this.backdrop=o.a.queryElement(".connext-modal-backdrop"),this.backdrop||this.create(),o.a.css(this.backdrop,{zIndex:t.zIndex-1,opacity:t.options.transparentBackdrop})):this.backdrop&&(o.a.remove(this.backdrop),this.backdrop=null)},t.prototype.delete=function(){this.backdrop&&o.a.remove(this.backdrop)},t.prototype.create=function(){var t=document.createElement("div");t.setAttribute("class",s.a.BACKDROP+" fade"),this.backdrop=document.body.appendChild(t)},t.prototype.reset=function(){this.delete(),this.backdrop=null,this.listener=null},t}()),c=n(26),u=n(137);n.d(e,"a",function(){return p});var p=new(function(){function t(){this.stack=[],this.currentOpenModal=null}return t.prototype.reset=function(){var e=this;Object(r.each)(this.stack,function(t){e.hide(t)}),this.stack=[],this.currentOpenModal=null,this.keyDownListener=null,this.outsideClickListener=null,a.reset()},t.prototype.show=function(t){if(!t.isShown){if(u.a.log("BsModalService",this.stack,t,t.isShown),this.isEmptyStack())this.resetPageScroll(),i.a.saveOriginalRightPadding();else{var e=Object(r.last)(this.stack);this.removeBackDropListener(e),this.removeKeydownListeners()}this.stack.push(t);var n=this.calculateZIndex();t.setZindex(n),t.show(),setTimeout(function(){a.add(t),i.a.updateUnderElement(t.element)},100),this.addKeydownListeners(t),this.addBackDropListener(t),this.currentOpenModal=t}},t.prototype.addBackDropListener=function(t){this.outsideClickListener=t.close.bind(t,c.c.ClickOutside),o.a.on(t.containerElement,"click",this.outsideClickListener)},t.prototype.hide=function(t,e){this.isModalOpen(t)&&(this.removeBackDropListener(t),this.removeKeydownListeners(),this.removeModalFromStack(t),t.hide(e)),this.isEmptyStack()?(this.returnPageScroll(),a.delete(),i.a.resetHorizontalScrollbar()):this.focusNextModal()},t.prototype.resetPageScroll=function(){o.a.addClass(document.body,"modal-open"),o.a.addClass(document.getElementsByTagName("html")[0],"modal-open")},t.prototype.returnPageScroll=function(){o.a.removeClass(document.body,"modal-open"),o.a.removeClass(document.getElementsByTagName("html")[0],"modal-open")},t.prototype.getStackLength=function(){return this.stack.length},t.prototype.calculateZIndex=function(){return 10040+10*this.getStackLength()},t.prototype.isModalOpen=function(e){return Object(r.find)(this.stack,function(t){return t.id===e.id})},t.prototype.removeModalFromStack=function(e){this.stack=Object(r.filter)(this.stack,function(t){return t.id!==e.id})},t.prototype.focusNextModal=function(){this.currentOpenModal=Object(r.last)(this.stack),this.currentOpenModal&&(this.currentOpenModal.setFocus(),this.currentOpenModal.isShown=!0,i.a.updateUnderElement(this.currentOpenModal.element),a.add(this.currentOpenModal),this.addKeydownListeners(this.currentOpenModal),this.addBackDropListener(this.currentOpenModal))},t.prototype.isEmptyStack=function(){return 0===this.getStackLength()},t.prototype.addKeydownListeners=function(t){this.keyDownListener=t.close.bind(t,c.c.EscButton),o.a.on(document,"keydown",this.keyDownListener)},t.prototype.removeKeydownListeners=function(){o.a.off(document,"keydown",this.keyDownListener),this.keyDownListener=null},t.prototype.removeBackDropListener=function(t){o.a.off(t.containerElement,"click",this.outsideClickListener)},t}())},function(t,e,n){"use strict";n.r(e);var o,r,i,s,a,c,u=n(16),p=function(t){t&&(this.Method=t.Effect,this.TrimMethod=t.TrimmingMethod,this.Selector=t.Selector,this.AllowedCharactersCount=t.AllowedCharactersCount||t.Characters||0,this.CurrentCharacterCount=0,this.Terminator=t.Terminator||"",this.ContainerHeight=t.ContainerHeight||0,this.TemplateType=t.TemplateType,this.ExcludeClasses=t.ExcludeClasses)},l=n(330),f=n(0),h=n.n(f),d=n(11),m=function(t,e){this.updatedElement=t,this.lastTrimElement=e},g=function(){function t(t){this.styleElementClass="content-styles",this.elementToBeMaskedClass="to-be-masked",this.exceptionContentStylesSelectors=[".blurry-text",".mark-text",".Mg2-fade"],this.maskingOptions=t;var e=this.maskingOptions.ExcludeClasses.join(" .")?"."+this.maskingOptions.ExcludeClasses.join(" ."):"";this.maskElement=d.a.queryElement(this.maskingOptions.Selector+":not("+e+")"),this.maskElement&&(this.maskElement.classList.add(this.elementToBeMaskedClass),this.setOriginalContent(),this.setContentStyles())}return t.prototype.setOriginalContent=function(){var t=this.maskElement.cloneNode(!0);Object(f.each)(this.getExcludedElements(t),function(t){t.remove()}),this.originalContent=d.a.removeScripts(t.innerHTML)},t.prototype.setContentStyles=function(){var t=d.a.queryElement(this.maskingOptions.Selector+"."+this.elementToBeMaskedClass),e=d.a.find("."+this.styleElementClass,t),n=this.maskingOptions.Selector+"."+this.elementToBeMaskedClass+" *";Object(f.each)(this.exceptionContentStylesSelectors,function(t){return n+=":not("+t+")"});var o="\n            "+n+", "+n+":before, "+n+":after {\n                height: 0px;\n                margin-top: 0px;\n                margin-bottom: 0px;\n                padding: 0px;\n                content: '';\n            }\n        ";e[0]?this.styleElement=e[0]:(this.styleElement=d.a.createElement("style"),d.a.addClass(this.styleElement,this.styleElementClass),t.append(this.styleElement)),d.a.html(this.styleElement,o)},t.prototype.getOriginalContent=function(){return this.originalContent},t.prototype.getMaskElement=function(){return this.maskElement},t.prototype.getMaskHtml=function(){return d.a.queryElement(this.maskingOptions.Selector).innerHTML},t.prototype.removeHeightFromContent=function(){d.a.css(this.getMaskElement(),{"text-overflow":"ellipsis",overflow:"hidden",height:"auto","min-height":"unset"})},t.prototype.unMask=function(){d.a.queryElement(this.maskingOptions.Selector).innerHTML=this.getOriginalContent()},t.prototype.findNextElement=function(t){return t.nextElementSibling},t.prototype.isExcludeElement=function(t){var e=this.getExcludedClasses();if(e&&Object(f.isArray)(e))for(var n=e.length,o=0;o<n;o++)if(d.a.hasClass(t,e[o]))return!0;return!1},t.prototype.isElementHasExcludes=function(t){for(var e=this.getExcludedClasses(),n=e.length,o=0;o<n;o++){var r=d.a.find("."+e[o],t);if(r&&0<r.length)return!0}return!1},t.prototype.getExcludedElements=function(n){var o=[];return Object(f.each)(this.getExcludedClasses(),function(t){var e=d.a.find("."+t,n);o=o.concat(e)}),o},t.prototype.calculateExcludesHeight=function(t){var e=this.getExcludedElements(t),n=0;return Object(f.each)(e,function(t){n+=n+d.a.height(t)}),n},t.prototype.getExcludedClasses=function(){var t=this.maskingOptions.ExcludeClasses?this.maskingOptions.ExcludeClasses.slice():[];return t.push(this.styleElementClass),t},t}(),y=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.markClass="mark-text",t}return y(t,e),t.prototype.markExcluded=function(t){var e=this,n=this.getExcludedElements(t);Object(f.each)(n,function(t){e.markElement(t),e.markChildren(t.children)})},t.prototype.splitElement=function(t){this.unMarkRootIfNotExcluded(t);for(var e=t,n=this.getTextNodes(e,[]),o=0,r=this.maskingOptions.AllowedCharactersCount,i=null,s=0,a=n;s<a.length;s++){var c=a[s],u=c.parentNode;this.markParentsToRootElement(c,t);var p=c.textContent||"";0===p.trim().length&&(p="");var l=p.length;if(!(o+l<r)){var f=this.getUncutParent(c,t);if(f){var h=document.createElement("SPAN");h.appendChild(document.createTextNode(" "+this.maskingOptions.Terminator)),f.insertAdjacentElement("afterend",h),this.lastTrimNode=h,i=this.lastTrimNode.parentNode,this.wrapNextTextNodes(this.lastTrimNode,t),this.markElement(this.lastTrimNode);break}var d=r-o,g=p.substr(0,d);c.textContent=g,c.textContent+=" "+this.maskingOptions.Terminator,this.lastTrimNode=c,i=u;var y=p.substr(d),v=document.createTextNode(y);u.insertBefore(v,c.nextSibling),this.wrapNextTextNodes(c,t);break}o+=l}return new m(e,i)},t.prototype.getLastTrimNode=function(){return this.lastTrimNode},t.prototype.getLastMarkElement=function(t){return this.lastTrimNode?this.lastTrimNode.parentNode:Array.from((t||document).querySelectorAll("."+this.markClass)).filter(function(t){return t.offsetParent}).pop()},t.prototype.wrapNextTextNodes=function(n,t){var e=Array.from(n.parentNode.childNodes),o=e.indexOf(n);e.splice(o+1).filter(function(t){return t.nodeType==Node.TEXT_NODE}).forEach(function(t){var e=document.createElement("span");e.textContent=t.textContent,n.parentNode.replaceChild(e,t)}),n!=t&&this.wrapNextTextNodes(n.parentNode,t)},t.prototype.unMarkRootIfNotExcluded=function(e){var t=this.maskingOptions.ExcludeClasses.some(function(t){return d.a.hasClass(e,t)});return t||this.unMarkElement(e),t},t.prototype.getTextNodes=function(t,e){if(t.nodeType==Node.ELEMENT_NODE&&this.hasMark(t))return e;for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];t.offsetParent&&this.getTextNodes(o,e)}return t.nodeType==Node.TEXT_NODE&&e.push(t),e},t.prototype.addTerminator=function(t,e){t.innerText=e+this.maskingOptions.Terminator},t.prototype.getNotMarkedElements=function(t){return d.a.find(":not(."+this.markClass+")",t)},t.prototype.hasMark=function(t){return d.a.hasClass(t,this.markClass)},t.prototype.removeNotMarked=function(t){var e=this,n=this.getExcludedElements(t),o=t.children;n&&0===n.length?this.hasMark(t)||this.clearElement(t):t.style.margin="0px",o&&0<o.length?Object(f.each)(t.children,function(t){d.a.hasClass(t,e.markClass)?e.removeNotMarked(t):t.children&&0<t.children.length?e.removeNotMarked(t):e.clearElement(t)}):d.a.hasClass(t,this.markClass)||this.clearElement(t)},t.prototype.markParentsToRootElement=function(t,e){if(e.contains(t)&&t!=e)for(var n=t;n=n.parentNode,this.markElement(n),n!=e;);},t.prototype.markElement=function(t){t.classList.add(this.markClass)},t.prototype.unMarkElement=function(t){d.a.removeClass(t,this.markClass)},t.prototype.textContent=function(t){var n=this;return[].reduce.call(t.childNodes,function(t,e){return t+(n.isTextNodeType(e)?e.textContent.trim():"")},"")},t.prototype.isTextNodeType=function(t){if(3===t.nodeType)return!0;switch(t.nodeName){case"P":case"SPAN":return!0;default:return!1}},t.prototype.startElementHaveNeedLength=function(t,e){return!!(t==this.maskingOptions.AllowedCharactersCount||this.isAllowedLength(t)&&e)},t.prototype.isAllowedLength=function(t){return t<this.maskingOptions.AllowedCharactersCount},t.prototype.markChildren=function(t){var e=this;Object(f.each)(t,function(t){t.children&&0<t.children.length&&e.markChildren(t.children),e.markElement(t)})},t.prototype.getMarkElements=function(t){return d.a.find("."+this.markClass,t)},t.prototype.removeMarkClass=function(t){var e=this,n=this.getMarkElements(t);Object(f.each)(n,function(t){d.a.removeClass(t,e.markClass)})},t.prototype.clearElement=function(t){t.innerText="",t.textContent="",this.clearStyle(t)},t.prototype.clearStyle=function(t){t&&(t.style.height="0px !important",t.style.margin="0px !important",t.style.padding="0px !important")},t.prototype.removeAllText=function(t){for(var e=t.childNodes,n=0;n<e.length;n++){var o=e[n];o.nodeType==Node.TEXT_NODE?(o.parentNode.removeChild(o),n--):o.nodeType==Node.ELEMENT_NODE&&(this.clearStyle(o),this.removeAllText(o))}},t.prototype.getUncutParent=function(t,e){var n=["A"],o=t,r=null;if(o==e&&h.a.contains(n,o.tagName))return o;for(;o!=e;)h.a.contains(n,o.tagName)&&(r=o),o=o.parentNode;return r},t}(g),_=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(n){function t(t){var e=n.call(this,t)||this;return e.blurClass="blurry-text",e.blurContent(e.maskElement),e}return _(t,n),t.prototype.blurContent=function(t){this.markExcluded(t);var e=this.splitElement(t);this.blurNotMarked(e.updatedElement)},t.prototype.blurNotMarked=function(t){var e=this,n=this.getNotMarkedElements(t);Object(f.each)(n,function(t){e.isElementHasExcludes(t)||e.blurElementOwnText(t)})},t.prototype.blurElementOwnText=function(t){0<this.textContent(t).length&&this.setOwnText(t)},t.prototype.encryptContent=function(e){var n=this;if(0===d.a.children(e).length){var t=d.a.text(e);d.a.addClass(e,this.blurClass),d.a.text(e,this.encryptText(t))}else Object(f.each)(d.a.children(e),function(t){n.isElementHasExcludes(e)||(n.blurElementOwnText(t),n.encryptContent(t))})},t.prototype.setOwnText=function(t){var n=this,e=t.childNodes;Object(f.each)(e,function(t){if(3===t.nodeType&&0<t.textContent.trim().length){var e=n.encryptText(t.textContent);t.nodeValue=e,d.a.addClass(t.parentNode,n.blurClass)}})},t.prototype.encryptText=function(t){if(t)for(var e=0;e<t.length;e++)t=t.replaceAt(e,this.getNextLetter(t[e]));return t},t.prototype.getNextLetter=function(t){return t.replace(/([a-zA-Z])[^a-zA-Z]*$/,function(t){var e=t.charCodeAt(0);switch(e){case 90:return"A";case 122:return"a";default:return String.fromCharCode(++e)}})},t}(v),C=new(function(){function t(){}return t.prototype.getLastVisibleElement=function(t,e){if(this.hasChildrenElement(t)&&this.checkElement(t,e))for(var n=t.children.length-1;0<=n;n--){var o=t.children[n];if(this.checkElement(o,e))return this.getLastVisibleElement(o,e)}return t},t.prototype.checkElement=function(t,e){return!(!d.a.isVisible(t)||this.checkTextAfterElement(t)||e&&e.classesExcludeElement&&this.hasExcludeClasses(t,e.classesExcludeElement))},t.prototype.hasChildrenElement=function(t){return t.children&&0<t.children.length},t.prototype.hasExcludeClasses=function(t,e){if(!e||e&&0===e.length)return!1;for(var n=e.length,o=0;o<n;o++)if(d.a.hasClass(t,e[o]))return!0;return!1},t.prototype.getPrevLastElement=function(t){var e=t.children.length;return 1===e?t:t.children[e-2]},t.prototype.checkTextAfterElement=function(t){var e=d.a.nextSibling(t);return!!e&&(t.parentNode==e.parentNode&&"#text"==d.a.getType(e))},t}()),w=n(26),A=n(9),I=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.trim=function(t){if(this.removeMarkClass(t),Object(A.t)(this.maskingOptions.AllowedCharactersCount)&&0==this.maskingOptions.AllowedCharactersCount)return this.removeAllText(t),void this.addTerminator(t,"");this.markExcluded(t);var e=this.splitElement(t);this.removeNotMarked(e.updatedElement),this.lastTrimElement=e.lastTrimElement},e.prototype.getLastTrimElement=function(){return this.lastTrimElement},e.prototype.unMask=function(){t.prototype.unMask.call(this),this.removeHeightFromContent()},e}(v),O=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.trim=function(t){this.removeMarkClass(t);var e=this.maskingOptions.ContainerHeight;this.element=t;var n,o=this.calculateExcludesHeight(t);this.markExcluded(t),d.a.css(t,{overflow:"hidden",whitespace:"no-wrap",height:e+o+"px"}),this.markElement(t),this.markVisibleElements(t,d.a.bottom(t)),this.lastTrimElement=this.getLastMarkElement(t)||Object(f.last)(this.getMarkElements(t))||t,this.wrapNextTextNodes(this.lastTrimElement,t),n=d.a.hasClass(this.lastTrimElement,"Mg2-fade")?this.lastTrimElement:this.trimByHeightNode(this.lastTrimElement,d.a.height(t)),this.removeNotMarked(t),this.addTerminator(n),this.removeHeightFromContent()},e.prototype.getLastTrimElement=function(){return this.lastTrimElement},e.prototype.markVisibleElements=function(t,e){var n=t.children,o=n.length;if(0<o)for(var r=0;r<o;r++)this.elementInView(n[r],e)&&!this.isExcludeElement(n[r])&&this.markElement(n[r]),this.markVisibleElements(n[r],e)},e.prototype.elementInView=function(t,e){var n=d.a.top(t),o=d.a.bottom(t);return n<=e&&0<=o},e.prototype.markElementWithChildren=function(t,e){this.markElement(t),this.markChildren(e)},e.prototype.trimByHeightNode=function(t,e){return t&&"IMG"===t.nodeName?(this.trimByHeightImgNode(t,e),t):this.getAccurateHeight(t,e)},e.prototype.getAccurateHeight=function(t,e){var n=this.maskingOptions.ContainerHeight-e,o=t.innerText||t.textContent;if(!o)return this.elementNotResizeByText(t,n),t;for(var r=o.split(" "),i=t.cloneNode(!0);d.a.bottom(t)>=n;){if(void 0===r.pop())break;t.innerText=r.join(" ")}return r||this.elementNotResizeByText(i,n),t},e.prototype.elementNotResizeByText=function(t,e){d.a.css(t,{height:e+"px"})},e.prototype.addTerminator=function(t){t&&"IMG"===t.nodeName?d.a.after(t,"<p>"+this.maskingOptions.Terminator+"</p"):t&&(t.innerText=t.innerText+this.maskingOptions.Terminator)},e.prototype.trimByHeightImgNode=function(t,e){d.a.css(t,{overflow:"hidden",whitespace:"no-wrap",height:this.maskingOptions.ContainerHeight-e+"px"})},e.prototype.unMask=function(){t.prototype.unMask.call(this),this.removeHeightFromContent()},e}(v),P=n(211),D=n(137),x=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(n){function t(t){var e=n.call(this,t)||this;return e.trimContent(e.maskElement)}return x(t,n),t.prototype.trimContent=function(t){this.element=t;var e=this.maskingOptions.TrimMethod;if(e)switch(e){case P.c.AllowedCharacters:this.trimMask=new S(this.maskingOptions);break;case P.c.ContainerHeight:this.trimMask=new E(this.maskingOptions)}else{var n=this.maskingOptions.AllowedCharactersCount;if(Object(A.t)(n)&&0<n)this.trimMask=new S(this.maskingOptions);else{var o=this.maskingOptions.ContainerHeight;Object(A.t)(o)&&0<o?this.trimMask=new E(this.maskingOptions):D.a.warn("Trim effect is not defined")}}return this.trimMask.trim(t),this.trimMask},t.prototype.unMask=function(){n.prototype.unMask.call(this),this.removeHeightFromContent()},t}(g),U=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),R=function(n){function t(t){var e=n.call(this,t)||this;return e.fadeClass="Mg2-fade",e.trimMask=new B(e.maskingOptions),d.a.hasClass(e.maskElement.lastElementChild||e.maskElement,e.fadeClass)||e.fadeContent(e.maskElement),e.trimMask}return U(t,n),t.prototype.fadeContent=function(t){var e='<div class="'+this.fadeClass+'"></div>';if(this.maskingOptions.TemplateType===w.m.Inline){var n=this.getLastChildContent(t);d.a.append(n,e)}else d.a.append(t,e)},t.prototype.getLastChildContent=function(e){try{var t=this.trimMask.getLastTrimNode();return!t&&this.trimMask.getLastTrimElement&&(t=this.trimMask.getLastTrimElement()),t.parentNode}catch(t){var n={classesExcludeElement:[this.fadeClass]};return C.getLastVisibleElement(e,n)}},t}(g),L=function(){function t(t){var e=this;try{switch(this.maskingOptions=new p(t),this.maskingOptions.Method){case P.d.Trim:this.html=new B(this.maskingOptions);break;case P.d.Blur:this.html=new b(this.maskingOptions);break;case P.d.FadeAndTrim:case P.d.Fade:this.html=new R(this.maskingOptions)}this.originalContent=this.html.originalContent,this.maskContent=this.html.getMaskHtml();var n=d.a.queryElement(".flittz");d.a.removeClass(n,"blurry-text"),d.a.removeClass(n,"trimmed-text"),this.html.removeHeightFromContent(),d.a.on(window,"resize",function(){e.html.removeHeightFromContent()})}catch(t){throw l.a.HIDE_CONTENT}}return t.prototype.unMask=function(){this.html.unMask()},t}();n.d(e,"MaskContentAction",function(){return k});var T,F=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.maskContent=function(t){t.TemplateType=this.actionTemplate.getType(),t.ExcludeClasses=["Mg2-connext"],this.maskHtml=new L(t),this.maskedTime=new Date},e.prototype.getOriginalContent=function(){return this.maskHtml.originalContent},e.prototype.unmaskContent=function(){this.maskHtml&&this.maskHtml.unMask()},e.prototype.getMaskedTime=function(){return this.maskedTime},e}(u.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Qualifier",function(){return o});var o,r=n(12);(o||(o={})).getOperator=function(t){switch(t){case"==":case"=":case"Equal":case"Equals":return r.Operator.Equal;case"!=":case"Not Equal":case"Not Equals":return r.Operator.NotEqual;case">":case"More Than":return r.Operator.GreaterThan;case"<":case"Less Than":return r.Operator.LessThan;case">=":case"More Or Equal Than":case"More Than Or Equals To":case"More Than Or Equals To":return r.Operator.GreaterThanEqual;case"<=":case"Less Or Equal Than":case"Less Than Or Equals To":return r.Operator.LessThanEqual;case"In":return r.Operator.In;case"Not In":case"Out":return r.Operator.NotIn;case"Yes":return!0;case"No":return!1;case"Contains":return r.Operator.Contains;case"Does Not Contain":return r.Operator.DoesNotContain;case"Start With":return r.Operator.StartWith;case"End With":return r.Operator.EndWith;case"Intersect":return r.Operator.Intersect;case"Does Not Intersect":return r.Operator.DoesNotIntersect}}},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzStatusesMap",function(){return o});var o={FlittzLoggedIn:"Logged In",FlittzLoggedOut:"Logged Out"}},function(t,e,n){"use strict";n.r(e),n.d(e,"G2iExpression",function(){return c});var o,r=n(4),i=n(90),s=n(9),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getDataForCheck=function(t,e){if(!t)return null},e.prototype.isPassedCriteria=function(o){var r=this;return i.a.getUserDl().then(function(t){var e=r.getDataForCheck(t,o.EvaluatedObject);if(Object(s.t)(e)){var n=r.evaluateOperator(e,o.Value,o.Qualifier);return Promise.resolve(n)}return Promise.resolve(!1)}).catch(function(t){return Promise.resolve(!1)})},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationAuthenticateSubStep",function(){return c});var o,r=n(81),i=n(21),s=n(339),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new i.a({api:{location:s.a.Activation},inputAttrName:"data-nxt-input"}),t}return a(t,e),t.prototype.close=function(t){this.form.clear(),e.prototype.close.call(this,t)},t}(r.ActivationSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationSubStep",function(){return c});var o,r=n(326),i=n(331),s=n(83),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activation=r.a.get(i.a.ActivationInstance),t}return a(t,e),t}(s.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationStep",function(){return h});var o,r=n(326),i=n(331),s=n(325),a=n(50),c=n(84),u=n(201),p=n(200),l=n(0),f=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activation=r.a.get(i.a.ActivationInstance),t.commonSubSteps=[new p.SubscribeLink(t),new u.UpgradeLink(t)],t}return f(t,e),t.prototype.process=function(){Object(l.each)(this.commonSubSteps,function(t){t.process()})},t.prototype.close=function(t){s.a.dispatch(a.a.ActivationFormClosed,t),e.prototype.closeActiveSubsteps.call(this,t)},t}(c.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(11),r=n(219),i=function(){function t(t){this.parentStep=t}return t.prototype.create=function(){this.selector="["+this.parentStep.getSubStepAttr()+'="'+this.subStepName+'"]',this.element=o.a.queryElement(this.selector,this.parentStep.getStepElement()),this.processLink()},t.prototype.successSubStepStepAction=function(){},t.prototype.setSubStepData=function(t){this.subStepName=t.Name,this.width=t.Width,this.linkAttrName=t.LinkAttrName},t.prototype.getWidth=function(){return this.element&&o.a.attr(this.element,"data-sub-step-width")||this.width},t.prototype.setActiveStatus=function(t){this.isActive=t},t.prototype.getActiveStatus=function(){return this.isActive},t.prototype.getSelector=function(){return this.selector},t.prototype.setNextSubStep=function(t){this.nextSubStep=t},t.prototype.processSubStep=function(t){this.setNextSubStep(t),this.nextSubStep.process()},t.prototype.getNextSubStep=function(){return this.nextSubStep},t.prototype.findAllIn=function(t){return o.a.find(t,this.element)},t.prototype.show=function(){o.a.show(this.element)},t.prototype.hide=function(){o.a.hide(this.element)},t.prototype.process=function(){},t.prototype.isActiveInTemplate=function(){return!!this.element&&"none"!=o.a.attr(this.element,"data-step-display")},t.prototype.getName=function(){return this.subStepName},t.prototype.processLink=function(){var e=this,t=(new r.a).find(this.linkAttrName,this.parentStep.getStepElement());o.a.on(t,"click",function(t){t.preventDefault(),e.parentStep.hideAllSubsteps(),e.process(),e.parentStep.setActiveSubsteps([e])})},t.prototype.setData=function(t){this.processData=t},t.prototype.close=function(t){this.hide()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(11),r=n(0),i=function(){function t(t){this.stepAttrName="data-nxt-template-step",this.substepAttrName="data-nxt-template-substep",this.substeps=[],this.templateStepsGroup=t}return t.prototype.getTemplateStepsGroup=function(){return this.templateStepsGroup},t.prototype.create=function(){this.selector="["+this.stepAttrName+'="'+this.stepName+'"]',this.element=o.a.queryElement(this.selector,this.templateStepsGroup.getTemplate().getElement())},t.prototype.getStepName=function(){return this.stepName},t.prototype.setProcessSubSteps=function(t){var n=this;Object(r.each)(t,function(t){var e=new t(n);n.substeps.push(e)})},t.prototype.getStepSelector=function(){return this.selector},t.prototype.getStepWidth=function(){return this.maxActiveSubStepWidth?this.maxActiveSubStepWidth:o.a.attr(this.element,"data-step-width")||this.stepWidth},t.prototype.getStepElement=function(){return this.element},t.prototype.process=function(){},t.prototype.setWidth=function(t){this.stepWidth=t},t.prototype.findElement=function(t){return o.a.find(t,this.element)},t.prototype.afterShowEvents=function(){},t.prototype.show=function(){o.a.show(this.element),this.afterShowEvents()},t.prototype.hide=function(){o.a.hide(this.element)},t.prototype.setActiveSubsteps=function(t){this.activeSubSteps=t;var e=[];Object(r.each)(this.activeSubSteps,function(t){e.push(t.getWidth())}),this.maxActiveSubStepWidth=Object(r.max)(e),this.templateStepsGroup.updateActiveStep(this)},t.prototype.getActiveSubsteps=function(){return this.activeSubSteps||[]},t.prototype.hideActiveSubsteps=function(){Object(r.each)(this.activeSubSteps,function(t){t.hide()}),this.activeSubSteps=[]},t.prototype.closeActiveSubsteps=function(e){Object(r.each)(this.activeSubSteps,function(t){t.close(e)}),this.activeSubSteps=[]},t.prototype.getSubStepAttr=function(){return this.substepAttrName},t.prototype.calculateActiveSubStep=function(){var e=this.getActiveSubsteps();Object(r.each)(this.substeps,function(t){t.isActiveInTemplate()&&(e.push(t),t.process())}),this.setActiveSubsteps(e)},t.prototype.processActiveSubsteps=function(){Object(r.each)(this.activeSubSteps,function(t){t.process()})},t.prototype.hideAllSubsteps=function(){Object(r.each)(this.substeps,function(t){t.hide()})},t.prototype.close=function(t){this.closeActiveSubsteps(t)},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CriteriaTypes",function(){return o});var o={AdBlock:"AdBlock",ConversationView:"ConversationView",EzPay:"EzPay",FlittzUserStatus:"FlittzUserStatus",Geo:"Geo",IncognitoMode:"IncognitoMode",Javascript:"Javascript",MetaKeyword:"MetaKeyword",MeterView:"MeterView",Promise:"Promise",DeviceType:"DeviceType",UrlParam:"UrlParam",UrlMask:"UrlMask",UserState:"UserState",IsNewVisitor:"IsNewVisitor"}},function(t,e,n){var o,r,i,s,p,a,c,u;t.exports=(o=n(6),n(215),n(49),i=(r=o).lib,s=i.Base,p=i.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,o=n.hasher.create(),r=p.create(),i=r.words,s=n.keySize,a=n.iterations;i.length<s;){c&&o.update(c);var c=o.update(t).finalize(e);o.reset();for(var u=1;u<a;u++)c=o.finalize(c),o.reset();r.concat(c)}return r.sigBytes=4*s,r}}),r.EvpKDF=function(t,e,n){return u.create(n).compute(t,e)},o.EvpKDF)},function(t,e,n){"use strict";n.r(e),n.d(e,"AfterExpireActions",function(){return o});var o={GoToSelf:"Self",Recalculate:"Recalc"}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateForm",function(){return w});var o,r=n(35),i=n(109),s=n(211),a=n(325),c=n(50),u=n(346),p=n(11),l=n(340),f=n(348),h=n(9),d=n(37),g=n(0),y=n(57),v=n(26),m=n(7),_=n(73),b=n(130),C=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="ActivateForm",e.startInputs=[{field:"LastName",rules:[{name:s.f.Required,params:{}}]},{field:"SearchOption",rules:[{name:s.f.Required,params:{}}]}],e.create(),e}return C(t,n),t.prototype.close=function(){this.hide()},t.prototype.getInputsRules=function(t){switch(t){case r.SearchOptions.ActivateByAccountNumber:return[{field:"AccountNumber",rules:[{name:s.f.Required,params:{}}]}];case r.SearchOptions.ActivateByZipCodeAndHouseNumber:return[{field:"ZipCode",rules:[{name:s.f.Required,params:{}}]},{field:"HouseNumber",rules:[{name:s.f.Required,params:{}}]}];case r.SearchOptions.ActivateByZipCodeAndPhoneNumber:return[{field:"ZipCode",rules:[{name:s.f.Required,params:{}}]},{field:"PhoneNumber",rules:[{name:s.f.PhonePart,params:{}}]}];case r.SearchOptions.ActivateByConfirmationNumber:return[{field:"ConfirmationNumber",rules:[{name:s.f.Required,params:{}}]}]}},t.prototype.process=function(){var e=this;a.a.dispatch(c.a.ActivationLinkStepShown,null),y.LinkAccountService.isCanAutoLink()?y.LinkAccountService.syncUser().then(function(){var t=y.LinkAccountService.getAutoLinkModel();e.typeActivation=t.SearchOption,y.LinkAccountService.linkAccount(t).then(function(){e.successLinking()}).catch(function(t){e.errorLinking(t)})}):this.processForm()},t.prototype.processForm=function(){var n=this;this.show();var o=new u.a(this.getSelector(),this.startInputs),t=o.findByDataAttr("SearchOption");if(this.autocompleteIfCan(o),y.LinkAccountService.isCanAutoLink()){var e=new Event("change");t[0].dispatchEvent(e)}p.a.on(t,"change",function(t){n.typeActivation=p.a.val(t.currentTarget),n.activePartForm&&p.a.hide(n.activePartForm),n.activePartForm=p.a.find("["+n.parentStep.getSubStepAttr()+'="'+n.typeActivation+'"]',n.element),p.a.show(n.activePartForm),o.setRules(Object(g.union)(n.startInputs,n.getInputsRules(n.typeActivation))),o.setInputs()});var r=(new l.a).find("ActivateAccount",this.element);p.a.on(r,"click",function(t){t.preventDefault();var e=new f.a(r);o.validate()&&(e.on(),y.LinkAccountService.linkAccount(o.getInputsData()).then(function(){n.successLinking()}).catch(function(t){n.errorLinking(t)}).always(function(){e.off(),n.hide()}))})},t.prototype.autocompleteIfCan=function(t){var e=Object(h.i)();if(!Object(g.isEmpty)(e)){if(y.LinkAccountService.isCanAutoLink()){var n=y.LinkAccountService.getAutoLinkModel();e.SearchOption=n?n.SearchOption:null}t.autocomplete(e)}},t.prototype.successLinking=function(){var t=new i.SuccessActivation(this.parentStep);this.parentStep.setActiveSubsteps([t]),this.processSubStep(t),a.a.dispatch(c.a.ActivationLinkStepClosed,new b.ActivateCloseEventModel({CloseEvent:v.c.MoveToSuccess,ActivateStatus:"success"})),m.a.expireUserData(),a.a.dispatch(c.a.ActivationLinkSuccessStepShown,this.typeActivation)},t.prototype.errorLinking=function(t){var e=new _.FailActivation(this.parentStep,t?t.ErrorMessage:"");this.parentStep.setActiveSubsteps([e]),this.processSubStep(e),a.a.dispatch(c.a.ActivationLinkStepClosed,new b.ActivateCloseEventModel({CloseEvent:v.c.MoveToFail,ActivateStatus:"error"})),a.a.dispatch(c.a.ActivationLinkErrorStepShown,this.typeActivation)},t}(d.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserRepository",function(){return r});var o=n(350),r=new(function(){function t(){}return t.prototype.authenticateByToken=function(t,e){return o.a.post("google/user",t,e)},t.prototype.createOrUpdate=function(t,e){return o.a.post("google/user/update",t,e)},t.prototype.addSubscription=function(t,e){return o.a.post("google/subscription",t,e)},t}())},function(t,e,n){"use strict";var r=n(137),c=n(11),o=n(25),u=new(function(){function t(){this.SEC_ARRAY=[60,60,24,7,365/7/12,12],this.EN_US=["second","minute","hour","day","week","month","year"]}return t.prototype.formatDiff=function(t,e){for(var n=t<0?1:0,o=t=Math.abs(t),r=0;t>=this.SEC_ARRAY[r]&&r<this.SEC_ARRAY.length;r++)t/=this.SEC_ARRAY[r];return(0===(r*=2)?9:1)<(t=Math.floor(t))&&(r+=1),e.call(this,t,r,o)[n].replace("%s",t.toString())},t.prototype.format=function(t,e,n){try{var o=this.diffSec(t,n&&n.relativeDate);return this.formatDiff(o,this.getLocale)}catch(t){return console.log(t),""}},t.prototype.getLocale=function(t,e){if(0===e)return["just now","right now"];var n=this.EN_US[Math.floor(e/2)];return 1<t&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},t.prototype.toDate=function(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))},t.prototype.diffSec=function(t,e){return(+(e?this.toDate(e):o.a.get())-+this.toDate(t))/1e3},t}()),p=n(9),i=function(){function a(t){this.actionElement=c.a.create(t)}return a.prototype.getTemplateRecommendations=function(){return c.a.find(a.recommendationItem,this.actionElement)},a.prototype.getHtml=function(t){var e=this.getTemplateRecommendations(),n=Math.min(e.length,a.maxShowCount,t.length);if(0===n)return r.a.warn(a.NAME,"containerSelector or template is wrong"),null;var o=c.a.queryElement(a.recommendationsContainer,this.actionElement);return c.a.empty(o),c.a.append(o,this.getParsedRecommendationsHtml(e,t,n)),this.actionElement.outerHTML},a.prototype.getParsedRecommendationsHtml=function(t,e,n){for(var o="<ol>",r=0;r<a.maxShowCount;r++){var i=t[r];if(r<n){var s=i.outerHTML;o+=c.a.parseVariables(s,{G2iRecommendationTitle:e[r].title,G2iRecommendationDescription:e[r].lead_text,G2iRecommendationURL:e[r].url,G2iRecommendationImage:e[r].lead_image_url,G2iRecommendationPublishDate:u.format(Object(p.l)(e[r].publish_date))})}else i&&i.parentNode.removeChild(i)}return o+"</ol>"},a.NAME="RecommendationAction",a.recommendationItem=(a.recommendationsContainer=".g2i-recommendations div")+" ol li",a.maxShowCount=5,a}(),s=n(326),a=n(331);n.d(e,"a",function(){return l});var l=new(function(){function o(){}return o.prototype.getRecommendations=function(){var n=this;return this.isLibraryAvailable()?window.g2i_dl.getRecommendations().then(function(t){if(t&&t.recommendations&&t.recommendations.length){var e=n.excludeIncompleteData(t.recommendations);if(e.length)return Promise.resolve(e)}return r.a.warn(o.CLASS_NAME," no recommendations to show"),Promise.reject()}).catch(function(t){return r.a.warn(o.CLASS_NAME,"executeAction",t),Promise.reject()}):(r.a.warn(o.CLASS_NAME,"MG2Insights is not available"),Promise.reject())},o.prototype.excludeIncompleteData=function(t){var o=["url","title","lead_text"],r=["nan","null","undefined"];return t.filter(function(e){var n=!0;return Object.keys(e).forEach(function(t){-1!==o.indexOf(t)&&(e[t]&&-1===r.indexOf(e[t])||(n=!1))}),n})},o.prototype.getUserDl=function(){return this.isLibraryAvailable()?window.g2i_dl.getUserData():(r.a.warn(o.CLASS_NAME,"MG2Insights is not available"),Promise.reject())},o.prototype.defineUser=function(){var n=this;return new Promise(function(e,t){n.getUserDl().then(function(t){s.a.set(a.a.G2IUserData,t),e(t)}).catch(function(){}),setTimeout(function(){e(null)},2e3)})},o.prototype.getRecommendationActionHtml=function(t,e){return new i(t).getHtml(e)},o.prototype.isLibraryAvailable=function(){return!!window.g2i_dl},o.CLASS_NAME="G2InsightModule",o}())},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(122),r=n(11),i=new(function(){function t(){}return t.prototype.updateUnderElement=function(t){document.documentElement.clientHeight<t.clientHeight?(r.a.addClass(document.body,"page-overflow"),r.a.addClass(t,"modal-overflow"),this.isNeedHorizontalScrollbar()&&this.setHorizontalScroll()):(r.a.removeClass(document.body,"page-overflow"),r.a.removeClass(t,"modal-overflow"))},t.prototype.saveOriginalRightPadding=function(){var t=window.getComputedStyle(document.body).getPropertyValue("padding-right")||0;this.originalBodyPadding=parseInt(t+"",10)},t.prototype.resetHorizontalScrollbar=function(){document.body.style.paddingRight=this.originalBodyPadding+"px"},t.prototype.isNeedHorizontalScrollbar=function(){return document.body.clientWidth>window.innerWidth},t.prototype.setHorizontalScroll=function(){document&&(document.body.style.paddingRight=this.originalBodyPadding+this.getScrollbarWidth()+"px")},t.prototype.getScrollbarWidth=function(){var t=document.createElement("div");r.a.addClass(t,o.a.SCROLLBAR_MEASURER),document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionFactory",function(){return v});var o,r=n(62),i=n(22),s=n(95),a=n(97),c=n(93),u=n(96),p=n(98),l=n(99),f=n(100),h=n(101),d=n(102),g=n(137),y=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(n){function t(t){var e=n.call(this)||this;return e.action=t,e}return y(t,n),t.prototype.createAction=function(){var t=this.action;switch(t.ActionType){case i.ActionTypes.Banner:return new c.Banner(t);case i.ActionTypes.Modal:return new s.Modal(t);case i.ActionTypes.Inline:return new u.Inline(t);case i.ActionTypes.Paywall:return new a.Paywall(t);case i.ActionTypes.SmallInfoBox:return new p.SmallInfoBox(t);case i.ActionTypes.JSCall:return new l.JavascriptCall(t);case i.ActionTypes.Newsletter:return new f.Newsletter(t);case i.ActionTypes.Messaging:return new h.Messaging(t);case i.ActionTypes.InsightsRecommendation:return new d.InsightsRecommendation(t)}g.a.error("ActionType does not exist",t)},t}(r.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"Banner",function(){return s});var o,r=n(16),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerDispatcher",function(){return p});var o=n(63),r=n(111),i=n(112),s=n(113),a=n(114),c=n(115),u=n(137),p=new(function(){function t(){this.NAME="ActionTriggerDispatcher"}return t.prototype.registerActionTriggers=function(t){var e="registerActionTriggers";u.a.log(this.NAME,e,this.action),this.actionType=t,this.action=t.action;try{switch(this.action.When||(u.a.log(this.NAME,e,"Action has no When object. So we set default values"),this.action.When={Time:{Delay:0}}),u.a.log(this.NAME,e,"Action has When."+this.action.When.TypeName+" object."),this.action.When.TypeName){case o.ActionTriggerType.Time:return new r.TimedTrigger(this.actionType);case o.ActionTriggerType.Hover:return new i.HoveredTrigger(this.actionType);case o.ActionTriggerType.EOS:return new s.EosTrigger(this.actionType);case o.ActionTriggerType.PublicEvent:return new a.PublicEventTrigger(this.actionType);case o.ActionTriggerType.ScrollDepth:return new c.ScrollDepthTrigger(this.actionType);default:return u.a.warn("No action to register"),null}}catch(t){u.a.error(this.NAME,e,t)}},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Modal",function(){return s});var o,r=n(16),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Inline",function(){return s});var o,r=n(16),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Paywall",function(){return f});var o,r=n(327),i=n(76),s=n(137),a=n(325),c=n(50),u=n(10),p=n(26),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(o){function t(t,e){var n=o.call(this,t)||this;return n.superExistTemplate=null,n}return l(t,o),t.prototype.existTemplate=function(){null===this.superExistTemplate&&(this.superExistTemplate=o.prototype.existTemplate.call(this));var t=!0;return this.actionTemplate.getType()===p.m.Inline?t=this.superExistTemplate:this.actionTemplate.getType()===p.m.Modal&&(t=this.superExistTemplate||!!this.action.What.ShowModalPaywallWithoutSelector),t},t.prototype.hideContentPaywall=function(){s.a.log("hideContentPaywall","Action type is paywall. So we hide a content."),this.maskContent(this.action.What)},t.prototype.executeAction=function(){o.prototype.executeAction.call(this),this.superExistTemplate&&this.hideContentPaywall(),a.a.dispatch(c.a.PaywallShown,this.action),r.a.setConnextPaywallFired(!0),u.ActionModule.setPossibilityPresentForUser(this.action.What.MakeReRunOnLogin)},t}(i.MaskContentAction)},function(t,e,n){"use strict";n.r(e),n.d(e,"SmallInfoBox",function(){return s});var o,r=n(16),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Action)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"JavascriptCall",function(){return JavascriptCall});var _Connext_Core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(137),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(325),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_Action__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),__extends=(rLa=function(t,e){return(rLa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rLa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rLa,JavascriptCall=function(_super){function JavascriptCall(t,e){var n=_super.call(this,t)||this;return n.NAME="JavascriptCall",n}return __extends(JavascriptCall,_super),JavascriptCall.prototype.prepareToShow=function(t){return _Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),Promise.resolve()},JavascriptCall.prototype.executeAction=function(){var fnName="executeAction";_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.dispatch(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.JsCallFired,this.action);try{if(void 0!==this.action.What.Javascript)try{eval(this.action.What.Javascript)}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.warn(this.NAME,fnName,t)}}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.error(this.NAME,fnName,"Custom JS Call",t)}},JavascriptCall.prototype.show=function(){},JavascriptCall}(_Action__WEBPACK_IMPORTED_MODULE_3__.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Newsletter",function(){return _});var o,r=n(240),i=n(7),s=n(16),a=n(26),c=n(325),u=n(137),p=n(50),l=n(11),f=n(9),h=n(32),d=n(214),g=n(72),y=n(0),v=n(216),m=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(o){function t(t){var e=o.call(this,t)||this;return e.delayToReload=1e3,e.subscribePreference=g.a.getSubscribePreferenceInstance(e.action.What.Html),e.alertIfHasInvalidPrefs(),e}return m(t,o),t.prototype.alertIfHasInvalidPrefs=function(){var t=this.subscribePreference.getInvalidPreferences();t&&u.a.error("Invalid email preferences",{Preferences:t,ActionId:this.action.Id,ActionName:this.action.Name})},t.prototype.existTemplate=function(){var t=!0;return this.actionTemplate.getType()===a.m.Inline&&(t=o.prototype.existTemplate.call(this)),t},t.prototype.isUserAlreadySubscribe=function(){return!!this.subscribePreference&&this.subscribePreference.isUserAlreadySubscribe()},t.prototype.getPreferences=function(){return this.subscribePreference?this.subscribePreference.getNewsletterPreferences():[]},t.prototype.isPluginProcessAction=function(){return/data-nxt-template-step="Newsletter"/g.test(this.action.What.Html)},t.prototype.prepareToShow=function(t){return this.action.What.Html?this.isUserAlreadySubscribe()?Promise.reject():o.prototype.prepareToShow.call(this,t):Promise.reject()},t.prototype.executeAction=function(){var n=this;if(c.a.subscribe(p.a.NewsletterSignUp,function(t){var e=t.EventData;n.isCurrentNewsletter(e)&&n.successNewsletterSignUp(e.EmailPreferences)}),c.a.subscribe(p.a.NewsletterSignUpFails,function(t){}),this.isPluginProcessAction()){var t=new d.a(this.action.What),e=h.a.getNewsletterTemplate(t,this.getPreferences());e&&(e.process(),this.actionTemplate.setElement(e.getTemplate().getElement()),this.prepareTemplateToShow(),this.actionTemplate.afterShow(),this.incrementCountShow())}else o.prototype.executeAction.call(this);this.setEmailValue()},t.prototype.isCurrentNewsletter=function(t){var e=function(t){return t.map(function(t){return t.Id})};return!Object(y.difference)(e(t.EmailPreferences),e(this.getPreferences())).length},t.prototype.successNewsletterSignUp=function(t){g.a.mergeEmailPreferenceIdsToStorage(t),this.isSetStorageSignupSuccess()&&r.a.setNewsletterNW(!0),this.isNeedRerunConnext()&&Object(v.setTimeout)(function(){c.a.dispatch(a.h.ApplicationReload,a.l.SuccessNewsletterSignUp)},this.delayToReload)},t.prototype.setEmailValue=function(){var t=l.a.find("[data-mg2-input=Email], .connext-email-input",this.element);if(t&&0<t.length){var e=i.a.getEmail();!e&&i.a.isSubscribed()&&i.a.getSubscriptions()[0]&&(e=i.a.getSubscriptions()[0].Email),l.a.val(t,e)}},t.prototype.isNeedRerunConnext=function(){return!(!this.action.What||!Object(f.t)(this.action.What.IsConnextReRun))&&this.action.What.IsConnextReRun},t.prototype.isSetStorageSignupSuccess=function(){return!(!this.action.What||!Object(f.t)(this.action.What.IsSetStorageSignupSuccess))&&this.action.What.IsSetStorageSignupSuccess},t}(s.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Messaging",function(){return s});var o,r=n(16),a=n(11),c=n(339),u=n(137),p=n(327),l=n(7),f=n(0),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(s){function t(t){return s.call(this,t)||this}return i(t,s),t.prototype.executeAction=function(){if(!l.a.notLoggedIn()){s.prototype.executeAction.call(this);var t=this.getActionTemplate(),n=a.a.find('[data-mg2-container="messages"]',t.getElement()),e=a.a.find('[data-mg2-messaging="default"]',n),o=a.a.text(a.a.find('[data-tmpl-action-name="Location code"]',t.getElement())[0]),r=l.a.getCustomerRegistrationId(),i=this.getSubscriptionsIds(l.a.getSubscriptions());a.a.empty(n),this.getUserMessages(o,r,i).then(function(t){Object(f.each)(t,function(t){var e=a.a.create(a.a.html(n));a.a.html(a.a.find("span.user-message__message-text",e),t),a.a.append(n[0],e)}),a.a.remove(e)})}},t.prototype.getUserMessages=function(r,i,s){return new Promise(function(n){var o=p.a.getMessagingData();if(o&&o[r])n(o[r]);else{var t={location:c.a.Messaging},e={locationCode:r,registrationId:i};s&&s.length&&(e.subscriptionsIds=s),p.a.getUserMessages(e,t).then(function(t){var e=o||{};e[r]=t,p.a.setMessagingData(e),n(t)}).catch(function(t){u.a.error("getUserMessages",t),n([])})}})},t.prototype.getSubscriptionsIds=function(t){return t&&0!=t.length?Object(f.compact)(Object(f.pluck)(t,"SubscriptionId")):[]},t}(r.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"InsightsRecommendation",function(){return u});var o,r=n(16),i=n(90),s=n(137),a=n(11),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return c(o,t),o.prototype.prepareToShow=function(e){var n=this;return s.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),this.action.What&&!this.action.What.Html?(s.a.log("Action","setActionTemplate","===== ACTION NOT PASSED(No HTML) =====",this.action),Promise.reject()):(this.setActionTemplate(),this.existTemplate()?i.a.getRecommendations().then(function(t){return n.action.What.Html=i.a.getRecommendationActionHtml(n.action.What.Html,t),n.action.What.Html=a.a.parseVariables(n.action.What.Html.trim(),e),n.setActionTemplate(),Promise.resolve()}).catch(function(t){return s.a.warn(o.NAME,t),Promise.reject()}):Promise.reject())},o.NAME="InsightsRecommendation",o}(r.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationAuthenticateStep",function(){return u});var o,r=n(325),i=n(50),s=n(82),a=n(104),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="Authenticate",e.stepWidth=420,e.create(),e.setProcessSubSteps(a),e}return c(t,n),t.prototype.process=function(){n.prototype.process.call(this),this.show(),this.hideAllSubsteps(),this.calculateActiveSubStep()},t.prototype.processStep=function(t){this.templateStepsGroup.processStep(t)},t.prototype.close=function(t){r.a.dispatch(i.a.ActivationLoginStepClosed,t),n.prototype.close.call(this,t)},t}(s.ActivationStep)},function(t,e,n){"use strict";n.r(e);var o=n(184);n.d(e,"ActivationForgotPasswordSubStep",function(){return o.ActivationForgotPasswordSubStep});var r=n(105);n.d(e,"ActivationLoginSubStep",function(){return r.ActivationLoginSubStep});var i=n(185);n.d(e,"ActivationRegistrationSubStep",function(){return i.ActivationRegistrationSubStep})},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationLoginSubStep",function(){return d});var o,r=n(325),i=n(50),s=n(26),a=n(80),c=n(32),u=n(70),p=n(15),l=n(7),f=n(10),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(c.a.getLoginSubStepInformation()),e.create(),e}return h(t,n),t.prototype.process=function(){var t=this;if(u.a.useMg2LoginTemplate())return this.form||(this.form=c.a.getLoginForm(this.getSelector(),null,this.formOptions)),this.show(),r.a.dispatch(i.a.ActivationLoginStepShown,null),this.form.submit().then(function(){t.successLogin()});this.activation.passControlToAuthSystem(),p.a.startActivationFlow(),u.a.showLoginForm()},t.prototype.autologin=function(t){var e=this;return c.a.getLoginForm(this.getSelector(),null,this.formOptions).autoSubmit(t).then(function(){e.successLogin()})},t.prototype.successLogin=function(){if(f.ActionModule.deletePossibilityPresentForUser(),r.a.dispatch(i.a.ActivationLoginStepClosed,{CloseEvent:s.c.MoveToActivate}),l.a.isSubscribed())r.a.dispatch(s.h.ApplicationReload,s.l.ActivationSuccess);else{p.a.setLoginEndFlowStatus(!1);var t=l.a.getSubscriptions();t&&t.length?this.activation.processExpiredSubscriptionStep():this.activation.processActivateStep()}},t}(a.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateStep",function(){return f});var o,r=n(82),i=n(325),s=n(50),a=n(107),c=n(88),u=n(73),p=n(121),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(o){function t(t,e){void 0===e&&(e=!1);var n=o.call(this,t)||this;return n.stepName="Activate",n.stepWidth=672,n.create(),n.setProcessSubSteps(a),n.useErrorAsStartSubstep=e,n}return l(t,o),t.prototype.process=function(){o.prototype.process.call(this),this.show(),this.hideAllSubsteps(),this.setActiveSubsteps([new c.ActivateForm(this)]),this.processActiveSubsteps()},t.prototype.setActiveSubsteps=function(t){this.useErrorAsStartSubstep&&(t=[new u.FailActivation(this,p.DigitalAccess.digitalAccessNeedUpgrade)]),o.prototype.setActiveSubsteps.call(this,t)},t.prototype.close=function(t){this.hide(),i.a.dispatch(s.a.ActivationLinkStepClosed,t),o.prototype.close.call(this,t)},t}(r.ActivationStep)},function(t,e,n){"use strict";n.r(e);var o=n(88);n.d(e,"ActivateForm",function(){return o.ActivateForm});var r=n(73);n.d(e,"FailActivation",function(){return r.FailActivation});var i=n(109);n.d(e,"SuccessActivation",function(){return i.SuccessActivation})},function(t,e,n){"use strict";n.r(e);var o=n(186);n.d(e,"AccountNumberModel",function(){return o.AccountNumberModel});var r=n(187);n.d(e,"ConfirmationNumberModel",function(){return r.ConfirmationNumberModel});var i=n(188);n.d(e,"SubscriptionIdModel",function(){return i.SubscriptionIdModel});var s=n(189);n.d(e,"ZipCodeAndHouseNumberModel",function(){return s.ZipCodeAndHouseNumberModel});var a=n(190);n.d(e,"ZipCodeAndPhoneNumberModel",function(){return a.ZipCodeAndPhoneNumberModel})},function(t,e,n){"use strict";n.r(e),n.d(e,"SuccessActivation",function(){return p});var o,r=n(37),i=n(26),s=n(325),a=n(50),c=n(15),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="Success",e.create(),e}return u(t,n),t.prototype.process=function(){this.show()},t.prototype.close=function(t){this.hide(),t.ActivateStatus="success",c.a.setLoginEndFlowStatus(!0),s.a.dispatch(a.a.ActivationLinkSuccessStepClosed,t),s.a.dispatch(i.h.ApplicationReload,i.l.ActivationSuccess)},t}(r.ActivateSubStep)},function(t,e,n){"use strict";n.r(e);var o=n(191);n.d(e,"ActivationExpiredSubscriptionMainSubStep",function(){return o.ActivationExpiredSubscriptionMainSubStep})},function(t,e,n){"use strict";n.r(e);var o,r=n(212),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(r.a),a=n(67),c=n(137);n.d(e,"TimedTrigger",function(){return l});var u,p=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(i){function t(t,e){var n=i.call(this,t)||this,o="setTimedAction",r="ActionEvent";n.actionData=t.action,n.options=new s(n.getTriggerWhen()),c.a.log(r,o,"Set action start by time",arguments);try{n.canTrigger()?(n.startTimer(function(){return n.trigger()}),c.a.log(r,o,"Action will be execute after: ",n.options.Delay+"ms")):n.canNotTriggerAction()}catch(t){c.a.error(r,o,t)}return n}return p(t,i),t}(a.BaseTimedTrigger)},function(t,e,n){"use strict";n.r(e);var o,s=n(137),a=n(11),r=n(60),i=n(123),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=this;if(t)return(e=n.call(this,t)||this).Selector=t.Selector,e.IncludeChildren=t.IncludeChildren,e}return c(t,n),t}(i.a);n.d(e,"HoveredTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.hoverTriggerHandler=null;var o="setHoverEvent",r="ActionEvent";n.options=new u(n.getTriggerWhen()),s.a.log(r,o,"Set action start by hover",arguments);try{n.hoverTriggerHandler=function(t){return n.hoverTrigger(t)},n.element=a.a.queryElement(n.options.Selector),a.a.on(n.element,"mouseover",n.hoverTriggerHandler)}catch(t){s.a.error(r,o,t)}return n}return l(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(this.element,"mouseover",this.hoverTriggerHandler)},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.hoverTrigger=function(t){var e=this;if(this.canTrigger()){if(!this.options.IncludeChildren&&t.target!==this.element)return t.stopPropagation(),!1;this.timer||this.startTimer(function(){clearTimeout(e.timer),delete e.timer,e.trigger()})}else this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t}(r.ActionTriggerOnArticle)},function(t,e,n){"use strict";n.r(e);var o,r=n(60),s=n(137),a=n(11),i=n(123),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=this;if(t)return(e=n.call(this,t)||this).Selector=t.Selector,e}return c(t,n),t}(i.a);n.d(e,"EosTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.hasChangedVisibility=!0,n.eosTriggerHandler=null;var o="SetEosEvent",r="ActionTrigger";n.options=new u(n.getTriggerWhen()),s.a.log(r,o,"Set action start by EOS",arguments);try{n.eosTriggerHandler=function(){return n.eosTrigger()},n.eosTriggerHandler(),a.a.on(window,"resize",n.eosTriggerHandler),a.a.on(window,"scroll",n.eosTriggerHandler)}catch(t){s.a.error(r,o,t)}return n}return l(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(window,"resize",this.eosTriggerHandler),a.a.off(window,"scroll",this.eosTriggerHandler)},t.prototype.eosTrigger=function(){var t=this;this.canTrigger()?this.timer||(this.checkVisible(this.options.Selector)?this.hasChangedVisibility&&this.startTimer(function(){clearTimeout(t.timer),delete t.timer,t.hasChangedVisibility=!1,t.trigger()}):this.hasChangedVisibility=!0):this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.checkVisible=function(t){var e=a.a.queryElement(t);if(e){var n=e.getBoundingClientRect(),o=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(n.bottom<0||0<=n.top-o)}return s.a.log("Eos trigger",t," is not found"),!1},t}(r.ActionTriggerOnArticle)},function(t,e,n){"use strict";n.r(e);var o,r=n(212),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(n){function t(t){var e=n.call(this,t)||this;return e.Selector=t.Selector,e.EventName=t.EventName,e}return i(t,n),t}(r.a),a=n(137),c=n(11),u=n(67);n.d(e,"PublicEventTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this,o="PublicEventTrigger",r="ActionEvent";n.actionData=t.action,n.options=new s(n.getTriggerWhen()),a.a.log(r,o,"Set action start by public event",arguments);try{n.findedElement=c.a.queryElement(n.options.Selector)||document,c.a.on(n.findedElement,n.options.EventName,function(t){return n.handlerAction(t)})}catch(t){a.a.error(r,o,t)}return n}return l(t,i),t.prototype.handlerAction=function(t){var e=this;return t.stopPropagation(),this.canTrigger()?this.startTimer(function(){e.trigger()}):this.canNotTriggerAction(),!1},t.prototype.unRegister=function(){i.prototype.unRegister.call(this),c.a.off(this.findedElement,this.options.EventName,this.handlerAction)},t}(u.BaseTimedTrigger)},function(t,e,n){"use strict";n.r(e);var o,s=n(137),a=n(11),r=n(9),i=n(60),c=n(123),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.Selector=t.Selector,e.Depth=t.Depth||0,e}return u(t,n),t}(c.a),l=n(327);n.d(e,"ScrollDepthTrigger",function(){return d});var f,h=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.scrollTriggerHandler=null;var o="setScrollEvent",r="ActionEvent";n.options=new p(n.getTriggerWhen()),s.a.log(r,o,"Set action start by scroll depth",arguments);try{if(n.element=a.a.queryElement(n.options.Selector),!n.element)return s.a.error(r,o,n.options.Selector,"not found"),n;n.scrollTriggerHandler=function(t){return n.scrollTrigger(t)},a.a.on(window,"resize",n.scrollTriggerHandler),a.a.on(window,"scroll",n.scrollTriggerHandler),n.scrollTriggerHandler()}catch(t){s.a.error(r,o,t)}return n}return h(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(window,"resize",this.scrollTriggerHandler),a.a.off(window,"scroll",this.scrollTriggerHandler)},t.prototype.canRepeatableOnArticle=function(t){var e=l.a.getRepeatablesInArticle(),n=Object(r.k)();return!e||e.url!==n||e.count<t},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.scrollTrigger=function(t){var e=this;this.canTrigger()?(this.percentageSeen()>=this.options.Depth||!a.a.hasScrollbar())&&(this.timer||this.startTimer(function(){delete e.timer,e.trigger()})):this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t.prototype.percentageSeen=function(){var t=a.a.getWindowHeight(),e=window.pageYOffset,n=a.a.offset(this.element),o=n&&n.top||0,r=a.a.height(this.element);if(e+t<o)return 0;if(o+r<e)return 100;var i=e+t-o;return Math.round(i/r*100)},t}(i.ActionTriggerOnArticle)},function(t,e,n){"use strict";n.r(e);var o=n(4),c=n(7),r=n(0),u=n.n(r),i=new(function(){function t(){}return t.prototype.getHoursDifference=function(t,e){return 24*this.getDaysDifference(t,e)+e.getUTCHours()-t.getUTCHours()},t.prototype.getDaysDifference=function(t,e){var n=t.getUTCFullYear(),o=e.getUTCFullYear();return this.getDayOfYear(e)-this.getDayOfYear(t)+this.getDaysBetweenYears(n,o)},t.prototype.getWeeksDifference=function(t,e){return this.getDaysDifference(t,e)/7},t.prototype.getMonthsDifference=function(t,e){var n=12*(e.getUTCFullYear()-t.getUTCFullYear())-t.getUTCMonth()+e.getUTCMonth(),o=this.getCountDaysOfMonth(t.getUTCFullYear(),t.getUTCMonth());return n+=(e.getUTCDate()-t.getUTCDate())/o},t.prototype.getDayOfYear=function(t){var e=t.getUTCMonth(),n=t.getUTCDate(),o=[0,31,59,90,120,151,181,212,243,273,304,334][e]+n;return 1<e&&this.isLeapYear(t.getUTCFullYear())&&o++,o},t.prototype.getCountDaysOfMonth=function(t,e){return new Date(t,e,0).getUTCDate()},t.prototype.getDaysBetweenYears=function(t,e){for(var n=0,o=t;o<e;o++)n+=this.isLeapYear(o)?366:365;return n},t.prototype.isLeapYear=function(t){return 1==new Date(t,1,29).getUTCMonth()},t}()),p=n(25);n.d(e,"SubscriptionExpiration",function(){return g});var s,l,a,f,h,d=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});(a=l||(l={})).On="On",a.ExactlyIn="ExactlyIn",a.Within="Within",(h=f||(f={})).Hours="Hours",h.Days="Days",h.Weeks="Weeks",h.Months="Months";var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.isPassedCriteria=function(t){var e=c.a.getUserData();if(!e||!e.Subscriptions||!e.Subscriptions.length)return Promise.resolve(!1);var n=u.a.max(e.Subscriptions,function(t){return p.a.convertToUtcTime(t.ExpirationDate)}).ExpirationDate,o=p.a.convertToUtcTime(n),r=t.Delimiter,i=t.EvaluatedObject?p.a.convertToUtcTime(t.EvaluatedObject):null,s=t.Qualifier,a=t.Value;switch(r){case l.On:return this.checkByOnOption(o,i);case l.ExactlyIn:return this.checkByExactlyInOption(o,f[s],a);case l.Within:return this.checkByWithinOption(o,f[s],a)}},e.prototype.checkByOnOption=function(t,e){var n=t.setUTCHours(0,0,0,0)==e.setUTCHours(0,0,0,0);return Promise.resolve(n)},e.prototype.checkByExactlyInOption=function(t,e,n){var o=p.a.get(),r=this.getDateDifferenceByType(o,t,e)==n;return Promise.resolve(r)},e.prototype.checkByWithinOption=function(t,e,n){var o=p.a.get();if(t<o)return Promise.resolve(!1);var r=this.getDateDifferenceByType(o,t,e)<=n;return Promise.resolve(r)},e.prototype.getDateDifferenceByType=function(t,e,n){switch(n){case f.Hours:return i.getHoursDifference(t,e);case f.Days:return i.getDaysDifference(t,e);case f.Weeks:return i.getWeeksDifference(t,e);case f.Months:return i.getMonthsDifference(t,e)}},e}(o.Expression)},function(t,e,n){"use strict";n.r(e);var o=n(331),r=n(326),i=n(325),s=n(50),a=n(137),c=n(20),u=n(61),p=n(8),l=n(44),f=n(26),h=function(t){t&&(this.Method=t.Method,this.Level=t.Level,this.Rule=t.Rule,this.Id=t.Id)},d=n(0);n.d(e,"Meter",function(){return g});var g=function(){function t(t){this.NAME="Meter",this.criteria=u.Criteria.getInstance(),this.options={timeout:l.a.get(o.a.DynamicMeterPromiseTimeout),sortField:"Priority"},this.configuration=t}return t.prototype.getConfigurationRules=function(){return this.configuration.DynamicMeter.Rules},t.prototype.process=function(){var e=this;return this.calculateMeter().then(function(t){return r.a.set(o.a.Meter,t),i.a.dispatch(s.a.MeterLevelSet,t),p.a.setActiveMeterView(t.Id),c.Campaign.process(t,e.configuration.Campaign)})},t.prototype.calculateRule=function(t){return t.passed=!0,t.calculateExpressions=this.criteria.getCalculateExpressions(t.Segments,this.options),a.a.log(this.NAME,"calculateRule",t),this.criteria.executeCalculateExpressionsForCollection(t)},t.prototype.calculateRules=function(o){var r=this;return new Promise(function(e,n){if(0!=o.length){var t=Object(d.first)(o);r.calculateRule(t).then(function(t){t.passed?e(t):(o.shift(),r.calculateRules(o).then(e).catch(n))}).catch(function(){n(null)})}else n()})},t.prototype.calculateMeter=function(){var e=this,t=this.getConfigurationRules();return this.calculateRules(t).then(function(t){return e.getDynamicMeter(t)}).catch(function(t){return e.getDefaultMeter()})},t.prototype.getDefaultMeter=function(){var t=this.configuration.Settings.DefaultMeterLevelId;return a.a.log("Failed to determined Meter Level... using default",f.i[t]),new h({Method:"Default",Level:f.i[t],Rule:null,Id:t})},t.prototype.getDynamicMeter=function(t){var e=t.MeterLevelId;return a.a.log("Determined meter level",f.i[e]),new h({Method:"Dynamic",Level:f.i[e],Rule:t,Id:e})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"DependencyLoader",function(){return r});var o=n(137),r=function(){function t(){this.NAME="DepencyLoader"}return t.prototype.load=function(){var n=this;return this.firstLoad||(this.firstLoad=new Promise(function(t,e){n.getResource().then(function(){o.a.log(n.NAME,"load"),t()}).catch(function(t){o.a.warn(n.NAME,"load",t),e(t)})})),this.firstLoad},t.prototype.getResource=function(){throw new Error("Method not implemented.")},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"DependencyRenderer",function(){return o});var o=function(){function t(t){this.NAME="DepencyRenderer",this.buttonSelector=t}return t.prototype.init=function(){var n=this;return new Promise(function(t,e){n.loader.load().then(function(){t()}).catch(function(){e()})})},t.prototype.render=function(t){throw new Error("Method not implemented.")},t.prototype.needRender=function(){throw new Error("Method not implemented.")},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CriteriaProvider",function(){return f});var o=n(85),r=n(22),i=n(331),s=n(137),a=n(25),c=n(0),u=n(61),p=n(44),l=n(198),f=function(){function t(){this.NAME="CriteriaProvider",this.criteria=u.Criteria.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.calculateConversation=function(t){var e=this,n=[],o={timeout:p.a.get(i.a.ConversationPromiseTimeout),sortField:"Order",conversationId:0,meterId:0};return t&&t.length?(s.a.log("Calculating conversation...",t),Object(c.each)(t,function(t){t.passed=!0,o.conversationId=t.Id,o.meterId=t.MeterLevelId,t.calculateExpressions=e.criteria.getCalculateExpressions(t.Filters,o),n.push(e.criteria.executeCalculateExpressionsForCollection(t))}),this.criteria.calculatePassedCollection(n,o.sortField)):Promise.reject("")},t.prototype.getConversationPaywallsForView=function(t){var e={timeout:p.a.get(i.a.ActionPromiseTimeout),sortField:"Priority",conversationId:0,meterId:0,excludeExpressions:[o.CriteriaTypes.MeterView,o.CriteriaTypes.ConversationView]};try{var n=Object(c.where)(t.Actions,{ActionType:r.ActionTypes.Paywall});return n.length?this.calculateActions(t,n,e):Promise.resolve([])}catch(t){return s.a.error(this.NAME,t),Promise.reject("")}},t.prototype.calculateConversationActions=function(t){var e={timeout:p.a.get(i.a.ActionPromiseTimeout),sortField:"Priority",conversationId:0,meterId:0};try{return this.calculateActions(t,t.Actions,e)}catch(t){return s.a.error(this.NAME,t),Promise.reject("")}},t.prototype.calculateActions=function(n,t,o){var r=this,i=[];return t&&t.length?(s.a.log("Calculating actions...",t),Object(c.each)(t,function(t){var e;t.passed=!0,o.conversationId=n.Id,o.meterId=n.MeterLevelId,e=o.excludeExpressions&&o.excludeExpressions.length?Object(c.filter)(t.Who,function(t){return-1===o.excludeExpressions.indexOf(t.TypeName)}):t.Who,t.calculateExpressions=r.criteria.getCalculateExpressions(e,o),i.push(r.criteria.executeCalculateExpressionsForCollection(t))}),this.criteria.calculatePassedCollections(i,o.sortField)):Promise.resolve([])},t.prototype.isConversationValid=function(r){var i=this;return new Promise(function(e,n){var o="isConversationValid";try{if(r.Properties.getIsExpired())return s.a.log(i.NAME,o,"Current conversation was previously set to expired."),void n();new l.ConversationExpirations(r).getFirstExecute().then(function(t){r.Properties.getIsExpired()||(r.Properties.setIsExpired(!0),r.Properties.setExpiredType(t),r.Properties.setDateEnded(a.a.get())),s.a.log(i.NAME,o,"This conversation is expired.",r),n()}).catch(function(){s.a.log(i.NAME,o,"This conversation is valid.",r),e()})}catch(t){s.a.error(i.NAME,o,t),e()}})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"DigitalAccess",function(){return o});var s=n(0),a=n(344),o=function(){function i(){}return i.prototype.check=function(r){return new Promise(function(t,e){if(r){if(Object(s.isString)(r))try{var n=JSON.parse(r);n&&Object(s.isArray)(n.Errors)&&n.Errors.find(function(t){return 400===t.Code})&&e({ErrorMessage:i.linkingFailed})}catch(t){e({ErrorMessage:i.linkingFailed})}var o=new a.a(r.AccessLevel);o&&(o.IsPremium&&t(),o.IsUpgrade&&e({ErrorMessage:i.digitalAccessNeedUpgrade,Substep:"UpgradeLink",Link:"Upgrade"}),o.IsPurchase&&e({ErrorMessage:i.digitalAccessNeedPurchase,Substep:"SubscribeLink",Link:"Subscribe"}))}e({ErrorMessage:i.linkingFailed})})},i.linkingFailed="I'm sorry, an error occurred and we can't complete this process. Please contact customer service for assistance. ",i.digitalAccessNeedUpgrade="I'm sorry, your subscription does not give you access to this content. Please <a data-nxt-link='Upgrade' redirect='true'>upgrade</a> to get access. ",i.digitalAccessNeedPurchase="I'm sorry, your subscription does not give you access to this content. Please <a data-nxt-link='Subscribe' redirect='true'>subscribe</a> to get access. ",i}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"connext-modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(213),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(n){function t(t){var e=n.call(this,t)||this;return e.RepeatableOnArticle=t.RepeatableOnArticle||0,e}return i(t,n),t}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(11),r=function(){function t(){this.baseSelector=""}return t.prototype.find=function(t,e){return o.a.find("["+this.baseSelector+'="'+t+'"]',e)},t}()},function(t,e,n){"use strict";n.r(e);var o=n(20);n.d(e,"Campaign",function(){return o.Campaign})},function(t,e,n){"use strict";n.r(e);var o=n(106);n.d(e,"ActivateStep",function(){return o.ActivateStep});var r=n(103);n.d(e,"ActivationAuthenticateStep",function(){return r.ActivationAuthenticateStep});var i=n(129);n.d(e,"ActivationExpiredSubscriptionStep",function(){return i.ActivationExpiredSubscriptionStep})},function(t,e,n){"use strict";n.r(e);var o=n(144);n.d(e,"AdBlock",function(){return o.AdBlock});var r=n(145);n.d(e,"ConversationView",function(){return r.ConversationView});var i=n(146);n.d(e,"DeviceType",function(){return i.DeviceType});var s=n(147);n.d(e,"ExpirationFlittzStatus",function(){return s.ExpirationFlittzStatus});var a=n(148);n.d(e,"ExpirationUserState",function(){return a.ExpirationUserState});var c=n(149);n.d(e,"EzPay",function(){return c.EzPay});var u=n(150);n.d(e,"Geo",function(){return u.Geo});var p=n(151);n.d(e,"FlittzUserStatus",function(){return p.FlittzUserStatus});var l=n(152);n.d(e,"IncognitoMode",function(){return l.IncognitoMode});var f=n(128);n.d(e,"Javascript",function(){return f.Javascript});var h=n(153);n.d(e,"MetaKeyword",function(){return h.MetaKeyword});var d=n(154);n.d(e,"MeterView",function(){return d.MeterView});var g=n(155);n.d(e,"Register",function(){return g.Register});var y=n(156);n.d(e,"PromiseEx",function(){return y.PromiseEx});var v=n(157);n.d(e,"Time",function(){return v.Time});var m=n(158);n.d(e,"UrlMask",function(){return m.UrlMask});var _=n(159);n.d(e,"UrlParam",function(){return _.UrlParam});var b=n(160);n.d(e,"UserState",function(){return b.UserState});var C=n(161);n.d(e,"IsNewVisitor",function(){return C.IsNewVisitor});var w=n(162);n.d(e,"NewsletterReader",function(){return w.NewsletterReader});var A=n(163);n.d(e,"NewsletterSession",function(){return A.NewsletterSession});var I=n(164);n.d(e,"DayTime",function(){return I.DayTime});var S=n(165);n.d(e,"IsEuMember",function(){return S.IsEuMember});var O=n(166);n.d(e,"Country",function(){return O.Country});var E=n(167);n.d(e,"UserAgentAccess",function(){return E.UserAgentAccess});var P=n(168);n.d(e,"BrowserDetection",function(){return P.BrowserDetection});var D=n(169);n.d(e,"VisitsLastDays",function(){return D.VisitsLastDays});var x=n(170);n.d(e,"EngagementRate",function(){return x.EngagementRate});var B=n(171);n.d(e,"EngagementRatePercentile",function(){return B.EngagementRatePercentile});var U=n(172);n.d(e,"UserInterests",function(){return U.UserInterests});var R=n(173);n.d(e,"RegistrationWalls",function(){return R.RegistrationWalls});var L=n(174);n.d(e,"BlockedCookiesOrLs",function(){return L.BlockedCookiesOrLs});var T=n(116);n.d(e,"SubscriptionExpiration",function(){return T.SubscriptionExpiration});var F=n(175);n.d(e,"Expiration_SubscriptionExpiration",function(){return F.Expiration_SubscriptionExpiration});var k=n(176);n.d(e,"AB_Expiration",function(){return k.AB_Expiration});var V=n(177);n.d(e,"ABTest",function(){return V.ABTest})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Javascript",function(){return Javascript});var _Expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__),_Core_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(137),_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),__extends=(E$a=function(t,e){return(E$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E$a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E$a,Javascript=function(_super){function Javascript(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Javascript,_super),Javascript.prototype.isPassedCriteria=function(rule){var _this=this;return this.NAME="Javascript",new Promise(function(resolve,reject){var fnName="evalJSVar";try{_Core_logger__WEBPACK_IMPORTED_MODULE_2__.a.log(_this.NAME,fnName,"--- Testing ---",rule);var segment=rule.Options||rule,jsVariable=segment.EvaluatedObject,qualifier=segment.Qualifier,segmentValue=Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(segment.Value)?segment.Value.toLowerCase():"",isPassed=!0,jsValue=eval(jsVariable);if(_this.delimiter=segment.Delimiter||",",Object(underscore__WEBPACK_IMPORTED_MODULE_1__.isArray)(jsValue))jsValue=jsValue.filter(function(t){return Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(t)}).map(function(t){return t.toString().toLowerCase().trim()});else{if(!Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(jsValue))return void resolve(!1);jsValue=jsValue.toString().toLowerCase()}isPassed=_this.evaluateOperator(jsValue,segmentValue,qualifier),resolve(isPassed)}catch(t){resolve(!1)}})},Javascript.prototype.contains=function(t,e){return Object(underscore__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)||(t=t.split(this.delimiter.replace(/\[space\]/g," "))),0<=t.indexOf(e)},Javascript.prototype.in=function(t,e){return _super.prototype.in.call(this,e,t)},Javascript.prototype.lessThan=function(t,e){return this.prepareValueToCompare(t)<this.prepareValueToCompare(e)},Javascript.prototype.greaterThan=function(t,e){return this.prepareValueToCompare(t)>this.prepareValueToCompare(e)},Javascript.prototype.lessThanEqual=function(t,e){return this.prepareValueToCompare(t)<=this.prepareValueToCompare(e)},Javascript.prototype.greaterThanEqual=function(t,e){return this.prepareValueToCompare(t)>=this.prepareValueToCompare(e)},Javascript}(_Expression__WEBPACK_IMPORTED_MODULE_0__.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionStep",function(){return p});var o,r=n(325),i=n(50),s=n(82),a=n(110),c=n(7),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="ExpiredSubscription",e.stepWidth=420,e.create(),e.setProcessSubSteps(a),e}return u(t,n),t.prototype.process=function(){n.prototype.process.call(this),this.show(),this.hideAllSubsteps(),this.calculateActiveSubStep(),c.a.expireUserData()},t.prototype.processStep=function(t){this.templateStepsGroup.processStep(t)},t.prototype.close=function(t){r.a.dispatch(i.a.ActivationExpiredSubscriptionStepClosed,t),this.closeActiveSubsteps(t)},t}(s.ActivationStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateCloseEventModel",function(){return o});var o=function(t){t&&(this.ActivateStatus=t.ActivateStatus,this.CloseEvent=t.CloseEvent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(350),r=n(9),i=n(18),s=new(function(){function t(){}return t.prototype.activateBySearchOption=function(t,e,n){return o.a.post("user/"+t,e,n)},t.prototype.checkDigitalAccess=function(t,e,n){return void 0===e&&(e=0),o.a.get("user/DigitalAccess?masterId="+t+"&mode="+e,null,n).then(function(t){return i.a.decrypt(t)})},t.prototype.getActivationUrlParams=function(){return Object(r.m)(["email","productCode","returnUrl","confirmationNumber","accountNumber","lastName"])},t.prototype.getProductCode=function(){return this.getDictionaryValueByName("productCode")},t.prototype.getDictionaryValueByName=function(t){return o.a.get("dictionary/"+t)},t}())},function(t,e,n){"use strict";n.r(e);var o=n(137),r=n(326),i=n(331),s=n(25),a=n(325),c=n(50),u=n(117),p=n(133),l=n(8),f=n(329),h=n(240),d=n(70),g=function(){function t(){h.a.showPrivacyTemplate()}return t.prototype.process=function(){},t.prototype.finishFlow=function(){},t.prototype.defineUser=function(t){var e=t.Settings.Site.RegistrationTypeId;return d.a.defineUserData(e).catch(function(t){throw new f.a(t)})},t.prototype.stopProcessing=function(){o.a.log("Connext stop"),a.a.dispatch(c.a.Finish,{Location:p.a.getLocationInfo()}),this.updateFlowInfo()},t.prototype.updateFlowInfo=function(){p.a.update(),p.a.runCheckDeviceId()},t}(),y=n(56),v=n(275),m=n(10),_=n(0),b=function(){try{var t=v.a.get("nxtact")||null,e=Object(_.isObject)(t)?t:JSON.parse(t);e&&(m.ActionModule.setTimeRepeatableActions(e),v.a.delete("nxtact"))}catch(t){o.a.error("MigrateFromNxtActCookieToStorage",t)}},C=n(2),w=n(74),A=n(274),I=function(){function t(){this.oldCookieKey="connext_viewstructure"}return t.prototype.apply=function(){var t,u=this;this.clearOldCookies();try{var e=v.a.get(C.e.ConnextViewStructure),p=JSON.parse(v.a.get(this.oldCookieKey)||null);if(e||!p||Object(_.isEmpty)(p))return!1;v.a.set(this.oldCookieKey,p,{expires:(t=s.a.get(),t.setMonth(t.getMonth()+1),t)});var l={};Object(_.each)(Object(_.keys)(p),function(t){var e,n,o,r=0<t.indexOf("_device"),i=r?t.split("_")[0]:t,s=u.findMeterLevelByConversationId(i);if(s){var a=r?C.a.DeviceArticleCount:C.a.ArticleCount,c="_"+a;(e={})[s]=((n={})[i]=((o={})[a]=p[t],o),n),e[c]=parseInt(p[t]),l=e}}),v.a.set(C.e.ConnextViewStructure,l,{expires:new Date(C.d)})}catch(t){return o.a.log(t.toString(),A.b.Error),!1}return!0},t.prototype.findMeterLevelByConversationId=function(n){var o=w.a.getCampaignData().Conversations;return o?Object.keys(o).reduce(function(t,e){return o[e]&&t.push(o[e]),t},[]).reduce(function(t,e){return e.Id===n&&e.MeterLevelId||t},0):0},t.prototype.clearOldCookies=function(){try{Object(_.each)(v.a.keys(),function(e){[C.e.ViewedArticles,"sub_Connext_ViewedArticles"].some(function(t){return e.startsWith(t)})&&(v.a.delete(e),v.a.delete(e,{domain:(window.location.host.match(/\..+\..+$/g)||[])[0]}))})}catch(t){o.a.log(t.toString(),A.b.Error)}},t}(),S=new(function(){function t(){}return t.prototype.migrate=function(){(new I).apply(),new b},t}());n.d(e,"MainFlow",function(){return P});var O,E=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(n){function t(t){var e=n.call(this)||this;return e.configuration=t,e}return E(t,n),t.prototype.process=function(){var e=this;S.migrate(),o.a.log("MainFlow","processUsualConfiguration","Processing usual configuration",arguments),r.a.set(i.a.IsProcessed,!0),r.a.set(i.a.StartProcessingTime,s.a.get()),this.canClientUsePlugin().then(function(t){t?e.continueProcessing():e.stopProcessing()})},t.prototype.finishFlow=function(){l.a.saveViewInformation();var t=r.a.get(i.a.DebugInstance);t&&t.showIfNeed(),this.updateFlowInfo()},t.prototype.canClientUsePlugin=function(){var t=this;return l.a.setViewData().then(function(){return y.a.canClientUseConnext(t.configuration.WhitelistSets)})},t.prototype.continueProcessing=function(){var e=this,n="continueProcessing";return o.a.log("MainFlow",n,"Continue processing ConneXt...",this.configuration),a.a.dispatch(c.a.DynamicMeterFound,this.configuration.DynamicMeter.Name),new u.Meter(this.configuration).process().then(function(){return e.finishProcessing(),Promise.resolve(!0)}).catch(function(t){return o.a.log("MainFlow",n,"Meter not found",t),e.finishProcessing(),Promise.resolve(!1)})},t.prototype.finishProcessing=function(){a.a.dispatch(c.a.Finish,{Location:p.a.getLocationInfo()}),this.finishFlow()},t}(g)},function(t,e,n){"use strict";var r=n(336),o=n(8),s=n(137),i=n(326),a=n(331),c=n(325),u=n(50),p=n(13),l=function(i,s,a,c){return new(a||(a=Promise))(function(t,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,o)}r((c=c.apply(i,s||[])).next())})},f=function(n,o){var r,i,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=o.call(n,a)}catch(t){e=[6,t],i=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},h=new(function(){function i(){}return i.prototype.detect=function(){var e=this;return new Promise(function(r,t){return l(e,void 0,void 0,function(){var e,n,o;return f(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,,7]),p.a.isChrome()?(r(this.detectChromeIncognito()),[3,5]):[3,1];case 1:if(!p.a.isFirefox()||!window.indexedDB)return[3,2];try{(e=window.indexedDB.open("test")).onsuccess=function(){r(!1)},e.onerror=function(){r(!0)}}catch(t){r(!0)}return[3,5];case 2:return p.a.isEdge()?(n=r,[4,this.detectChromeAfterVersion76()]):[3,4];case 3:return n.apply(void 0,[t.sent()]),[3,5];case 4:if(p.a.isIE())try{window.indexedDB?r(!1):r(!0)}catch(t){r(!0)}else if(p.a.isSafari()&&window.localStorage)if(13<=parseInt(p.a.getBrowserVersion()))this.detectSafariAfterVersion13().then(function(t){r(t)});else try{window.localStorage.setItem("test","1"),window.openDatabase(null,null,null,null),r(!1)}catch(t){r(!0)}else r(!1);t.label=5;case 5:return[3,7];case 6:return o=t.sent(),s.a.error(i.Name,"detectIncognito",o),r(!1),[3,7];case 7:return[2]}})})})},i.prototype.detectChromeIncognito=function(){var t=parseInt(p.a.getBrowserVersion());return 76<=t?this.detectChromeAfterVersion76():74<t?this.detectChromeAfterVersion74():this.detectChromeBeforeVersion74()},i.prototype.detectChromeAfterVersion74=function(){return new Promise(function(n,t){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var e=t.quota;n(e<12e7)}):n(!1)})},i.prototype.detectChromeAfterVersion76=function(){return new Promise(function(i){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var e,n,o,r=t.quota;r&&r<(e=navigator,n=e.userAgent&&0<e.userAgent.indexOf("Mac OS")&&-1==e.userAgent.indexOf("iPhone"),o=e.userAgent&&0<e.userAgent.indexOf("CrOS"),n||o?3221225472:1073741824)?i(!0):i(!1)}):i(!1)})},i.prototype.detectChromeBeforeVersion74=function(){return new Promise(function(t,e){var n=window.RequestFileSystem||window.webkitRequestFileSystem;n?n(window.TEMPORARY,1,function(){t(!1)},function(){t(!0)}):t(!1)})},i.prototype.detectSafariAfterVersion13=function(){var e,n=function(t){return new RegExp([103,101,115,116,117,114,101].map(function(t){return String.fromCharCode(t)}).join("")).test(t)};return"safari"in window?new Promise(function(e){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},function(){})}catch(t){n(t)?e(!1):e(!0)}}):(e=document.createElement("iframe"),Promise.race([new Promise(function(t){e.style.display="none",document.body.appendChild(e),e.contentWindow?e.contentWindow.applicationCache.addEventListener("error",function(){return t(!0)}):t(!1)}),new Promise(function(t){setTimeout(function(){return t(!1)},20)})]))},i.Name="IncognitoModeClass",i}()),d=n(337),g=new(function(){function t(){}return t.prototype.setDeviceId=function(){return this.getDeviceId().then(function(t){i.a.set(a.a.DeviceId,t)})},t.prototype.getDeviceId=function(){var o=this;try{return void 0!==window.Fingerprint?"function"==typeof window.Fingerprint.getDeviceID?window.Fingerprint.getDeviceID():(s.a.warn("Need update Fingerprint plugin"),"function"==typeof window.Fingerprint.getDeviceId?(s.a.warn("Use deviceId from old FP"),this.getDeviceIdFromVersionBottom()):Promise.resolve(this.generateGuid())):new Promise(function(t,e){var n=r.a.getGuid();t(n||o.generateGuid())})}catch(t){return s.a.error("Device","getDeviceId",t),Promise.resolve(this.generateGuid())}},t.prototype.getDeviceIdFromVersionBottom=function(){return new Promise(function(n,t){var o=setInterval(function(){var t=window.Fingerprint;if(t){var e=t.getDeviceId();e&&(clearInterval(o),n(e))}},400)})},t.prototype.runCheckDeviceId=function(){if(void 0!==window.Fingerprint){if(!window.Fingerprint.onChangedDeviceId)return void s.a.warn("Regenerate process is not working with this version of Fingerprint");if(i.a.get(a.a.IsChangedDeviceId))return;window.Fingerprint.onChangedDeviceId().then(function(t){c.a.dispatch(u.a.ChangedDeviceId,t),i.a.set(a.a.DeviceId,t.newId),i.a.set(a.a.IsChangedDeviceId,!0),i.a.set(a.a.OldNewDeviceId,t),o.a.sendNewDeviceInfoToServer(t)}).catch(function(){s.a.log("DeviceId is not changed")})}else{d.a.trackEvent("FpUndefined",{execStatus:"failed",errorDetail:"window.Fingerprint is undefined"})}},t.prototype.generateGuidSection=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t.prototype.isIncognitoBrowsing=function(){var e=r.a.getIncognitoMode();return e?new Promise(function(t){t("true"==e)}):h.detect().then(function(t){return r.a.setIncognitoMode(t),t})},t.prototype.generateGuid=function(){var t=this.generateGuidSection;return t()+t()+t()+t()+t()+t()+t()+t()},t.prototype.getDeviceType=function(){return p.a.getDeviceType()},t.prototype.getUserAgent=function(){return p.a},t.Name="Device Detect",t}()),y=function(t){t&&(this.IpAddress=t.ipAddress||t.IpAddress,this.ContinentCode=t.continentCode||t.ContinentCode,this.CountryCode=t.countryCode||t.CountryCode,this.State=t.stateProv||t.StateProv,this.City=t.city||t.City,this.Zip=t.zipCode||t.ZipCode,this.Lat=t.latitude||t.Latitude,this.Long=t.longitude||t.Longitude,this.IsEuMember=t.isEuMember||t.IsEuMember)},v=n(26);n.d(e,"a",function(){return m});var m=new(function(){function t(){this.serviceUrl=window.location.protocol+"//api-mg2.db-ip.com/v2/p14891b727f063924f0d86d8a8e5063678abd2ac/self",this.locationData=null}return t.prototype.checkFPMethodAccess=function(){return void 0!==window.Fingerprint&&"function"==typeof window.Fingerprint.getGlobalLocation},t.prototype.fingerprintFlow=function(){var e=this;return window.Fingerprint.getGlobalLocation().then(function(t){return s.a.log("Used Fingerprint methods to detect global locations"),e.locationData=new y(t),Promise.resolve(e.locationData)}).catch(function(t){return s.a.error(t,"Used Connext methods detect global location"),e.connextFlow()})},t.prototype.setInformation=function(){return this.checkFPMethodAccess()?this.fingerprintFlow():this.connextFlow()},t.prototype.connextFlow=function(){if(!r.a.isExistInformationInStorage())return this.update();var t=this.getLocationInfo();return this.locationData=t,Promise.resolve(t)},t.prototype.update=function(){var o=this;return this.checkFPMethodAccess()?Promise.resolve():r.a.getInformationFromService(this.serviceUrl,{cache:!1}).then(function(t){var e=new y(t);return r.a.setInformationToStorage(e),o.locationData=e,Promise.resolve(e)}).catch(function(t){s.a.error("GlobalLocation",o.serviceUrl,t);var e=o.getLocationInfo();if(e&&e.Zip&&e.Zip!=v.n)return Promise.resolve(e);var n=new y({});return r.a.setInformationToStorage(n),Promise.resolve(n)})},t.prototype.getZipCode=function(){var t=this.getLocationInfo();return t&&t.Zip?t.Zip:"unknown"},t.prototype.getIP=function(){var t=this.getLocationInfo();return t?t.IpAddress:null},t.prototype.getIsEuMember=function(){var t=this.getLocationInfo();return t?t.IsEuMember:""},t.prototype.getCountryCode=function(){var t=this.getLocationInfo();return t&&t.CountryCode?t.CountryCode:"unknown"},t.prototype.getLocationInfo=function(){return this.locationData||r.a.getInformationFromStorage()},t.prototype.setDeviceId=function(){return g.setDeviceId()},t.prototype.getDeviceType=function(){return g.getDeviceType()},t.prototype.getUserAgent=function(){return g.getUserAgent()},t.prototype.runCheckDeviceId=function(){g.runCheckDeviceId()},t.prototype.isIncognitoBrowsing=function(){return g.isIncognitoBrowsing()},t.prototype.redirectToPage=function(t){window.location.replace(t)},t}())},function(t,e,n){"use strict";var o=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},r=n(0),i=n.n(r);n.d(e,"a",function(){return s});var s=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=i.a.map(t.Groups,function(t){return new o(t)}),this.DefaultGroup=t.DefaultGroup)}},function(t,e,n){"use strict";n.r(e);var o=n(71),r=n(211),i=n(9),s=n(331),a=n(325),c=n(26),u=n(44),p=n(32),l=n(235),f=n(2),h=n(350),d=n(275),g=n(53),y=function(){function t(){}return t.prototype.getUserByEmailAndPassword=function(t,e){return h.a.post("user",t,e).then(function(t){var e=g.a.decrypt(t);return new l.a(e)})},t.prototype.getIgmRegID=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmRegID,t)},t.prototype.setIgmRegID=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmRegID,t,n)}},t.prototype.deleteIgmRegID=function(){d.a.delete(f.b.IgmRegID,this.getGetterOptions())},t.prototype.getIgmContent=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmContent,t)},t.prototype.setIgmContent=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmContent,t,n)}},t.prototype.deleteIgmContent=function(){d.a.delete(f.b.IgmContent,this.getGetterOptions())},t.prototype.getIgmAuth=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmAuth,t)},t.prototype.setIgmAuth=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmAuth,t,n)}},t.prototype.deleteIgmAuth=function(){d.a.delete(f.b.IgmAuth,this.getGetterOptions())},t.prototype.clearStorage=function(){this.deleteIgmRegID(),this.deleteIgmContent(),this.deleteIgmAuth()},t.prototype.sendForgotPasswordRequest=function(t,e){return h.a.post("user/forgotPassword",t,e)},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}}},t.prototype.getGetterOptions=function(){return{converter:{read:function(t,e){return t}},expandKey:!1,useRootDomain:!0}},t}(),v=n(31),m=n(15),_=function(t,e){this.Email=t,this.Password=e};n.d(e,"MG2AuthSystem",function(){return w});var b,C=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(o){function t(){var t=o.call(this)||this;return t.name="MG2",t.id=c.a.MG2,t.mg2AuthRepository=new y,t}return C(t,o),t.prototype.getRepository=function(){return this.mg2AuthRepository},t.prototype.setAuthEventsListeners=function(){},t.prototype.afterSuccessLogin=function(){m.a.getRegistrationProcess()||o.prototype.afterSuccessLogin.call(this)},t.prototype.afterSuccessRegistration=function(){m.a.getRegistrationProcess()||o.prototype.afterSuccessRegistration.call(this)},t.prototype.showRegisterForm=function(t){t&&t.preventDefault(),p.a.getRegistrationTemplate().process()},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),p.a.getLoginTemplate().process()},t.prototype.showResetPasswordForm=function(t){t&&t.preventDefault(),p.a.getResetPasswordTemplate().process()},t.prototype.HasActiveSession=function(){var n=this;return new Promise(function(t,e){n.getRepository().getIgmRegID()?t(!0):t(!1)})},t.prototype.getAuthProfile=function(){var t=this.getRepository().getIgmRegID();return this.authProfile={UserId:t,IdType:r.e.Encrypted,AuthSystemData:null,FullName:null,Email:null},Promise.resolve(this.authProfile)},t.prototype.login=function(e,t,n){var o=this,r=new _(e,t);return this.mg2AuthRepository.getUserByEmailAndPassword(r,n).then(function(t){return o.onLoginSuccess(t).then(function(t){return t.Email||(t.Email=e),t})}).catch(function(t){return Promise.reject(t)})},t.prototype.onLoginSuccess=function(t){this.mapAuthData(t),this.mapAuthCookies(t),this.setAuthProfile(this.getRepository().getIgmRegID());var e=this.createUserDataFrom(this.authProfile,t);return e.FullName||(e.FullName=e.getFullName()),v.a.setActualDataOnDay(),Promise.resolve(e)},t.prototype.clearStorage=function(){this.getRepository().clearStorage(),o.prototype.logout.call(this)},t.prototype.mapAuthData=function(t){t.IgmRegID=t.IgmRegID&&Object(i.f)(t.IgmRegID)||this.getRepository().getIgmRegID()||null,t.IgmContent=t.IgmContent&&Object(i.f)(t.IgmContent)||this.getRepository().getIgmContent()||null,t.IgmAuth=t.IgmAuth&&Object(i.f)(t.IgmAuth)||this.getRepository().getIgmAuth()||null},t.prototype.mapAuthCookies=function(t){this.getRepository().setIgmRegID(t.IgmRegID,u.a.get(s.a.UserAuthenticationTime)),this.getRepository().setIgmContent(t.IgmContent,u.a.get(s.a.UserAuthenticationTime)),this.getRepository().setIgmAuth(t.IgmAuth,u.a.get(s.a.UserIgmAuthTime))},t.prototype.logout=function(){this.clearStorage(),o.prototype.logout.call(this),a.a.dispatch(c.h.ApplicationReload,c.l.Logout)},t.prototype.sendForgotPasswordRequest=function(t,e){return this.getRepository().sendForgotPasswordRequest(t,e)},t.prototype.useMg2LoginTemplate=function(){return!0},t.prototype.hasPartialMg2AuthCookies=function(){return!this.mg2AuthRepository.getIgmRegID()},t.prototype.syncUser=function(t){return Promise.resolve()},t.prototype.createUserDataFrom=function(t,e){var n=o.prototype.createUserDataFrom.call(this,t,e);return this.mapAuthData(n),n},t.prototype.setAuthProfile=function(t){this.authProfile={UserId:t,IdType:r.e.Encrypted,AuthSystemData:null,FullName:null,Email:null}},t}(o.a)},function(t,e,n){"use strict";n.r(e);var o=n(71),r=n(2),i=n(350),s=n(275),a=n(18),c=function(){function t(){}return t.prototype.getUserByEmailAndPassword=function(t,e){return i.a.post("user",t,e).then(function(t){return a.a.decrypt(t)})},t.prototype.checkDigitalAccess=function(t,e,n){return i.a.get("user/DigitalAccess?loginName="+encodeURIComponent(t)+"&hash="+encodeURIComponent(e),null,n).then(function(t){return a.a.decrypt(t)})},t.prototype.getNzwRegID=function(){var t=this.getGetterOptions();return s.a.get(r.b.NzwRegId,t)},t.prototype.setNzwRegID=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(r.b.NzwRegId,t,n)},t.prototype.deleteNzwRegID=function(){s.a.delete(r.b.NzwRegId,this.getGetterOptions())},t.prototype.getNzwToken=function(){var t=this.getGetterOptions();return s.a.get(r.b.NzwToken,t)},t.prototype.setNzwToken=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(r.b.NzwToken,t,n)},t.prototype.deleteNzwToken=function(){s.a.delete(r.b.NzwToken,this.getGetterOptions())},t.prototype.getNzwLid=function(){var t=this.getGetterOptions();return s.a.get(r.b.NzwLid,t)},t.prototype.setNzwLid=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(r.b.NzwLid,t,n)},t.prototype.deleteNzwLid=function(){s.a.delete(r.b.NzwLid,this.getGetterOptions())},t.prototype.clearStorage=function(){this.deleteNzwRegID(),this.deleteNzwToken(),this.deleteNzwLid()},t.prototype.setCookieStorage=function(t,e){t.NzwRegId&&this.setNzwRegID(t.NzwRegId,e),this.setNzwToken(t.NzwToken,e),this.setNzwLid(t.NzwLid,e)},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}}},t.prototype.getGetterOptions=function(){return{converter:{read:function(t,e){return t}},expandKey:!1,useRootDomain:!0}},t}(),u=n(9),p=n(339),l=n(137),f=n(211),h=n(11),d=n(348),g=n(0),y=function(){function t(t,e){this.element=t;this.alertElement=h.a.create('<div class="alert alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><span></span></div>'),this.settings=Object(g.extend)({type:"success",useTitles:!1},e),this.titles={success:"Success!",error:"Error!",info:"Info!",warning:"Warning!"}}return t.prototype.setText=function(t){var e=document.createElement("span");e.textContent=t,h.a.append(this.alertElement,e),h.a.append(this.element,this.alertElement)},t.prototype.setType=function(t){var e="error"==t?"danger":t;h.a.addClass(this.alertElement,"alert-"+e)},t.prototype.callType=function(t,e){return this.setText(e),this.setType(t),this.show(),this},t.prototype.error=function(t){return this.callType("error",t)},t.prototype.success=function(t){return this.callType("success",t)},t.prototype.info=function(t){return this.callType("info",t)},t.prototype.warning=function(t){return this.callType("warning",t)},t.prototype.hide=function(){return this.slideUp(),this},t.prototype.show=function(){return h.a.removeClass(this.alertElement,"fade"),h.a.removeClass(this.alertElement,"hide"),this.hide(),this},t.prototype.autohide=function(t){var e=this;setTimeout(function(){e.slideUp()},t||5e3)},t.prototype.slideDown=function(t){t.style.maxHeight="1000px",t.style.opacity="1"},t.prototype.slideUp=function(){var t=this;this.once(10,function(){t.alertElement.remove(),t.alertElement.style.opacity="0"})},t.prototype.once=function(t,e){var n=0,o=window.setInterval(function(){t<=++n&&(e(),window.clearInterval(o))},400)},t}(),v=n(325),m=n(50),_=n(331),b=n(26),C=n(7),w=n(74),A=n(140),I=n(44),S=n(341),O=n(235),E=n(332),P=n(31);n.d(e,"NewzwareAuthSystem",function(){return B});var D,x=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(e){function t(){var t=e.call(this)||this;return t.name="Newzware",t.id=b.a.Newzware,t.loginButtonSelector="[data-mg2-submit=login]:visible, [data-mg2-submit=LogIn]:visible",t.newzwareRepository=new c,t}return x(t,e),t.prototype.HasActiveSession=function(){var n=this;return new Promise(function(t,e){n.newzwareRepository.getNzwLid()&&n.newzwareRepository.getNzwToken()||n.hasNeededUrlParams()?t(!0):t(!1)})},t.prototype.login=function(t,e,n){var o=this,r=new S.a(t,e,null);return this.newzwareRepository.getUserByEmailAndPassword(r,n).then(function(t){return t.AuthSystem=o.name,t.AuthSystemId=o.id,t.UserId=t.NzwLid,t.FullName=o.getFullName(t),o.mapAuthCookies(t),P.a.setActualDataOnDay(),o.loginTemplate&&o.loginTemplate.hide(),Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},t.prototype.getUserData=function(t){var n=this,e=this.hasNeededUrlParams()?Object(u.p)("hash"):this.newzwareRepository.getNzwToken();return t.UserId&&e?this.newzwareRepository.checkDigitalAccess(t.UserId,e,{location:p.a.User}).then(function(t){var e=C.a.getCachedUserData()||{};return e.DigitalAccess=t,n.hasNeededUrlParams()&&(n.mapAuthCookies(e),n.removeUrlParams()),P.a.setActualDataOnDay(),Promise.resolve(new O.a(e))}).catch(function(t){return n.hasNeededUrlParams()&&n.removeUrlParams(),l.a.log(n.name,"getDefaultUserData",t),Promise.resolve(n.getDefaultUserData(!0))}):Promise.resolve(this.getDefaultUserData())},t.prototype.getAuthProfile=function(){var t=this.hasNeededUrlParams()?Object(u.p)("login_id"):this.newzwareRepository.getNzwLid(),e=C.a.getCachedUserData()||{};return this.authProfile={UserId:e.UserId||t,Email:e.Email||t,IdType:f.e.Usual,AuthSystemData:null,FullName:e.FullName||t||"User"},Promise.resolve(this.authProfile)},t.prototype.showLoginForm=function(t){var s=this;t&&t.preventDefault(),this.showLoginTemplate();var a=h.a.find(this.loginButtonSelector,h.a.queryElement("body"));h.a.on(a,"click",function(t){t.preventDefault();var n=new d.a(a),e=Object(g.first)(h.a.find("[data-mg2-alert=login]:visible",h.a.queryElement("body"))),o=new y(e);n.on();var r=h.a.val(h.a.find("[data-mg2-alert=login] [data-mg2-input=Email]:visible",h.a.queryElement("body"))),i=h.a.val(h.a.find("[data-mg2-alert=login] [data-mg2-input=Password]:visible",h.a.queryElement("body")));return r?i?void s.login(r,i,{location:p.a.User}).then(function(t){n.off(),C.a.updateUserData(t),s.successLogin()}).catch(function(t){s.failLogin(t);var e="GenericAuthFailed";t&&t.ErrorMessage&&(e=t.ErrorMessage,"UserName or Password invalid."===t.ErrorMessage&&(e="UserName or Password invalid. Please try again or click on the Forgot/Reset Password link to update your password, or create an account if you have never registered an email address with us.")),o.info(e),n.off()}):(o.info("Please enter password"),void n.off()):(o.info("Please enter email"),void n.off())})},t.prototype.showLoginTemplate=function(){var e=w.a.getConfiguration();if(e.Settings.LoginTemplate)if(this.loginTemplate=A.a.getInstance().createTemplate({Html:e.Settings.LoginTemplate.Html}),this.loginTemplate){this.loginTemplate.beforeShow(),this.loginTemplate.show();var t=this.loginTemplate.getElement();this.processLinks(t),h.a.on(t,b.h.TemplateShown,function(t){v.a.dispatch(m.a.LoginShown,e.Settings.LoginTemplate.Name)}),h.a.on(t,b.h.TemplateClosed,function(t){var e=t&&t.detail?t.detail.closeEvent:"";v.a.dispatch(m.a.LoginClosed,e)}),this.loginTemplate.afterShow()}else l.a.warn("showLoginTemplate","No Html in Template");else l.a.warn("LOGIN Template is not marked")},t.prototype.hasNeededUrlParams=function(){return Object(u.s)("login_id")&&Object(u.s)("hash")},t.prototype.removeUrlParams=function(){Object(u.z)(["login_id","hash","site","encrypted","nwmodule","nwpage","rate_id"])},t.prototype.getFullName=function(t){var e="User",n=t.CustomData?t.CustomData.newzware:null;return n&&n.fname&&n.lname?e=n.fname+" "+n.lname:n&&n["first-name"]&&n["last-name"]?e=n["first-name"]+" "+n["last-name"]:t.Email&&(e=t.Email),e},t.prototype.clearStorage=function(){this.newzwareRepository.clearStorage()},t.prototype.setCookieStorage=function(t,e){this.newzwareRepository.setCookieStorage(t,e)},t.prototype.mapAuthCookies=function(t){t.NzwRegId=t.NzwRegId||this.newzwareRepository.getNzwRegID()||null,t.NzwToken=t.NzwToken||this.newzwareRepository.getNzwToken()||null,t.NzwLid=t.NzwLid||this.newzwareRepository.getNzwLid()||null;var e=new E.a;e.daysOfLife=I.a.get(_.a.UserAuthenticationTime),this.setCookieStorage(t,e)},t.prototype.logout=function(){this.clearStorage(),e.prototype.logout.call(this),v.a.dispatch(b.h.ApplicationReload,b.l.Logout)},t.prototype.processLink=function(t){var e=h.a.attr(t,"href")||"";h.a.attr(t,{href:this.addRpageAndCpageParamsToLink(e)})},t.prototype.addRpageAndCpageParamsToLink=function(t){var e=window.location.href.split("?")[0];return~t.indexOf("rpage=")||(t=Object(u.c)(t,"rpage",encodeURIComponent(e))),~t.indexOf("cpage=")||(t=Object(u.c)(t,"cpage",encodeURIComponent(e))),t},t}(o.a)},function(t,e,n){"use strict";var i=n(274),o=Object.freeze({debug:!1,level:i.a.Low,type:i.b.Log}),s=n(0),r=n(27),a=n(325),c=n(50),u=n(74);n.d(e,"a",function(){return l});var p=function(){return(p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},l=new(function(){function t(){this.logHistory=[],this.logOptionsKey="__appLogsOptions__",this.logOptions=p({},o),this.storage=new r.a;var t=this.storage.get(this.logOptionsKey);t&&(this.logOptions=p({},this.logOptions,t)),this.storage.set(this.logOptionsKey,this.logOptions)}return t.prototype.setOptions=function(t){this.logOptions=Object(s.extendOwn)(this.logOptions,t),this.storage.set(this.logOptionsKey,this.logOptions)},t.prototype.getOptions=function(){return this.logOptions},t.prototype.getLogHistory=function(){return this.logHistory.slice()},t.prototype.message=function(t,e,n){var o;void 0===e&&(e=i.b.Log),void 0===n&&(n=i.a.Low),t=Object(s.isArray)(t)?t:[t];var r=">>>> "+e.toUpperCase()+" <<<< |";this.logHistory.push(r+" "+t),this.logOptions.debug&&u.a.getDebugAllowedSetting()&&n>=this.logOptions.level&&(o=window.console)[e].apply(o,[r].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(t,i.b.Log,i.a.Low)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(t,i.b.Warn,i.a.Medium)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.a.dispatch(c.a.GenericError,t),a.a.dispatch(c.a.NxtError,t),this.message(t,i.b.Error,i.a.High)},t}())},function(t,e,n){"use strict";var o=n(9),c=function(){function t(t,e){this.reWriteSecurity=null,this.type=t.type,this.key=t.key,this.value=t.value,this.options=t.options,this.secureState=e,this.reWriteSecurity=t.reWriteSecurity}return t.prototype.rewriteSecurityStorage=function(t){try{if(this.secureState&&this.secureState.currentState!=this.secureState.prevState&&!Object(o.t)(this.reWriteSecurity)){this.reWriteSecurity=!1;var e=t.get(this.key);if(null==e||null==e||""==e)return;this.options.isSecureValue=this.secureState.currentState,t.set(this.key,e,this.options),this.reWriteSecurity=!0}}catch(t){this.reWriteSecurity=!1}},t.prototype.setRewriteStatus=function(){this.reWriteSecurity=!0},t.prototype.getSecurity=function(t){return"set"==t?this.secureState.currentState:this.secureState?this.reWriteSecurity?this.secureState.currentState:this.secureState.prevState:this.options.isSecureValue},t}(),r=n(27),i=n(325),s=n(26);n.d(e,"a",function(){return a});var a=new(function(){function t(){var n=this;this.components=[],this.storage=new r.a,i.a.subscribe(s.h.StartInit,function(t){if(n.secureStorageState=n.getSecuredMode(),n.secureStorageState){var e=n.storage.get("DebugSecure")||[];n.components=e.map(function(t){return new c(t,n.secureStorageState)})}},!0),i.a.subscribe(s.h.StartDebugSecureMode,function(t){var e=t.EventData;n.secureStorageState&&n.secureStorageState.currentState!=e?(n.storage.delete("DebugSecure"),n.storage.delete("nxtSecure")):n.setSecuredMode(e)},!0)}return t.prototype.addToDebug=function(t,e,n,o,r,i){if(this.secureStorageState){if(r.isSecureValue){var s=this.findComponent(e);if(s)"get"==n&&s.rewriteSecurityStorage(i),"set"==n&&s.setRewriteStatus();else{var a=new c({type:t,key:e,method:n,value:o,options:r},this.secureStorageState);this.components.push(a),"get"==n&&a.rewriteSecurityStorage(i),"set"==n&&a.setRewriteStatus()}}this.storage.set("DebugSecure",this.components)}},t.prototype.findComponent=function(e){return this.components.find(function(t){return t.key==e})},t.prototype.isSecurityMode=function(t,e){var n=this.findComponent(t);return n?n.getSecurity(e):null},t.prototype.setSecuredMode=function(t){var e=this.getSecuredMode();this.storage.set("nxtSecure",{currentState:t,prevState:!e||e.currentState})},t.prototype.getSecuredMode=function(){return this.storage.get("nxtSecure")},t}())},function(t,e,n){"use strict";n.r(e);var r=n(7),i=n(26),s=n(44),o=n(71),a=n(331),c=n(330),u=n(325),p=n(50),l=n(137),f=n(211),h=function(){},d=n(0),g=n(31);n.d(e,"Auth0AuthSystem",function(){return m});var y,v=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(o){function t(){var t=o.call(this)||this;t.name="Auth0",t.id=i.a.Auth0,t.isSubmitSignup=!1,t.auth0Repository=new h;var e=s.a.get(a.a.AuthSettings);if(!e||!e.auth0Lock)throw t.authSystemNotFound(),c.a.NO_AUTH0_LOCK;return t.auth0Lock=e.auth0Lock,t}return v(t,o),t.prototype.getAuthProfile=function(){var e=this;return this.getAuth0Profile().then(function(t){return e.setAuthProfile(t),e.authProfile})},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),this.auth0Lock.show()},t.prototype.showRegisterForm=function(t){var e=this;t&&t.preventDefault(),this.auth0Lock.on("signup ready",function(){e.isSubmitSignup=!0,u.a.dispatch(p.a.RegistrationShown,null)}),this.auth0Lock.show(),this.auth0Lock.on("hide",function(){u.a.dispatch(p.a.RegistrationClosed,null)})},t.prototype.login=function(t,e,n){return Promise.resolve()},t.prototype.setAuthEventsListeners=function(){var e=this;this.auth0Lock.on("authenticated",function(t){e.setAuthProfile(t.idTokenPayload),r.a.setUserData(e.createUserDataFrom(e.authProfile)),e.isSubmitSignup?e.successRegistration():e.successLogin()}),this.auth0Lock.on("signin submit",function(){e.isSubmitSignup=!1}),this.auth0Lock.on("signup submit",function(){e.isSubmitSignup=!0})},t.prototype.HasActiveSession=function(){var o=this;return new Promise(function(n,t){Object(d.isFunction)(o.auth0Lock.checkSession)?o.auth0Lock.checkSession({scope:"openid profile email",redirect_uri:window.location.origin},function(t,e){!t&&e&&e.accessToken?(o.accessToken=e.accessToken,n(!0)):(l.a.log(o.constructor.name,"Could not get a new token "+t.error+":"+t.error_description+"."),r.a.clearStorage(),n(!1))}):t("check Auth0 setiings: allowed domain name")})},t.prototype.logoutMultipleDevices=function(){var t=r.a.getUserData();return r.a.getUserState()==i.q.NotLoggedIn||!t.LastLogoutDate||t.LoginDate&&t.LoginDate>=t.LastLogoutDate?Promise.resolve():this.logout(!0)},t.prototype.logout=function(t){var e=this;void 0===t&&(t=!1);var n={customRegistrationId:r.a.getUserId()};return(t?Promise.resolve():g.a.logout(n)).then(function(){e.deleteLoginData(),e.auth0Lock.logout(),u.a.dispatch(i.h.ApplicationReload,i.l.Logout),o.prototype.logout.call(e)})},t.prototype.setAuthProfile=function(t){this.authProfile={UserId:t.sub,IdType:f.e.Usual,Email:t.email,FullName:t.name||t.nickname||"",AuthSystemData:t,isPageLoadUpdate:!0}},t.prototype.getAuth0Profile=function(){var e=this;return new Promise(function(n,t){e.auth0Lock.getUserInfo(e.accessToken,function(t,e){n(!t&&e?e:{})})})},t}(o.a)},function(t,e,n){"use strict";var o,r,i,s,a,c=n(44),u=n(62),p=n(11),l=n(26),f=n(325),h=n(9),d=n(137),g=n(50),y=n(13),v=n(0),m=n.n(v),_=function(){function t(t){this.NAME="Template",this.displayType="",this.options=t,this.setElement(p.a.create(this.options.Html))}return t.prototype.getType=function(){return this.displayType},t.prototype.setType=function(t){this.displayType=t},t.prototype.getElement=function(){return this.domElement},t.prototype.setElement=function(t){this.domElement=t},t.prototype.beforeShow=function(){this.fixFontAwesomeStyle()},t.prototype.dispatchTemplateShownEvent=function(){var t=new CustomEvent(l.h.TemplateShown,{bubbles:!0});this.getElement().dispatchEvent(t),f.a.dispatch(l.h.TemplateShown)},t.prototype.dispatchTemplateCloseEvent=function(t){t||(t=l.c.CloseButton);var e=new CustomEvent(l.h.TemplateClosed,{bubbles:!0,detail:{closeEvent:t}});this.getElement().dispatchEvent(e)},t.prototype.afterShow=function(){this.dispatchTemplateShownEvent(),this.addCloseBtnListener(),this.fixDisplayBugs(),this.fixCloseButton()},t.prototype.fixDisplayBugs=function(){this.fixBackgroundImage()},t.prototype.fixBackgroundImage=function(){if(y.a.isIE()){var t=this.getElement(),e=[].slice.call(p.a.find("*",t),0);e.push(t),e.forEach(function(t){t.style.backgroundImage?t.setAttribute("style",t.getAttribute("style")):"style"==p.a.getType(t)&&p.a.html(t,p.a.html(t))})}},t.prototype.fixFontAwesomeStyle=function(){var t=this.getElement(),e=p.a.find(".fa",t),n={display:"inline-block",font:"normal normal normal 14px/1 FontAwesome","font-size":"inherit","font-variant":"normal","text-transform":"none","text-rendering":"auto","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"};m.a.each(e,function(t){var e=p.a.getCssAttribute(t,"display");e&&(n.display=e),p.a.css(t,n),p.a.removeClass(t,"fa"),p.a.addClass(t,"cb")})},t.prototype.fixCloseButton=function(){(p.a.find("[data-dismiss]",this.getElement())||[]).forEach(function(t){p.a.attr(t,"href")!==Object(h.j)()&&p.a.attr(t,"href")!==Object(h.j)()+"#"||p.a.attr(t,{href:"#"})})},t.prototype.show=function(){},t.prototype.hide=function(t){this.dispatchTemplateCloseEvent(t),p.a.addClass(this.getElement(),"hide"),p.a.remove(this.getElement())},t.prototype.switchStep=function(){},t.prototype.destroy=function(){p.a.isVisible(this.getElement())?this.hide():p.a.remove(this.getElement())},t.prototype.setWidth=function(t){var e;this.width=t,"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!0,!0),window.dispatchEvent(e)},t.prototype.getWidth=function(){return this.width?this.width:+this.getElement().dataset.width},t.prototype.addCloseBtnListener=function(){var o=this;p.a.on(p.a.find("[data-dismiss]",this.getElement()),"click",function(t){t.preventDefault();var e=t.target,n=p.a.attr(e,"href");if(p.a.attr(e,"data-dismiss")===l.j&&("#"===n||!n))return!1;"#"!==n&&n?o.fireTargetValue(e,n):(d.a.log(o.NAME,"addCloseBtnListener","Click by link without href",n),o.hide())})},t.prototype.fireTargetValue=function(t,e){var n;t.hasAttribute("target")?(n="Open in a new window",window.open(e,"_blank")):(n="Open in the current window",window.location.href=e),d.a.log(this.NAME,"fireTargetValue",n,e),f.a.dispatch(g.a.ButtonClick,this.options)},t.prototype.addCss=function(t,e){t&&p.a.append(this.getElement(),'<style id="'+e+'-mg2style">'+t+"</style>")},t.prototype.setId=function(t){p.a.attr(this.getElement(),{id:t})},t.prototype.isCanShow=function(){if(this.options&&this.options.Selector){var t=p.a.isExistElement(this.options.Selector);return t||d.a.error(this.options.Selector," not found"),t}return!0},t}(),b=n(75),C=function(t){this.backdrop=t.backdrop||!0,this.keyboard=t.keyboard||!0,this.focus=t.focus||!0,this.show=t.show||!1,this.ignoreBackdropClick=t.ignoreBackdropClick||!1,this.class=t.class||"",this.notClosable=t.notClosable||!1,this.height=t.height||null,this.maxHeight=t.maxHeight||null,this.width=t.width||null,this.transparentBackdrop=Object(h.t)(t.transparentBackdrop)?t.transparentBackdrop:.7},w=n(122),A=n(25),I=function(){function t(t,e,n){void 0===n&&(n=!0),this.isShown=!1,this.options=new C(e),this.elementInMemory=Object(v.isString)(t)?p.a.create(t):t,this.id=A.a.get().valueOf(),n&&(this.containerElement=this.createContainer(),this.element=p.a.append(this.containerElement,this.elementInMemory))}return t.prototype.show=function(){this.isShown||(this.isShown=!0,p.a.attr(this.element,{"aria-hidden":!1}),this.layout(),p.a.updateStyleAttr(this.element,{display:"block"}),p.a.addClass(this.element,"in"),this.setFocus())},t.prototype.setZindex=function(t){this.zIndex=t,p.a.css(this.element,{zIndex:t})},t.prototype.setFocus=function(){p.a.setFocus(this.element)},t.prototype.close=function(t,e){if(!this.options.notClosable){switch(t){case l.c.EscButton:return void this.onEsc(e,t);case l.c.ClickOutside:return void this.onClickOutside(e,t)}this.element&&p.a.updateStyleAttr(this.element,{display:""}),b.a.hide(this,t)}},t.prototype.onClickOutside=function(t,e){this.isCanCloseOnBackdropClick()&&!this.isClickOnCurrentModal(t)&&b.a.hide(this,e)},t.prototype.isClickOnCurrentModal=function(t){return t.target.closest(".modal")},t.prototype.isCanCloseOnBackdropClick=function(){return!(this.options.ignoreBackdropClick||"static"===this.options.backdrop)},t.prototype.onEsc=function(t,e){if(this.isShown){var n=t.which||t.keyCode;this.options.keyboard&&27===n&&b.a.hide(this,e)}},t.prototype.hide=function(t){this.isShown&&(this.dispatchCloseModalEvent(t),p.a.removeClass(this.element,w.a.IN),this.isShown=!1,this.removeContainer(),this.elementInMemory=null)},t.prototype.layout=function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight,n={};this.options.width?(p.a.css(this.element,{width:this.options.width}),p.a.css(this.element,{"margin-left":this.getMarginLeft()})):(p.a.css(this.element,{width:""}),p.a.css(this.element,{"margin-left":""}));var o=p.a.find(".modal-body",this.element);e?(n[t]=e,p.a.css(o,{overflow:"auto"})):(p.a.css(o,{overflow:""}),n[t]=""),p.a.css(o,n)},t.prototype.getMarginLeft=function(){return/%/gi.test(this.options.width)?-parseInt(this.options.width)/2+"%":-p.a.width(this.element)/2+"px"},t.prototype.dispatchCloseModalEvent=function(t){var e=new CustomEvent("modal:hidden",{detail:{closeEvent:t}});this.element.dispatchEvent(e)},t.prototype.createContainer=function(){var t=document.createElement("div");return t.className="modal-scrollable",t.id=A.a.get().valueOf()+"",document.body.appendChild(t)},t.prototype.removeContainer=function(){this.containerElement&&p.a.remove(this.containerElement)},t}(),S=n(91),O=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(o){function t(t){var e=o.call(this,t)||this;return e.setType(l.m.Modal),e.modalOptions={backdrop:e.options.NotClosable?"static":null,keyboard:!e.options.NotClosable,notClosable:e.options.NotClosable,transparentBackdrop:e.options.TransparentBackdrop},e}return O(t,o),t.prototype.show=function(){this.modal=new I(this.getElement(),this.modalOptions),this.setElement(this.modal.element),this.setModalStyle(),b.a.show(this.modal),p.a.removeClass(this.getElement(),"hide")},t.prototype.afterShow=function(){var e=this,t=this.getElement();if(this.options.NotClosable){var n=p.a.find(".closebtn",t)[0];n&&p.a.attr(n,{"data-dismiss":"notclosablepaywall"})}o.prototype.afterShow.call(this),p.a.on(t,"modal:hidden",function(t){e.dispatchTemplateCloseEvent(t.detail.closeEvent)}),this.setModalStyle(),this.resizeHandler=function(){setTimeout(function(){e.setModalStyle(),S.a.updateUnderElement(t)},100)},p.a.on(window,"resize",this.resizeHandler)},t.prototype.setModalStyle=function(){var t=this.getWidth(),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;+e<+t?e-=40:e=t,p.a.updateStyleAttr(this.getElement(),{width:e+"px"})},t.prototype.hide=function(t){p.a.off(window,"resize",this.resizeHandler),this.modal||(this.modal=new I(this.getElement(),this.modalOptions,!1)),b.a.hide(this.modal,t)},t}(_),P=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),D=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(l.m.Banner),e}return P(t,n),t.prototype.show=function(){var t=p.a.append(document.body,this.getElement());this.setElement(t);var e=this.options.Location||"bottom";p.a.removeClass(t,"bottom"),p.a.removeClass(t,"hide"),p.a.addClass(t,e)},t}(_),x=n(273),B=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),U="before",R="after",L="withinBottom",T=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(l.m.Inline),e}return B(t,n),t.prototype.show=function(){var t=this.options.Selector,e=this.options.Position||R;this.options.Position||d.a.warn("InlineTemplate: show empty contentPosition");var n=p.a.queryElement(t);this.contentOriginaHeight=p.a.height(n),n?this.appendToDOM(this.getElement(),n,e):d.a.error(t+"is not found"),p.a.removeClass(this.getElement(),"hide")},t.prototype.appendToDOM=function(t,e,n){if(x.a.isElement(e))switch(n){case U:p.a.before(e,t);break;case R:p.a.after(e,t);break;case L:this.inContent(e,t)}},t.prototype.inContent=function(t,e){var n=+this.options.InlineParagraph;if(0!==n){var o=p.a.find(this.options.Selector+" > p",document);if(!o||o&&0==o.length)p.a.after(t,e);else if(o&&o.length<n&&0<o.length)p.a.before(t,e);else if(o&&o.length>=n&&0<o.length){var r=o.length-n;p.a.before(o[r],e)}else p.a.after(t,e)}else p.a.inAsFirstChild(t,e)},t.prototype.incrementSelectorHeight=function(){var t=p.a.height(this.getElement()),e=p.a.queryElement(this.options.Selector);p.a.css(e,{height:this.contentOriginaHeight+t+"px"})},t}(_),F=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(l.m.InfoBox),e}return F(t,n),t.prototype.show=function(){var t=this.appendToDOM(this.getElement(),"body");if(this.setElement(t),this.options.HorizontalOffset&&this.options.VerticalOffset){p.a.removeClass(t,"bottom"),p.a.removeClass(t,"hide");var e=this.options.HorizontalOffset,n=100-this.options.VerticalOffset,o={left:e+"%",top:n+"%",transform:"translate(-"+e+"%, -"+n+"%)"};p.a.css(t,o)}},t.prototype.appendToDOM=function(t,e){var n=p.a.queryElement(e);return p.a.append(n,t)},t}(_),V=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),N=function(t){function e(){return t.call(this)||this}return V(e,t),e.prototype.createTemplate=function(t){if(!t.Html)return null;var e;switch(t.DisplayType||this.checkDisplayType(t.Html)){case l.m.Modal:e=new E(t);break;case l.m.Banner:e=new D(t);break;case l.m.Inline:e=new T(t);break;case l.m.InfoBox:e=new k(t)}return e},e.prototype.checkDisplayType=function(t){var e=p.a.create(t).dataset.displayType;return e?e.toLowerCase():null},e}(u.a),M=n(331);n.d(e,"a",function(){return j});var j=function(){function t(){this.NAME="TemplateModule",this.registeredTemplates=[]}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.closeAllTemplates=function(){var t="closeAllTemplates";d.a.log(this.NAME,t,"Close all ConneXt Templates");var e=p.a.find(".Mg2-connext.paywall.flittz:visible",p.a.queryElement("body")),n=c.a.get(M.a.IntegrateFlittz);e&&n&&f.a.dispatch(g.a.FlittzPaywallClosed,null),this.destroyAllTemplates(),d.a.log(this.NAME,t,"All ConneXt Templates have been closed.")},t.prototype.createTemplate=function(t){var e=(new N).createTemplate(t);return e&&this.registerTemplate(e),e},t.prototype.destroyAllTemplates=function(){this.registeredTemplates.forEach(function(t){t.destroy()}),this.registeredTemplates=[]},t.prototype.registerTemplate=function(t){this.registeredTemplates.push(t)},t}()},function(t,e,n){"use strict";var o=n(205),r=n(9),i=function(t){t&&(this.Conversation=t.Conversation,this.Meter=t.Meter)},s=function(t){t&&(this.ArticleLeft=new i(t.ArticleLeft),this.Limit=new i(t.Limit),this.MinView=t.MinView)},a=function(t){this.Ended=null,this.Expiration=null,this.Started=null,t&&(this.Ended=t.Ended,this.Expiration=t.Expiration,this.Started=t.Started)};n.d(e,"a",function(){return c});var c=function(){function t(t){this.Date={},this.ExpiredType=null,t&&(this.IsExpired=t.IsExpired,this.PaywallLimit=t.PaywallLimit,this.Views=t.Views,this.Date=new a(t.Date),this.ArticleLeft=t.ArticleLeft,this.ViewType=t.ViewType,this.PaywallInfo=new s(t.PaywallInfo),this.ExpiredType=new o.a(t.ExpiredType),this.Expired=t.Expired)}return t.prototype.getExpiredTypeName=function(){return this.ExpiredType?this.ExpiredType.TypeName:null},t.prototype.getPaywallInfo=function(){return this.PaywallInfo?this.PaywallInfo:null},t.prototype.setPaywallInfo=function(t){this.PaywallInfo=t},t.prototype.setPaywallProperties=function(t){(this.PaywallInfo=t).MinView&&(t.ArticleLeft&&Object(r.t)(t.ArticleLeft[t.MinView])&&(this.ArticleLeft=t.ArticleLeft[t.MinView],this.ViewType=t.MinView),t.Limit&&void 0!==t.Limit[t.MinView]&&null!==t.Limit[t.MinView]&&(this.PaywallLimit=t.Limit[t.MinView],this.ViewType=t.MinView))},t.prototype.setViews=function(t){this.Views=t},t.prototype.getViews=function(){return this.Views},t.prototype.setStartDate=function(t){this.Date.Started=t},t.prototype.getStartDate=function(){return this.Date.Started},t.prototype.getExpiredType=function(){return this.ExpiredType||null},t.prototype.setExpiredType=function(t){this.ExpiredType=t},t.prototype.getFreeViewsLeft=function(){return this.ArticleLeft},t.prototype.getIsExpired=function(){return this.IsExpired},t.prototype.setIsExpired=function(t){this.IsExpired=t},t.prototype.getDateExpiration=function(){return this.Date.Expiration},t.prototype.setDateExpiration=function(t){this.Date.Expiration=t},t.prototype.getDateEnded=function(){return this.Date.Ended},t.prototype.setDateEnded=function(t){this.Date.Ended=t},t}()},function(t,e,n){var o,r,i,s,a,c;t.exports=(o=n(6),i=(r=o).lib,s=i.Base,a=i.WordArray,(c=r.x64={}).Word=s.extend({init:function(t,e){this.high=t,this.low=e}}),c.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],o=0;o<e;o++){var r=t[o];n.push(r.high),n.push(r.low)}return a.create(n,this.sigBytes)},clone:function(){for(var t=s.clone.call(this),e=t.words=this.words.slice(0),n=e.length,o=0;o<n;o++)e[o]=e[o].clone();return t}}),o)},function(t,e,n){"use strict";n.r(e),n.d(e,"SwG",function(){return o});var i=n(137),s=n(193),a=n(195),c=n(192),u=n(69),o=new(function(){function t(){this.NAME="SwG"}return t.prototype.init=function(e){var n=this;return new Promise(function(t){return n.initRenderers(e).always(function(){return t()})})},t.prototype.initRenderers=function(n){var o=this,r="initRenderers";return this.firstInit||(this.firstInit=new Promise(function(t,e){return o.signinService=u.SignInService.getInstance(),o.subscriptionService=new c.SubscriptionService,o.signInRenderer=new s.SignInRenderer(n),o.subscribeRenderer=new a.SubscribeRenderer(n,o.subscriptionService.handleSwGButtonClick.bind(o.subscriptionService)),Promise.all([o.signInRenderer.init(),o.subscribeRenderer.init()]).then(function(){return o.signinService.auth2Init()}).then(function(){i.a.log(o.NAME,r),o.subscriptionService.tryEntitlementFlow(),t()}).catch(function(t){i.a.warn(o.NAME,r,t),e(t)})})),this.firstInit},t.prototype.linkSubscriptions=function(t){return this.subscriptionService.linkSubscriptions(t)},t.prototype.renderButtons=function(t,e){return i.a.log(this.NAME,"renderButtons"),Promise.all([this.signInRenderer.render(t,e),this.subscribeRenderer.render(t,e)])},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"AdBlock",function(){return a});var o,r=n(4),i=n(207),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(o){var r=this;return i.a.getInstance().init().then(function(t){var e=t?"Detected":"Not Detected",n=r.equal(o.Value,e);return Promise.resolve(n)})},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConversationView",function(){return a});var o,r=n(8),i=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=r.a.getCurrentConversationViewCount(),n=this.evaluateOperator(e,t.Value,t.Qualifier);return Promise.resolve(n)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"DeviceType",function(){return a});var o,i=n(13),r=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e,n=i.a.getDeviceType(),o=t.Qualifier||t.Options.Qualifier,r=t.Value||t.Options.Value;return e=this.evaluateOperator(n,r,o),Promise.resolve(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationFlittzStatus",function(){return u});var o,r=n(44),i=n(78),s=n(4),a=n(331),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value,n=!1;r.a.get(a.a.IntegrateFlittz)&&window.Flittz&&(n=e===i.FlittzStatusesMap[window.Flittz.FlittzUserStatus]);return Promise.resolve(n)},e}(s.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationUserState",function(){return a});var o,r=n(7),i=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t,n=r.a.getUserState(),o=this.evaluateOperator(e.Value,n,e.Qualifier);return Promise.resolve(o)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EzPay",function(){return a});var o,r=n(7),i=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){if(r.a.notLoggedIn())return Promise.resolve(!1);var e=r.a.getOwnedSubscription();return e?e.IsEZPay.toString()!==t.Value?Promise.resolve(!1):Promise.resolve(!0):Promise.resolve(!1)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Geo",function(){return p});var o,i=n(7),s=n(26),r=n(0),a=n.n(r),c=n(4),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.isPassedCriteria=function(t){var e=i.a.getUserZipCodes(),n=t.Qualifier,o=t.Value;t.EvaluatedObject&&"yes"==t.EvaluatedObject.toLowerCase()&&(o=o.concat(",",s.n));var r=this.evaluateOperator(e,o,n);return Promise.resolve(r)},e.prototype.in=function(t,e){Object(r.isNumber)(e)&&(e+=""),t=a.a.map(t,function(t){return t.replace(" ","")});var n=e.replace(" ","").split(",");return this.checkUserZipCodes(t,n)},e.prototype.checkUserZipCodes=function(t,e){for(var n=0;n<e.length;n++)for(var o=this.alignZip(e[n]),r=0;r<t.length;r++){var i=this.alignZip(t[r]);if(o.length===i.length){for(var s=!0,a=0;a<o.length;a++)if("*"!==o[a]&&o[a]!==i[a]){s=!1;break}if(s)return!0}}return!1},e.prototype.alignZip=function(t){return 7==(t=(3===t.length?t+"***":t).toLowerCase()).length&&" "==t[3]&&(t=t.slice(0,3)+t.slice(4)),t},e}(c.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzUserStatus",function(){return u});var o,i=n(44),s=n(78),r=n(4),a=n(331),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=!0,n=t.Qualifier||t.Options.Qualifier,o=t.Value||t.Options["Flittz Status"];if(i.a.get(a.a.IntegrateFlittz)&&window.Flittz){var r=window.Flittz.FlittzUserStatus;e=this.evaluateOperator(s.FlittzStatusesMap[r],o.toLocaleLowerCase(),n)}else e=!1;return Promise.resolve(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IncognitoMode",function(){return s});var o,r=n(4),a=n(137),c=n(133),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NAME="IncognitoMode",t}return i(t,e),t.prototype.check=function(i){var s=this,t=["detected","not detected"];return new Promise(function(e,n){var o="evalIncognitoMode";try{if(a.a.log(s.NAME,o,"Checking Incognito mode",i),!i)return void n(!1);var r=i.Value||i.Options.Value;if(!r)return a.a.error("unknown option value "+r),void n(!1);if((r=new String(r).toLowerCase())&&-1===t.indexOf(r))return a.a.error("unknown option value "+r),void n(!1);c.a.isIncognitoBrowsing().then(function(t){t===("detected"===r)?(s.logCriteria(!0,i),e(!0)):(s.logCriteria(!1,i),n(!1))}).catch(function(t){s.logCriteria(!1,i),n(!1)})}catch(t){a.a.error(s.NAME,o,t),n(!1)}})},t}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"MetaKeyword",function(){return s});var o,r=n(4),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e,n=t.Value,o=t.Qualifier,r=t.EvaluatedObject,i=this.getMetaTags(r);return e=this.evaluateOperator(i,n,o),Promise.resolve(e)},e.prototype.equal=function(t,e){return!!(t&&0<t.length)&&t.some(function(t){return t.content===e})},e.prototype.contains=function(t,e){return!!(t&&0<t.length)&&t.some(function(t){return t.content&&-1!==t.content.indexOf(e)})},e.prototype.getMetaTags=function(t){return Array.from(document.querySelectorAll('meta[name="'+t+'"]'))},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"MeterView",function(){return a});var o,r=n(8),i=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=r.a.getCurrentDynamicMeterViewCount(),n=this.evaluateOperator(e,t.Value,t.Qualifier);return Promise.resolve(n)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Register",function(){return c});var o,r=n(44),i=n(331),s=n(4),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e=!1;return r.a.get(i.a.IntegrateFlittz)&&window.Flittz&&"FlittzLoggedIn"===window.Flittz.FlittzUserStatus&&(e=!0),Promise.resolve(e)},e}(s.Expression)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PromiseEx",function(){return PromiseEx});var _Expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(137),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(326),_Connext_Core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(331),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__),__extends=(lmb=function(t,e){return(lmb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lmb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lmb,PromiseEx=function(_super){function PromiseEx(){return _super.call(this)||this}return __extends(PromiseEx,_super),PromiseEx.prototype.check=function(entity){var _this=this;this.NAME="Promise";var userPromise=new Promise(function(resolve,reject){var fnName="evalPromise",timerId=null;try{_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Setup promise",entity);var promise=eval(entity.EvaluatedObject||entity.Options.PromiseName);_this.options.timeout&&(timerId=setTimeout(function(){_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise rejected on timeout"),reject()},_this.options.timeout));var doneCallback_1=function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise resolved with value: ",t);var e=entity.Qualifier||entity.Options.Qualifier,n=Object(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.t)(entity.Value)?entity.Value:entity.Options&&entity.Options.Val?entity.Options.Val:void 0,o=entity.EvaluatedObject||entity.Options.PromiseName;t=Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isString)(t)?(""+t).toLowerCase():t,n=Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isString)(n)?(""+n).toLowerCase():n,timerId&&clearTimeout(timerId),_this.evaluateOperator(t,n,e)?(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise "+o+" passed"),resolve()):(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise "+o+" not passed"),reject())};promise&&Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isFunction)(promise.then)?promise.then(function(t){doneCallback_1(t)},function(t){timerId&&clearTimeout(timerId),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise rejected",entity),reject(t)}):doneCallback_1(promise)}catch(t){timerId&&clearTimeout(timerId),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise is not defined"),reject()}});return this.savePromise(userPromise),userPromise},PromiseEx.prototype.savePromise=function(t){var e=_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a.Promises);Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isEmpty)(e)&&(e=[]),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a.Promises,e.push(t))},PromiseEx}(_Expression__WEBPACK_IMPORTED_MODULE_0__.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Time",function(){return c});var o,r=n(4),i=n(137),s=n(25),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getMomentConvEndDate=function(t){return Date.parse(t.conversation.Date.Started)+t.Value},e.prototype.isPassedCriteria=function(t){var e=s.a.get().valueOf(),n=this.getMomentConvEndDate(t)<=e;return n&&i.a.log(t.TypeName,"Current conversation has expired base on date..."),Promise.resolve(n)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UrlMask",function(){return s});var o,r=n(4),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Qualifier||t.Options.Qualifier,n=t.Value,o=window.location.href.replace(/#$/,""),r=window.location.href.replace(/^https?:\/\//,""),i=this.evaluateOperator(o,n,e)||-1==n.indexOf("https://")&&this.evaluateOperator(r,n,e);return Promise.resolve(i)},e.prototype.equal=function(t,e){return e="^"+(e=e.split("*").join(".*"))+"$",new RegExp(e).test(t)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UrlParam",function(){return u});var o,r=n(77),i=n(12),s=n(4),a=n(9),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.getParamValue=function(t){return Object(a.p)(t)},e.prototype.isPassedCriteria=function(t){var e=t.Qualifier,n=t.Value,o=t.EvaluatedObject;return this.paramValue=this.getParamValue(o),this.paramValue?this.evaluateOperator(this.paramValue.toUpperCase(),n.toUpperCase(),e)?Promise.resolve(!0):Promise.resolve(!1):r.Qualifier.getOperator(e)===i.Operator.Equal?Promise.resolve(!1):Promise.resolve(!0)},e}(s.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserState",function(){return c});var o,i=n(7),r=n(4),s=n(26),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e,n=i.a.getUserState(),o=t.Qualifier||t.Options.Qualifier,r=t.Value||t.Options["User State"];return null==n&&(n=s.q.NotLoggedIn),e=this.evaluateOperator(n,r,o),Promise.resolve(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IsNewVisitor",function(){return a});var o,r=n(4),i=n(8),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=i.a.getCurrentDynamicMeterViewCount(),n=t.Value.toLowerCase();return e<=1&&"yes"===n?Promise.resolve(!0):1<e&&"no"===n?Promise.resolve(!0):Promise.resolve(!1)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"NewsletterReader",function(){return s});var o,r=n(4),a=n(137),c=n(55),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.check=function(i){var s=this;return this.NAME="NewsletterReader",new Promise(function(t,e){var n="evalNewsletterReader";a.a.log(s.NAME,n,"Checking NewsletterReader: ",i);try{var o,r=c.a.getNewsletterReader();o="true"===i.Value.toLowerCase()&&null!=r||"false"===i.Value.toLowerCase()&&null==r,a.a.log(s.NAME,n,"Criteria "+(o?"":"did not ")+"passed",i),o?t():e()}catch(t){a.a.error(s.NAME,n,t),e()}})},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"NewsletterSession",function(){return s});var o,r=n(4),a=n(137),c=n(55),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.check=function(i){var s=this;return this.NAME="NewsletterSession",new Promise(function(t,e){var n="evalNewsletterSession";a.a.log(s.NAME,n,"Checking NewsletterSession: ",i);try{var o,r=c.a.getNewsletterSource();o="true"===i.Value.toLowerCase()&&null!=r||"false"===i.Value.toLowerCase()&&null==r,a.a.log(s.NAME,n,"Criteria "+(o?"":"did not")+" pass",i),o?t():e()}catch(t){a.a.error(s.NAME,n,t),e()}})},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"DayTime",function(){return c});var o,s=n(25),r=n(334),i=n(4),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e=this.evaluateOperator(this.getExpectedTimes(t),this.getLocalTime(),t.Qualifier);return Promise.resolve(e)},e.prototype.in=function(t,e){return t[0]<t[1]?e>=t[0]&&e<=t[1]:e>=t[0]||e<=t[1]},e.prototype.createTime=function(t,e){var n=s.a.get(),o=n.getFullYear(),r=n.getMonth(),i=n.getDate();return new Date(o,r,i,t,e)},e.prototype.getExpectedTimes=function(t){var e=t.Delimiter||":";return[this.createTime.apply(null,t.EvaluatedObject.split(e)),this.createTime.apply(null,t.Value.split(e))]},e.prototype.getLocalTime=function(){var t=r.a.get(),e=t.getUTCHours(),n=t.getUTCMinutes();return this.createTime(e,n)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IsEuMember",function(){return a});var o,r=n(4),i=n(133),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value.toLowerCase(),n=i.a.getIsEuMember(),o=(void 0===n?"false":n.toString())==e;return Promise.resolve(o)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Country",function(){return c});var o,r=n(4),s=n(133),a=n(26),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e,n=t.Value.toLowerCase().split(","),o=t.Qualifier,r=t.EvaluatedObject&&"yes"==t.EvaluatedObject.toLowerCase(),i=s.a.getCountryCode().toLowerCase();return r&&(n=n.concat(",",a.n)),e=this.evaluateOperator(n,i,o),Promise.resolve(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserAgentAccess",function(){return s});var o,r=n(4),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e=this.getCurrentUserAgent(),n=t.Value.toLowerCase(),o=this.evaluateOperator(e,n,t.Qualifier);return Promise.resolve(o)},e.prototype.getCurrentUserAgent=function(){return window.navigator.userAgent.toLowerCase()},e.prototype.contains=function(t,e){return-1!==t.indexOf(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"BrowserDetection",function(){return c});var o,r=n(4),i=n(13),s=n(28),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e,n=this.getCurrentBrowser(),o=t.Value,r=t.Qualifier,i=t.Delimiter||",";return o=o.split(i),e=this.evaluateOperator(n,o,r),Promise.resolve(e)},e.prototype.getCurrentBrowser=function(){var t=i.a.getBrowser();return"Internet Explorer"==t&&(t=s.a.BrowserTypes.IE),Object.values(s.a.BrowserTypes).includes(t)?t:s.a.BrowserTypes.unknown},e.prototype.contains=function(t,e){return 0<=e.indexOf(t)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"VisitsLastDays",function(){return a});var o,r=n(8),i=n(4),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=r.a.getVisitedViewsByDays(parseInt(t.EvaluatedObject)),n=t.Value,o=this.evaluateOperator(e,n,t.Qualifier);return Promise.resolve(o)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EngagementRate",function(){return s});var o,r=n(79),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getDataForCheck=function(t,e){return t&&void 0!==t.er?t.er:null},e}(r.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EngagementRatePercentile",function(){return s});var o,r=n(79),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getDataForCheck=function(t,e){return t&&void 0!==t.erp?t.erp:null},e}(r.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserInterests",function(){return c});var o,r=n(79),i=n(0),s=n(137),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getDataForCheck=function(t,e){if(t&&t.interests&&0<t.interests.length){var n=Object(i.find)(t.interests,function(t){return t.category==e});if(n)return n.rate;s.a.warn("Qualifier UserInterests","Such interest "+e+" is not present in G2i UserData")}return null},e}(r.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"RegistrationWalls",function(){return s});var o,r=n(128),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isPassedCriteria=function(t){return this.NAME="RegistrationWalls",e.prototype.isPassedCriteria.call(this,t)},t}(r.Javascript)},function(t,e,n){"use strict";n.r(e),n.d(e,"BlockedCookiesOrLs",function(){return a});var o,r=n(4),i=n(17),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e="true"==t.Value.toLowerCase();return Promise.resolve(e==!i.a.isSupported())},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Expiration_SubscriptionExpiration",function(){return s});var o,r=n(116),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isPassedCriteria=function(t){return e.prototype.isPassedCriteria.call(this,t)},t}(r.SubscriptionExpiration)},function(t,e,n){"use strict";n.r(e),n.d(e,"AB_Expiration",function(){return c});var o,r=n(4),i=n(54),s=n(25),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e=s.a.get(),n=i.a.getEndDate();return Promise.resolve(n<e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ABTest",function(){return a});var o,r=n(4),i=n(54),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value,n=i.a.getUserGroup();return Promise.resolve(n&&e==n)},e}(r.Expression)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationForgotPasswordSubStep",function(){return a});var o,r=n(80),i=n(32),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(i.a.getForgotPasswordSubStepInformation()),e.create(),e}return s(t,n),t.prototype.process=function(){var t=this;this.show(),this.form=i.a.getForgotPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(){t.nextSubStep&&t.nextSubStep.process()})},t}(r.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationRegistrationSubStep",function(){return l});var o,r=n(105),i=n(80),s=n(32),a=n(325),c=n(50),u=n(70),p=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(s.a.getRegistrationSubStepInformation()),e.create(),e}return p(t,n),t.prototype.process=function(){var n=this;u.a.useMg2LoginTemplate()?(this.show(),this.form||(this.form=s.a.getRegistrationForm(this.getSelector(),null,this.formOptions)),this.form.submit().then(function(t){a.a.dispatch(c.a.ActivationAccountCreated,{Email:t.Email,DisplayName:t.DisplayName}),n.form.startSpinner();var e=new r.ActivationLoginSubStep(n.parentStep);n.parentStep.setActiveSubsteps([e]),e.autologin(t).always(function(){n.form.stopSpinner(),n.hide()})})):(this.activation.passControlToAuthSystem(),u.a.showRegisterForm())},t}(i.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"AccountNumberModel",function(){return a});var o,r=n(38),i=n(35),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByAccountNumber,t&&(e.LastName=t.lastName,e.AccountNumber=t.AccountNumber),e}return s(t,n),t}(r.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConfirmationNumberModel",function(){return a});var o,r=n(38),i=n(35),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByConfirmationNumber,e.LastName=t.lastName,e.ConfirmationNumber=t.confirmationNumber,e}return s(t,n),t}(r.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionIdModel",function(){return a});var o,r=n(38),i=n(35),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateBySubscriptionId,e.LastName=t.lastName,e.SubscriptionId=t.subscriptionId,e}return s(t,n),t}(r.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ZipCodeAndHouseNumberModel",function(){return a});var o,r=n(38),i=n(35),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByZipCodeAndHouseNumber,e.ZipCode=t.zipCode,e.HouseNumber=t.houseNumber,e}return s(t,n),t}(r.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ZipCodeAndPhoneNumberModel",function(){return a});var o,r=n(38),i=n(35),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByZipCodeAndPhoneNumber,e.LastName=t.lastName,e.AccountNumber=t.AccountNumber,e}return s(t,n),t}(r.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionMainSubStep",function(){return p});var o,r=n(50),i=n(325),s=n(202),a=n(31),c=n(70),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="ExpiredSubscriptionMain",e.create(),e}return u(t,n),t.prototype.process=function(){this.show(),a.a.removeActualDataOnDay(),i.a.dispatch(r.a.ActivationExpiredSubscriptionStepShown,null)},t.prototype.close=function(){a.a.setActualDataOnDay(),c.a.updateCurrentUser(),n.prototype.close.call(this)},t}(s.ActivationExpiredSubscriptionSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionService",function(){return l});var s=n(7),o=n(70),r=n(26),i=n(325),a=n(137),c=n(69),u=n(50),p=n(89),l=function(){function t(){this.NAME="SubscriptionService",this.signinService=c.SignInService.getInstance(),this.initListeners()}return t.prototype.tryEntitlementFlow=function(){var e=this;window.SWG.push(function(t){(e.subscriptions=t).getEntitlements().then(function(t){e.entitlements=t,e.userHasEntitlements()&&e.processEntitlementFlow()})})},t.prototype.handleSwGButtonClick=function(e){var n=this;window.SWG.push(function(t){(n.subscriptions=t).getEntitlements().then(function(t){n.entitlements=t,n.userHasEntitlements()?n.processEntitlementFlow():n.processOfferFlow(e)})})},t.prototype.initListeners=function(){this.handleSignInSuccess()},t.prototype.handleSignInSuccess=function(){var t=this;i.a.subscribe(u.a.GoogleSignInSuccess,function(){a.a.log(t.NAME,"handleSignInSuccess"),t.handleUserAcceess("success google signin")})},t.prototype.userHasEntitlements=function(){return null!==this.getPurchaseData()},t.prototype.processEntitlementFlow=function(){var e=this;this.subscriptions.waitForSubscriptionLookup(this.getLoaderPromise()).then(function(t){t?e.processDefferedAccountFlow():e.processLogoutDefferedFlow()}),this.entitlements.ack()},t.prototype.getLoaderPromise=function(){var n=this;return new Promise(function(t){var e=n.signinService.isSignedIn();setTimeout(function(){return t(e)},500)})},t.prototype.processDefferedAccountFlow=function(){var n=this;this.subscriptions.completeDeferredAccountCreation({entitlements:this.entitlements,consent:!0}).then(function(e){n.createOrUpdateUser().then(function(t){e.complete().then(function(){n.onSubscriptionProcessed(t,"linking a previously purchased subscription")})})})},t.prototype.processLogoutDefferedFlow=function(){var e=this;this.loginByGoogleModal().then(function(){return e.createOrUpdateUser().then(function(t){e.onSubscriptionProcessed(t,"linking a previously purchased subscription")})}).catch(function(){})},t.prototype.loginByGoogleModal=function(){var t=this;return a.a.log(this.NAME,"loginByGoogleModal"),this.signinService.loginIfNeed().then(function(){return t.signinService.waitAuthenticate().then(function(){return Promise.resolve()}).catch(function(){return Promise.reject()})}).catch(function(t){return a.a.warn("closed modal",t),Promise.reject()})},t.prototype.processOfferFlow=function(t){a.a.log(this.NAME,"processOfferFlow"),this.subscriptions.showOffers({isClosable:!0,skus:this.getSkus(t)}),this.processSubscribeFlow(t),this.processAlreadySubscriberFlow()},t.prototype.processSubscribeFlow=function(n){var o=this,r="processSubscribeFlow";a.a.log(this.NAME,r),this.subscriptions.setOnPaymentResponse(function(t){t.then(function(e){a.a.log(o.NAME,r,"bought subscription",e),o.processAddSubscription(e,n).then(function(t){e.complete().then(function(){o.onSubscriptionProcessed(t,"bought subscription by SwG")})})})})},t.prototype.processAddSubscription=function(o,r){var i=this;return this.signinService.waitAuthenticate().then(function(){var t=o.purchaseData.data,e=i.getPurchasedOffer(t,r),n={IdToken:i.signinService.getUserToken(),CustomerRegistrationId:s.a.getCustomerRegistrationId(),OfferId:e.OfferId,OfferGroupId:e.OfferGroupId,PurchaseData:t};return i.addSubscription(n)}).catch(function(){return!1})},t.prototype.processAlreadySubscriberFlow=function(){var e=this;a.a.log(this.NAME,"processAlreadySubscriberFlow"),this.subscriptions.setOnLoginRequest(function(){e.subscriptions.reset();var t=e.signinService.isSignedIn();s.a.isLogin()?t?(o.a.setDefaultUserData(),o.a.showLoginForm()):e.signinService.loginIfNeed():o.a.showLoginForm()})},t.prototype.getSkus=function(t){var e=t.map(function(t){return t.SkuId});return e.length||(e=null),e},t.prototype.createOrUpdateUser=function(){var e=this,n="createOrUpdateUser",t={IdToken:this.signinService.getUserToken(),CustomerRegistrationId:s.a.getCustomerRegistrationId(),SkuId:this.getParsedPurchaseData().productId,PurchaseData:this.getPurchaseData()};return p.UserRepository.createOrUpdate(t).then(function(t){return a.a.log(e.NAME,n,t),o.a.onLoginSuccess(t)}).then(function(){return s.a.isSubscribed()}).catch(function(t){return a.a.error(e.NAME,n,t),!1})},t.prototype.addSubscription=function(t){var e=this,n="addSubscription";return p.UserRepository.addSubscription(t).then(function(t){return a.a.log(e.NAME,n,t),o.a.onLoginSuccess(t)}).then(function(){return s.a.isSubscribed()}).catch(function(t){return a.a.log(e.NAME,n,t),!1})},t.prototype.linkSubscriptions=function(e){var t=new Promise(function(t){t({token:e})});return this.subscriptions.saveSubscription(function(){return t}).then(function(t){return t})},t.prototype.getPurchasedOffer=function(t,e){var n=JSON.parse(t);return e.find(function(t){return t.SkuId===n.productId})},t.prototype.getFirstGoogleEntitlement=function(){return this.entitlements.entitlements.slice().filter(function(t){return"google"===t.source})[0]},t.prototype.getPurchaseData=function(){var t=this.getFirstGoogleEntitlement();return t?t.subscriptionToken:null},t.prototype.getParsedPurchaseData=function(){return JSON.parse(this.getPurchaseData())},t.prototype.onSubscriptionProcessed=function(t,e){t?this.handleUserAcceess(e):this.handleFailedPurchase()},t.prototype.handleUserAcceess=function(t){a.a.log(this.NAME,"handleUserAcceess",t),i.a.dispatch(r.h.ApplicationReload,t)},t.prototype.handleFailedPurchase=function(){var t=s.a.getUserData();t.UserState=r.q.Subscribed,s.a.updateUserData(t),this.handleUserAcceess("get access by Failed Purchase")},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInRenderer",function(){return f});var o,s=n(11),a=n(137),r=n(194),i=n(119),c=n(69),u=n(0),p=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},f=function(n){function t(t){var e=n.call(this,".nxt-google-signin")||this;return e.NAME="SignInRendererClass",e.callbackName="CnnXt.SwG.SignInLoad",e.defaultSigninButtonSelector='[data-mg2-submit="login"], [data-nxt-button="LogIn"]',e.renderedButtonSelector=e.buttonSelector+" .abcRioButton",e.renderedButtonTextSelector=e.renderedButtonSelector+" .abcRioButtonContents",e.signinService=c.SignInService.getInstance(),e.initListeners(),e.loader=new r.SignInLoader(e.callbackName,t.GoogleClientId),e}return p(t,n),t.prototype.render=function(r,t){var i=this;return new Promise(function(n){var o=r.querySelector(i.buttonSelector);return o?i.needRender()?(a.a.log(i.NAME,"render","google sign in button was found",o),i.loader.load().then(function(){var t=i.getButtonId(o),e=i.getRenderOptions(r,o);i.signinService.render(t,e),i.setStylesForAsyncRenderedButton(r),a.a.log(i.NAME,"render",t,e),n()})):(s.a.remove(o),Promise.resolve()):Promise.resolve()})},t.prototype.initListeners=function(){var t=this;window[this.callbackName]=function(){return t.signinService.auth2Init()}},t.prototype.needRender=function(){return!this.signinService.isSignedIn()},t.prototype.getButtonId=function(t){var e=t.id;return e||(e=Date.now()+"_signin",t.id=e),e},t.prototype.getRenderOptions=function(t,e){var n=l(e.dataset,[]);return Object.assign({},n,this.getButtonHeightSetting(t))},t.prototype.getButtonHeightSetting=function(t){var e=s.a.queryElement(this.defaultSigninButtonSelector,t);if(e){var n=s.a.height(e);if(n)return{height:n}}},t.prototype.setStylesForAsyncRenderedButton=function(t){var e=s.a.queryElement(this.defaultSigninButtonSelector,t);if(e){var n="",o=this.getElementCssPropValue(e,"background-color");n=this.setElementCssPropValue(n,this.renderedButtonSelector,"border","2px solid "+o);var r=this.getElementCssPropValue(e,"font-weight");n=this.setElementCssPropValue(n,this.renderedButtonTextSelector,"font-weight",r);var i=document.createElement("style");i.type="text/css",i.appendChild(document.createTextNode(n)),t.appendChild(i)}},t.prototype.getElementCssPropValue=function(t,e){var n=null;return t&&(n=s.a.css(t,e)),n},t.prototype.setElementCssPropValue=function(t,e,n,o,r){return void 0===r&&(r=!0),Object(u.isEmpty)(o)||(t=t+(e+" {\n                ")+n+": "+o+(r?" !important":"")+";\n            }"),t},t}(i.DependencyRenderer)},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInLoader",function(){return a});var o,r=n(118),i=n(9),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(o){function t(t,e){var n=o.call(this)||this;return n.NAME="SignInLoader",n.callbackName=t,n.googleClientId=e,n}return s(t,o),t.prototype.getResource=function(){var t=this;return Promise.all([Object(i.v)("meta",{name:"google-signin-client_id",content:this.googleClientId})]).then(function(){return Object(i.w)("script",{src:"https://apis.google.com/js/platform.js?onload="+t.callbackName,async:!0,defer:!0})})},t}(r.DependencyLoader)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeRenderer",function(){return p});var o,i=n(137),s=n(11),r=n(119),a=n(196),c=n(7),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(o){function t(t,e){var n=o.call(this,".nxt-google-subscribe")||this;return n.NAME="SubscribeRendererClass",n.swgClassName="swg-button-light",n.onClick=e,n.loader=new a.SubscribeLoader(t.DataMarkup),n}return u(t,o),t.prototype.render=function(e,o){var r=this;return new Promise(function(t){var n=Array.from(e.querySelectorAll(r.buttonSelector));return n&&n.length&&r.needRender()?(i.a.log(r.NAME,"renderSwGButton","google swg buttons was found",n),r.loader.load().then(function(){var e=r.mapOffers(o.offers);n.forEach(function(t){s.a.addClass(t,r.swgClassName),s.a.empty(t),s.a.on(t,"click",function(){return r.onClick(e)})}),t()})):Promise.resolve()})},t.prototype.mapOffers=function(t){return JSON.parse(t)},t.prototype.needRender=function(){return!c.a.isSubscribed()},t}(r.DependencyRenderer)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeLoader",function(){return c});var o,r=n(118),i=n(25),s=n(9),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(n){function t(t){var e=n.call(this)||this;return e.NAME="SubscribeLoader",e.dataMarkupText=t,e.updateText(),e}return a(t,n),t.prototype.updateText=function(){var t=JSON.parse(this.dataMarkupText);t.headline="Article Headline",t.image="Newspaper logo",t.author.name="Austin American Statesman",t.datePublished=i.a.get().toISOString().slice(0,-5)+"+00:00",t.dateModified=i.a.get().toISOString().slice(0,-5)+"+00:00",this.dataMarkupText=JSON.stringify(t)},t.prototype.getResource=function(){return Promise.all([Object(s.v)("script",{type:"application/ld+json",text:this.dataMarkupText})]).then(function(){return Object(s.w)("script",{src:"https://news.google.com/swg/js/v1/swg.js",async:!0})})},t}(r.DependencyLoader)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpressionFactory",function(){return c});var o,r=n(62),i=n(127),s=n(137),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.create=function(t){return this.createInstance(this.getExtensionClass(t))},e.prototype.createInstance=function(e){try{return new i[e]}catch(t){s.a.error("No such criteria",e)}},e.prototype.getExtensionClass=function(t){if("Promise"===t)return"PromiseEx";var e=t.indexOf("Criteria");return 0<=e?t.substring(0,e):t},e}(r.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConversationExpirations",function(){return c});var i=n(0),o=n(44),r=n(331),s=n(137),a=n(61),c=function(){function t(t){this.expirations=[],this.criteria=a.Criteria.getInstance(),this.conversation=t,this.options={timeout:o.a.get(r.a.ConversationPromiseTimeout),sortField:"Order",conversationId:0,meterId:0},this.expirations=Object(i.sortBy)(t.ExpirationSettings,this.options.sortField)}return t.prototype.getFirstExecute=function(){return s.a.log("getFirstExecute","Check conversation expirations",this.expirations),this.calculateExpirations(this.expirations)},t.prototype.calculateExpiration=function(t){return t=Object(i.extend)(t,{conversation:this.conversation.Properties}),this.criteria.calculateExpression(t.TypeName,t,this.options).then(function(){return Promise.resolve(t)}).catch(function(t){return Promise.reject()})},t.prototype.calculateExpirations=function(o){var r=this;return new Promise(function(e,t){if(0!=o.length){var n=Object(i.first)(o);r.calculateExpiration(n).then(function(t){e(t)}).catch(function(){o.shift(),r.calculateExpirations(o).then(function(t){e(t)}).catch(function(){t()})})}else t()})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationTypes",function(){return o});var o={Time:"Time",Javascript:"Javascript",UserState:"UserState",FlittzUserStatus:"FlittzUserStatus"}},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeLink",function(){return a});var o,r=n(37),i=n(7),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subStepName="SubscribeLink",t.isActive=!0,t}return s(t,e),t.prototype.isShow=function(){return!i.a.isSubscribedNotEntitled()},t}(r.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"UpgradeLink",function(){return a});var o,r=n(37),i=n(7),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subStepName="UpgradeLink",t.isActive=!0,t}return s(t,e),t.prototype.isShow=function(){return i.a.isSubscribedNotEntitled()},t}(r.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionSubStep",function(){return s});var o,r=n(81),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.ActivationSubStep)},function(t,e,n){"use strict";n.r(e);var o=n(71),r=n(27),i=function(){function t(){this.localStorage=new r.a}return t.prototype.getJanrainProfile=function(){return this.localStorage.get("janrainCaptureProfileData")},t.prototype.clearStorage=function(){this.localStorage.delete("janrainCaptureProfileData"),this.localStorage.delete("janrainCaptureReturnExperienceData")},t}(),s=n(137),a=n(11),c=n(211),u=n(325),p=n(26),l=n(7);n.d(e,"JanrainAuthSystem",function(){return d});var f,h=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(n){function t(){var t=n.call(this)||this;if(t.innerEvent="Connext::Janrain.loaded",t.name="Janrain",t.id=p.a.Janrain,t.waitJanrainAnswer=3e3,t.janrain=window.janrain,t.janrainRepository=new i,s.a.log(t.constructor.name,"Use Janrain auth system"),t.janrain)if(t.janrain.events)s.a.log(t.constructor.name,"Janrain is already loaded, adding janrain callbacks"),t.setAuthEventsListeners();else{var e=function(){return!1};s.a.log(t.constructor.name,"Janrain is not loaded yet, creating callback to wait till it loads"),t.janrain.janrainCaptureWidgetOnLoad&&"function"==typeof t.janrain.janrainCaptureWidgetOnLoad&&(e=t.janrain.janrainCaptureWidgetOnLoad),t.janrain.janrainCaptureWidgetOnLoad=function(){return s.a.log(t.constructor.name,"CALLBACK - Janrain is loaded, adding janrain callbacks"),t.setAuthEventsListeners(),e()}}else t.authSystemNotFound();return t}return h(t,n),t.prototype.HasActiveSession=function(){return this.tryGetJanrainEvents()},t.prototype.setAuthEventsListeners=function(){var e=this;this.janrain.events.onCaptureLoginSuccess.addHandler(this.successJanrainLogin.bind(this)),this.janrain.events.onCaptureRegistrationSuccess.addHandler(this.registrationSuccess.bind(this)),this.janrain.events.onProviderLogoutComplete.addHandler(function(t){s.a.log(e.constructor.name,"Janrain event - logged out"),e.logout()}),this.janrain.events.onCaptureSessionFound.addHandler(this.userLogin.bind(this)),this.janrain.events.onCaptureSessionNotFound.addHandler(this.userNotLogin.bind(this,"Janrain session not found!")),this.janrain.events.onCaptureSessionEnded.addHandler(this.userNotLogin.bind(this,"Janrain session ended"))},t.prototype.tryGetJanrainEvents=function(){var o=this;return new Promise(function(e,t){var n;a.a.on(window,o.innerEvent,function(t){t.detail.accessToken?e(!0):e(!1),clearTimeout(n)}),n=setTimeout(function(){s.a.warn(o.constructor.name,"Janrain loaded fallback. No one of session events not fired."),e(!1)},o.waitJanrainAnswer)})},t.prototype.fireEventJanrainWork=function(t){var e=new CustomEvent(this.innerEvent,{detail:{accessToken:t}});window.dispatchEvent(e)},t.prototype.getAuthProfile=function(){var t=this.janrainRepository.getJanrainProfile();return Promise.resolve(this.setAuthProfile(t))},t.prototype.setAuthProfile=function(t){return this.authProfile={UserId:t.uuid,IdType:c.e.Usual,Email:t.email,FullName:t.displayName,AuthSystemData:t},l.a.setUserData(this.createUserDataFrom(this.authProfile)),this.authProfile},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),void 0!==window.janrain?window.janrain.capture.ui.modal.open():this.authSystemNotFound()},t.prototype.showRegisterForm=function(t){var e=window.janrain;t&&t.preventDefault(),void 0!==e?e.capture.ui.renderScreen("signIn"):this.authSystemNotFound()},t.prototype.clearStorage=function(){this.janrainRepository.clearStorage()},t.prototype.successJanrainLogin=function(t){s.a.log(this.constructor.name,"Janrain event - login success",t),this.setAuthProfile(this.janrainRepository.getJanrainProfile()),this.successLogin()},t.prototype.registrationSuccess=function(t){s.a.log(this.constructor.name,"Janrain event - register success",t),this.setAuthProfile(this.janrainRepository.getJanrainProfile()),this.successRegistration()},t.prototype.userNotLogin=function(t,e){s.a.log(this.constructor.name,e),this.accessToken=null,this.clearStorage(),this.fireEventJanrainWork()},t.prototype.userLogin=function(t){s.a.log(this.constructor.name,"Janrain session found!",t),this.accessToken=t.accessToken,this.fireEventJanrainWork(t.accessToken)},t.prototype.logout=function(){this.clearStorage();var t=window.janrain;void 0!==t&&t.capture.ui.endCaptureSession(),n.prototype.logout.call(this),u.a.dispatch(p.h.ApplicationReload,p.l.Logout)},t}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(326),i=n(331),s=n(0),o=n(2),a=function(){function t(){this.secretKey="dfsdfsdfsdf"}return t.prototype.expandKey=function(t){var e=r.a.get(i.a.AppOptions);if(!e)return"";var n=e.get(i.a.SiteCode),o=e.get(i.a.ConfigCode);return n&&o?[t,n.toUpperCase(),o.toUpperCase(),e.get(i.a.Environment).toUpperCase()].join("_"):""},t.prototype.getConstantKeys=function(e){var n=this,o=[],t=Object.keys(e);return Object(s.each)(t,function(t){e.hasOwnProperty(t)&&("object"==typeof e[t]?o=o.concat(n.getConstantKeys(e[t])):o.push(e[t]))}),o},t.prototype.removeExceptionsFromKeys=function(t){var n=[o.e.CookiePrefix];return Object(s.reject)(t,function(e){return Object(s.some)(n,function(t){return e==t})})},t.prototype.filterConnextExistingStorageKeys=function(t,n){return Object(s.filter)(t,function(e){return Object(s.some)(n,function(t){return e.startsWith(t)||e.startsWith(o.e.CookiePrefix+t)||e.startsWith(o.e.LSDublicateCookiePrefix+t)||e.startsWith(o.e.LSDublicateCookiePrefix+o.e.CookiePrefix+t)})})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t){t&&(this.TypeName=t.TypeName,this.NextConversationId=t.NextConversationId,this.ResetConversationViews=t.ResetConversationViews,this.EvaluatedObject=t.EvaluatedObject,this.Qualifier=t.Qualifier,this.Value=t.Value,this.Delimiter=t.Delimiter,this.ShareStartDate=t.ShareStartDate,this.Order=t.Order)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t){t&&(this.TypeName=t.TypeName,this.EvaluatedObject=t.EvaluatedObject,this.Qualifier=t.Qualifier,this.Value=t.Value,this.Delimiter=t.Delimiter,this.Options=t.Options,this.Format=t.Format,this.conversation=t.conversation)}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(27),r=n(325),i=n(50),s=n(137),a=n(2),c=function(){function t(){this.NAME="ADBlockDetector",this.localStorage=new o.a,this.storedValue=!1,this.useStoredValue=!1}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.init=function(t){var e=this;return void 0===t&&(t=!0),this.load().then(function(){return Promise.resolve(e.detectAdBlock(t))}).catch(function(){return Promise.resolve(!0)})},t.prototype.load=function(){return this.firstLoad||(this.firstLoad=Promise.all([this.loadADElement(),this.loadADImg(),this.loadADScript()])),this.firstLoad},t.prototype.detectProcess=function(){var e=this;this.init(!1).always(function(t){t?(e.localStorage.set(a.e.AdblockLastDetect,!1),r.a.dispatch(i.a.AdblockFound,null)):setTimeout(function(){return e.useStoredValue=!0,e.removeResources(),e.firstLoad=null,e.load().then(function(){return e.useStoredValue=!1,e.detectAdBlock(!1)}).catch(function(){return Promise.resolve(!0)}).then(function(t){e.localStorage.set(a.e.AdblockLastDetect,t),t&&r.a.dispatch(i.a.AdblockFound,null)})},3e3)})},t.prototype.loadADElement=function(){s.a.log(this.NAME,"loadADElement","Load html element for checking AD Blocker");var t=document.createElement("div");return t.innerHTML="&nbsp;",t.className="adsbox",t.id="TestAdBlock",t.style.position="absolute",t.style.bottom="0px",t.style.zIndex="-1",document.body.appendChild(t),Promise.resolve()},t.prototype.loadADImg=function(){var o=this;return new Promise(function(t,e){s.a.log(o.NAME,"loadADImg","Load IMG for checking AD Blocker");var n=document.createElement("IMG");n.id="06db9294",n.style.width="100px",n.style.height="100px",n.style.top="-1000px",n.style.left="-1000px",n.style.position="absolute",n.style.display="block",(n=document.body.appendChild(n)).src="//paywall-ad-bucket.s3.amazonaws.com/ad_300_250.jpg",n.onload=function(){t()},n.onerror=function(){e("")}})},t.prototype.loadADScript=function(){var o=this;return new Promise(function(t,e){s.a.log(o.NAME,"loadADScript","Load script for checking AD Blocker");var n=document.createElement("SCRIPT");n.id="295f89b1",n.type="text/javascript",n.onload=function(){n.className="adstestloaded",t()},n.onerror=function(){e("")},document.getElementsByTagName("head")[0].appendChild(n),n.src="//d1wa9546y9kg0n.cloudfront.net/index.js"})},t.prototype.detectAdBlock=function(t){if(this.useStoredValue)return this.storedValue;var e=!1;if(0===document.getElementById("TestAdBlock").offsetHeight&&(e=!0),0===document.getElementById("06db9294").offsetHeight&&(e=!0),"adstestloaded"!==document.getElementById("295f89b1").className&&(e=!0),document.getElementById("stndz-style")&&(e=!0),s.a.log(this.NAME,"detectAdBlock","detected: ",e),t){var n=this.localStorage.get(a.e.AdblockLastDetect);s.a.log(this.NAME,"detectAdBlock","last detected: ",n),e=e||n}return this.storedValue=e},t.prototype.removeResources=function(){this.removeNodeById("TestAdBlock"),this.removeNodeById("06db9294"),this.removeNodeById("295f89b1")},t.prototype.removeNodeById=function(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(9),r=n(74),i=n(11),s=function(){function t(t){this.url=this.getHref(t),this.returnUrl=this.getReturnUrl(),this.actionId=this.getActionId(t)}return t.prototype.getUrl=function(){if(this.url&&!~this.url.indexOf("returnUrl=")&&"#"!==this.url){this.addActionId();var t=this.getReturnUrl();t=Object(o.c)(t,"clearUserState","true"),this.url=Object(o.c)(this.url,"returnUrl",t)}return this.url},t.prototype.getHref=function(t){return i.a.attr(t,"href")||""},t.prototype.getActionId=function(t){var e="ConneXt_Action_Id-",n=i.a.parents(t,"[id^="+e+"]")[0],o=n?i.a.attr(n,"id"):null;return o?o.replace(e,""):null},t.prototype.addActionId=function(){this.actionId&&(this.url=Object(o.c)(this.url,"G2I_ActionId",this.actionId))},t.prototype.getReturnUrl=function(){var t=Object(o.m)(["returnUrl"]).returnUrl;return t||(t=r.a.getReturnUrl()),t||(t=window.location.href.split("?")[0]),t},t}()},,function(t,e,n){var c;t.exports=(c=n(6),function(r){var t=c,e=t.lib,n=e.WordArray,o=e.Hasher,i=t.algo,s=[],_=[];!function(){function t(t){for(var e=r.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)t(n)&&(o<8&&(s[o]=e(r.pow(n,.5))),_[o]=e(r.pow(n,1/3)),o++),n++}();var b=[],a=i.SHA256=o.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],c=n[5],u=n[6],p=n[7],l=0;l<64;l++){if(l<16)b[l]=0|t[e+l];else{var f=b[l-15],h=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,d=b[l-2],g=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;b[l]=h+b[l-7]+g+b[l-16]}var y=o&r^o&i^r&i,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),m=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&u)+_[l]+b[l];p=u,u=c,c=a,a=s+m|0,s=i,i=r,r=o,o=m+(v+y)|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+c|0,n[6]=n[6]+u|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return e[o>>>5]|=128<<24-o%32,e[14+(o+64>>>9<<4)]=r.floor(n/4294967296),e[15+(o+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=o._createHelper(a),t.HmacSHA256=o._createHmacHelper(a)}(Math),c.SHA256)},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return d}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return y}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return u});var o,r,i=n(50),s="Default";(r=o||(o={}))[r.Usual=0]="Usual",r[r.Encrypted=1]="Encrypted";var a,c,u,p,l,f,h,d={Required:"required",Email:"email",Equals:"equals",password:"password",MaxLength:"maxLength",Pattern:"pattern",Password:"password",PhonePart:"phonepart"},g={Conversation:"Conversation",Meter:"Meter"},y=[i.a.Init,i.a.Run,i.a.Finish,i.a.MeterLevelSet,i.a.ConversationDetermined,i.a.ConversationExpired,i.a.AdblockFound,i.a.NotAuthorized,i.a.LoggedIn,i.a.ActionShow,i.a.ActionClosed,i.a.ButtonClick,i.a.NewsdayButtonClick,i.a.PaywallShown,i.a.FlittzPaywallShown,i.a.FlittzPaywallClosed,i.a.FlittzButtonClick,i.a.LoginShown,i.a.LoginClosed,i.a.LoginSuccess,i.a.LoginError,i.a.ActivationFormShown,i.a.ActivationLoginStepShown,i.a.ActivationLoginStepClosed,i.a.ActivationLinkStepShown,i.a.ActivationLinkStepClosed,i.a.ActivationLinkStepSubmitted,i.a.ActivationLinkSuccessStepShown,i.a.ActivationLinkSuccessStepClosed,i.a.ActivationLinkErrorStepShown,i.a.ActivationLinkErrorStepClosed,i.a.ActivationFormClosed,i.a.AccessTemplateShown,i.a.AccessTemplateClosed,i.a.AccessGranted,i.a.AccessDenied,i.a.LoadError,i.a.CriticalError,i.a.NewsletterArrival,i.a.ViewsAutoReset,i.a.ActionNotFound,i.a.ConversationNotFound,i.a.NewsletterArrival,i.a.NewsletterSignUp,i.a.NewsletterSignUpFails,i.a.ActivationAccountCreated,i.a.ChangedDeviceId,i.a.CustomTrackedEvent,i.a.NxtError];(c=a||(a={})).Trim="trim",c.Blur="blur",c.Fade="fade",c.FadeAndTrim="fadeTrim",(p=u||(u={})).AllowedCharacters="allowedCharacters",p.ContainerHeight="containerHeight",(f=l||(l={})).Step="data-nxt-template-step",f.SubStep="data-nxt-template-substep",(h||(h={})).StorageAvialable="nxt_avls"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(213),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(n){function t(t){var e=n.call(this,t)||this;return e.RepeatAfter=t.RepeatAfter,e}return i(t,n),t}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t){this.TypeName=t.TypeName,this.Delay=t.Delay||0,this.RepeatableOnConversation=t.RepeatableOnConversation||0}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(9),r=function(t){this.DisplayType=null,this.NotClosable=null,this.Css=null,this.Selector=null,this.Position=null,this.Location=null,this.HorizontalOffset=null,this.VerticalOffset=null,t&&(this.Html=t.Html,this.DisplayType=t.DisplayType,this.NotClosable=t.NotClosable,this.Css=t.Css,this.Selector=t.Selector||null,this.Position=t.Position||null,this.Location=t.Location||null,this.HorizontalOffset=t.HorizontalOffset||null,this.VerticalOffset=t.VerticalOffset||null,this.TransparentBackdrop=Object(o.t)(t.TransparentBackdrop)?t.TransparentBackdrop:null,this.InlineParagraph=t.InlineParagraph,this.IsConnextReRun=t.IsConnextReRun,this.IsSetCokieSignupSuccess=t.IsSetCokieSignupSuccess)}},function(t,e,n){var o,r,i,s,a,c,l,u;t.exports=(o=n(6),i=(r=o).lib,s=i.WordArray,a=i.Hasher,c=r.algo,l=[],u=c.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],c=0;c<80;c++){if(c<16)l[c]=0|t[e+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var p=(o<<5|o>>>27)+a+l[c];p+=c<20?1518500249+(r&i|~r&s):c<40?1859775393+(r^i^s):c<60?(r&i|r&s|i&s)-1894007588:(r^i^s)-899497514,a=s,s=i,i=r<<30|r>>>2,r=o,o=p}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return e[o>>>5]|=128<<24-o%32,e[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(o+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),o.SHA1)},function(t,r,i){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new o(n.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new o(n.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(302),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(24))},function(t,e,n){var o;t.exports=(o=n(6),o.enc.Utf8)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(0),r=n(211),i=n(13),s=function(){function t(t){t&&(this.Id=t.Id,this.Active=t.Active,this.ActionType=t.ActionType,this.ActionTypeId=t.ActionTypeId,this.ConversationId=t.ConversationId,this.Name=t.Name,this.Order=t.Order,this.Description=t.Description,this.Order=t.Order,this.Who=t.Who,this.What=this.getDataByDevice(t.What),this.When=t.When)}return t.prototype.getDataByDevice=function(t){if(Object(o.isArray)(t)){var e=i.a.getDeviceType(),n=Object(o.findWhere)(t,{TemplateDeviceSettings:e});return n||Object(o.findWhere)(t,{TemplateDeviceSettings:r.b})}return t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o,r=n(11),i=n(124),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector="data-nxt-link",t}return s(t,e),t.prototype.getRedirected=function(t){return r.a.find('[redirect="true"]',t)},t.prototype.isUpgrade=function(t){return"Upgrade"===r.a.attr(t,this.baseSelector)},t}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(23),r=function(){function t(){return o.a.applyProxy(this,"SessionStorage")}return t.prototype.isSupported=function(){var e;try{var t="isSupportedSessionStorageKey",n="isSupportedSessionStorageValue";sessionStorage.setItem(t,n),sessionStorage.getItem(t)===n&&(sessionStorage.removeItem(t),e=!0)}catch(t){e=!1}finally{return e}},t.prototype.get=function(t){try{return sessionStorage.getItem(t)}catch(t){return null}},t.prototype.set=function(t,e){var n;try{sessionStorage.setItem(t,e),n=!this.checkIsNullOrUndefined(this.get(t))}catch(t){n=!1}finally{return n}},t.prototype.delete=function(t){var e;try{sessionStorage.removeItem(t),e=!0}catch(t){e=!1}finally{return e}},t.prototype.clear=function(){var e;try{sessionStorage.clear(),e=!0}catch(t){e=!1}finally{return e}},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var c=n(40),u=n(25),o=function(){function t(){this.defaults={}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.extend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o={};n<t.length;n++){var r=t[n];for(var i in r)o[i]=r[i]}return o},t.prototype.set=function(t,e,n,o){var r;if(void 0===o&&(o={}),"undefined"==typeof document)return!1;if("number"==typeof(n=this.extend({path:"/"},this.defaults,n)).expires){var i=u.a.get();i.setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i}n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(e),/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=o.write?o.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var a in n)n[a]&&(s+="; "+a,!0!==n[a]&&(s+="="+n[a]));return c.a.dublicateCookieToLocalStorageIfItNeed(t,e,n),document.cookie=t+"="+e+s,!0},t.prototype.get=function(t,e,n,o){if(void 0===e&&(e={}),void 0===n&&(n=!1),void 0===o&&(o=!0),"undefined"!=typeof document){var r=this.pureGet(t,e,n);if(!o)return r;var i=c.a.getStoredValue(t);return i&&r&&i.value!==r?(c.a.dublicateCookieToLocalStorageIfItNeed(i.key,r,i),r):null===i?r:(c.a.dublicateLocalStorageToCookieIfItNeed(t),this.pureGet(t,e,n))}},t.prototype.pureGet=function(t,e,n){var o;void 0===e&&(e={}),void 0===n&&(n=!1),t||(o={});for(var r=document.cookie?document.cookie.split("; "):[],i=/(%[0-9A-Z]{2})+/g,s=0;s<r.length;s++){var a=r[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=a[0].replace(i,decodeURIComponent);if(c=e.read?e.read(c,u):c.replace(i,decodeURIComponent),n)try{c=JSON.parse(c)}catch(t){}if(t===u){o=c;break}t||(o[u]=c)}catch(t){}}return o},t.prototype.getJson=function(t,e){return void 0===e&&(e={}),this.get(t,e,!0)},t.prototype.remove=function(t,e){return this.set(t,"",this.extend(e,{"max-age":-1}))},t}()},,,function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,u=[],p=!1,l=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!p){var t=a(f);p=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,p=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||p||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var c;t.exports=(c=n(6),n(142),function(){var t=c,e=t.lib.Hasher,n=t.x64,o=n.Word,r=n.WordArray,i=t.algo;function s(){return o.create.apply(o,arguments)}var At=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],It=[];!function(){for(var t=0;t<80;t++)It[t]=s()}();var a=i.SHA512=e.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],c=n[5],u=n[6],p=n[7],l=o.high,f=o.low,h=r.high,d=r.low,g=i.high,y=i.low,v=s.high,m=s.low,_=a.high,b=a.low,C=c.high,w=c.low,A=u.high,I=u.low,S=p.high,O=p.low,E=l,P=f,D=h,x=d,B=g,U=y,R=v,L=m,T=_,F=b,k=C,V=w,N=A,M=I,j=S,G=O,Z=0;Z<80;Z++){var W=It[Z];if(Z<16)var X=W.high=0|t[e+2*Z],H=W.low=0|t[e+2*Z+1];else{var J=It[Z-15],Q=J.high,K=J.low,Y=(Q>>>1|K<<31)^(Q>>>8|K<<24)^Q>>>7,z=(K>>>1|Q<<31)^(K>>>8|Q<<24)^(K>>>7|Q<<25),q=It[Z-2],$=q.high,tt=q.low,et=($>>>19|tt<<13)^($<<3|tt>>>29)^$>>>6,nt=(tt>>>19|$<<13)^(tt<<3|$>>>29)^(tt>>>6|$<<26),ot=It[Z-7],rt=ot.high,it=ot.low,st=It[Z-16],at=st.high,ct=st.low;X=(X=(X=Y+rt+((H=z+it)>>>0<z>>>0?1:0))+et+((H+=nt)>>>0<nt>>>0?1:0))+at+((H+=ct)>>>0<ct>>>0?1:0),W.high=X,W.low=H}var ut,pt=T&k^~T&N,lt=F&V^~F&M,ft=E&D^E&B^D&B,ht=P&x^P&U^x&U,dt=(E>>>28|P<<4)^(E<<30|P>>>2)^(E<<25|P>>>7),gt=(P>>>28|E<<4)^(P<<30|E>>>2)^(P<<25|E>>>7),yt=(T>>>14|F<<18)^(T>>>18|F<<14)^(T<<23|F>>>9),vt=(F>>>14|T<<18)^(F>>>18|T<<14)^(F<<23|T>>>9),mt=At[Z],_t=mt.high,bt=mt.low,Ct=j+yt+((ut=G+vt)>>>0<G>>>0?1:0),wt=gt+ht;j=N,G=M,N=k,M=V,k=T,V=F,T=R+(Ct=(Ct=(Ct=Ct+pt+((ut+=lt)>>>0<lt>>>0?1:0))+_t+((ut+=bt)>>>0<bt>>>0?1:0))+X+((ut+=H)>>>0<H>>>0?1:0))+((F=L+ut|0)>>>0<L>>>0?1:0)|0,R=B,L=U,B=D,U=x,D=E,x=P,E=Ct+(dt+ft+(wt>>>0<gt>>>0?1:0))+((P=ut+wt|0)>>>0<ut>>>0?1:0)|0}f=o.low=f+P,o.high=l+E+(f>>>0<P>>>0?1:0),d=r.low=d+x,r.high=h+D+(d>>>0<x>>>0?1:0),y=i.low=y+U,i.high=g+B+(y>>>0<U>>>0?1:0),m=s.low=m+L,s.high=v+R+(m>>>0<L>>>0?1:0),b=a.low=b+F,a.high=_+T+(b>>>0<F>>>0?1:0),w=c.low=w+V,c.high=C+k+(w>>>0<V>>>0?1:0),I=u.low=I+M,u.high=A+N+(I>>>0<M>>>0?1:0),O=p.low=O+G,p.high=S+j+(O>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return e[o>>>5]|=128<<24-o%32,e[30+(o+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(o+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(a),t.HmacSHA512=e._createHmacHelper(a)}(),c.SHA512)},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var o=n(64);n.d(e,"Conversation",function(){return o.Conversation})},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzStatus",function(){return u});var o,i=n(44),s=n(331),a=n(78),r=n(4),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=!0,n=t.Qualifier||t.Options.Qualifier,o=t.Value||t.Options["Flittz Status"];if(i.a.get(s.a.IntegrateFlittz)&&window.Flittz){var r=window.Flittz.FlittzUserStatus;e=this.evaluateOperator(a.FlittzStatusesMap[r],o.toLocaleLowerCase(),n)}else e=!1;return Promise.resolve(e)},e}(r.Expression)},function(t,e,n){"use strict";n.r(e);var o=n(117);n.d(e,"Meter",function(){return o.Meter})},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(0),r=n(9),i=function(){function t(t){void 0===t&&(t={}),this.CustomerRegistrationId=t.CustomerRegistrationId||null,this.UserId=t.UserId||null,this.MasterId=t.MasterId||null,this.IgmRegID=t.IgmRegID||null,this.IgmContent=t.IgmContent||null,this.IgmAuth=t.IgmAuth||null,this.NzwRegId=t.NzwRegId||null,this.NzwToken=t.NzwToken||null,this.NzwLid=t.NzwLid||null,this.Subscriptions=this.getSubscriptions(t),this.FullName=t.FullName||this.getFullName(),this.LoginDate=t.LoginDate instanceof Date?t.LoginDate:this.getDate(t.LoginDate),this.LastLogoutDate=t.LastLogoutDate instanceof Date?t.LastLogoutDate:this.getDate(t.LastLogoutDate),this.EmailPreferences=t.EmailPreferences||null,this.DigitalAccess=t.DigitalAccess||null,this.DisplayName=t.DisplayName||t.name||t.nickname||"",this.AuthSystem=t.AuthSystem||"",this.AuthSystemId=t.AuthSystemId||"",this.UserState=t.UserState||"",this.ZipCodes=t.ZipCodes||null,this.Email=t.Email||"",this.AuthProfile=t.AuthSystemData||null,this.CustomData=t.CustomData||null}return t.prototype.updateAuthProfileData=function(t){this.UserId=t.UserId,this.FullName=t.FullName?t.FullName:this.FullName,this.AuthProfile=t.AuthSystemData,this.Email=t.Email?t.Email:this.Email},t.prototype.getFullName=function(){if(this.Subscriptions){var t=this.Subscriptions[0];return t.FirstName+" "+t.LastName||"User"}return"User"},t.prototype.setAuthSystemInfo=function(t,e){this.AuthSystemId=t,this.AuthSystem=e},t.prototype.getSubscriptions=function(t){var e=[];if(t.Subscriptions)for(var n in t.Subscriptions)t.Subscriptions[n]&&(e=Object(o.flatten)([e,t.Subscriptions[n]]));return e.length?e:null},t.prototype.getDate=function(t){return t?(e=0===t.indexOf("/Date(")?Object(r.x)(t):new Date(t),isNaN(e.getTime())?null:e):null;var e},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CustomAuthSystem",function(){return g});var o,r=n(44),i=n(331),s=n(330),a=n(137),c=n(211),u=n(325),p=n(71),l=n(26),f=n(0),h=n(235),d=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(o){function t(){var t=o.call(this)||this;return t.name="Custom",t.id=l.a.Custom,t.authSettings=r.a.get(i.a.AuthSettings),t.userData=new h.a,t}return d(t,o),t.prototype.HasActiveSession=function(){var e=this;return Object(f.isFunction)(this.authSettings.CalculateAuthStatusFunc)?this.authSettings.CalculateAuthStatusFunc().then(function(t){if(-1==Object(f.values)(l.q).indexOf(t))throw s.a.UNKNOWN_USER_STATE;return e.userState=t,Promise.resolve(t!=l.q.NotLoggedIn)}):Promise.reject()},t.prototype.getUserData=function(e){try{return Object(f.isFunction)(this.authSettings.GetAuthProfileFunc)&&Object(f.isFunction)(this.authSettings.CalculateAuthStatusFunc)?(this.userData.UserState=this.userState,Promise.resolve(this.userData)):Promise.resolve(this.getDefaultUserData())}catch(t){a.a.error(this.constructor.name,e,"incorect authsetting or some error in function")}},t.prototype.getAuthProfile=function(){var n=this;return Object(f.isFunction)(this.authSettings.GetAuthProfileFunc)?this.authSettings.GetAuthProfileFunc().then(function(t){var e={};return t.MasterId?(e.MasterId=t.MasterId,e.CustomerRegistrationId=t.MasterId):a.a.log(n.constructor.name,"authProfile.MasterId is undefined"),t.DisplayName?e.DisplayName=t.DisplayName:a.a.log(n.constructor.name,"authProfile.DisplayName is undefined"),0<Object.getOwnPropertyNames(e).length&&(n.userData=new h.a(e)),n.authProfile={UserId:e.MasterId,IdType:c.e.Usual,Email:null,FullName:e.DisplayName||"",AuthSystemData:t},Promise.resolve(n.authProfile)}):Promise.reject()},t.prototype.createUserDataFrom=function(t,e){var n=o.prototype.createUserDataFrom.call(this,t,e);return n.UserState=e.UserState,n},t.prototype.logout=function(){u.a.dispatch(l.h.ApplicationReload,l.l.Logout),o.prototype.logout.call(this)},t}(p.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"Activation",function(){return w});var o=n(103),r=n(106),i=n(131),s=n(26),a=n(214),c=n(7),u=n(74),p=n(326),l=n(331),f=n(325),h=n(50),d=n(219),g=n(9),y=n(11),v=n(0),m=n(32),_=n(15),b=n(208),C=n(129),w=function(){function t(){this.lastDeterminedConversation=null,this.initListeners(),p.a.set(l.a.ActivationInstance,this)}return t.prototype.initListeners=function(){var e=this;f.a.subscribe(h.a.ConversationDetermined,function(t){e.lastDeterminedConversation=t})},t.prototype.getActivationStepsGroup=function(){return this.activationStepsGroup},t.prototype.passControlToAuthSystem=function(){this.activationStepsGroup.closeTemplate()},t.prototype.process=function(){if(c.a.isSubscribed())f.a.dispatch(s.h.ApplicationReload,s.l.ActivationSuccess);else{_.a.startActivationFlow(),this.activationStepsGroup=m.a.getActivationTemplate(new a.a(this.getSettings())),this.activationStepsGroup.showTemplate();var t=c.a.getSubscriptions();t&&t.length?this.processExpiredSubscriptionStep():c.a.notLoggedIn()?this.activationStepsGroup.processStep(new o.ActivationAuthenticateStep(this.activationStepsGroup)):this.processActivateStep(),this.processNxtLink()}},t.prototype.getSettings=function(){var t=u.a.getConfigurationSettings(),e=u.a.getActivationTemplate();return{Name:e.Name,Html:e.Html,IsActivationOnly:t.ActivationOnlyConfiguration,NotClosable:t.ActivationOnlyConfiguration}},t.prototype.processActivateStep=function(t){void 0===t&&(t=!1),this.activationStepsGroup.processStep(new r.ActivateStep(this.activationStepsGroup,t))},t.prototype.processExpiredSubscriptionStep=function(){var t=new C.ActivationExpiredSubscriptionStep(this.activationStepsGroup);t.getStepElement()?this.activationStepsGroup.processStep(t):this.processActivateStep(!0)},t.prototype.getActivationElement=function(){var t=this.activationStepsGroup.getTemplate();return t?t.getElement():null},t.prototype.processNxtLink=function(){var o=this,r=new d.a,t=r.getRedirected(this.getActivationElement());Object(v.each)(t,function(t,e){var n=new b.a(t).getUrl();r.isUpgrade(t)&&(p.a.get(l.a.ProductCode)||i.a.getProductCode().then(function(t){t=t}));o.setProductCodeLink(t,n,void 0)})},t.prototype.setProductCodeLink=function(t,e,n){e=n?Object(g.c)(e,"product",n):e,y.a.attr(t,{href:e})},t}()},function(t,e,n){var o;t.exports=(o=n(6),n(210),n(49),o.HmacSHA256)},function(t,e,n){"use strict";n.r(e);var o=n(44),i=n(338),s=n(74),a=n(240),r=n(11),c=n(326),u=n(331),p=n(9),l=n(25),f=n(325),h=n(50),d=n(2),g=n(27),y=n(275),v=n(17),m=new(function(){function t(){this.localStorage=new g.a,this.keys=d.e.DebugPanel}return t.prototype.setSiteCode=function(t){v.a.set(this.keys.SiteCode,t,{expandKey:!1,isSecureValue:!1})},t.prototype.getSiteCode=function(){return v.a.get(this.keys.SiteCode,{expandKey:!1,isSecureValue:!1})},t.prototype.setConfigCode=function(t){v.a.set(this.keys.ConfigCode,t,{expandKey:!1,isSecureValue:!1})},t.prototype.getConfigCode=function(){return v.a.get(this.keys.ConfigCode,{expandKey:!1,isSecureValue:!1})},t.prototype.setIsCustomConfiguration=function(t){this.localStorage.set(this.keys.ConfigurationIsCustom,t)},t.prototype.getIsCustomConfiguration=function(){return this.localStorage.get(this.keys.ConfigurationIsCustom)},t.prototype.getZipCodes=function(){return this.localStorage.get(this.keys.ZipCode)},t.prototype.setZipCodes=function(t){this.localStorage.set(this.keys.ZipCode,t)},t.prototype.removeZipCodes=function(){this.localStorage.delete(this.keys.ZipCode)},t.prototype.clearConfiguration=function(){this.localStorage.clear(),y.a.clear()},t.prototype.getLogLevel=function(){return this.localStorage.get(this.keys.LogLevel)},t.prototype.setLogLevel=function(t){return this.localStorage.set(this.keys.LogLevel,t)},t.prototype.getCdpProfile=function(){return this.localStorage.get(this.keys.CdpProfile)},t.prototype.setCdpProfile=function(t){return this.localStorage.set(this.keys.CdpProfile,t)},t.prototype.deleteSecureStorageStatus=function(){return this.localStorage.delete(this.keys.IsSecuredStorage)},t}()),_=n(0),b=n(246),C=n.n(b),w=n(274),A=n(26),I=n(8),S=new(function(){function t(){this.elById=document.getElementById.bind(document)}return t.prototype.generateHtmlOptionElement=function(t,e,n){return'<option value="'+t+'" '+(n?"selected":"")+">"+e+"</option>"},t.prototype.reloadApplication=function(){f.a.dispatch(A.h.ApplicationReload,o.a.getOptions())},t.prototype.reInitApplication=function(){f.a.dispatch(A.h.ApplicationReInit)},t.prototype.saveViewInformationAndReload=function(){I.a.saveViewInformation(),S.reloadApplication()},t.prototype.switchShowDomBlock=function(t,e){t?r.a.show(e):r.a.hide(e)},t.prototype.wrapValueIfEmpty=function(t){return t||"..."},t.prototype.removePanel=function(){S.elById("ConnextPanelDebugger").parentNode.removeChild(S.elById("ConnextPanelDebugger"))},t}()),O=function(){function t(){}return t.prototype.getHtmlWithData=function(){var n=+m.getLogLevel(),t=Object.keys(w.a),o="";return Object(_.each)(t,function(t){var e=n&&n==w.a[t];o+=S.generateHtmlOptionElement(w.a[t],t,e)}),o},t.prototype.listenChanges=function(){r.a.on(S.elById("ConnextLogLevel"),"change",function(t){var e=t.target;m.setLogLevel(+e.value),S.reloadApplication()})},t.prototype.getLogLevel=function(){return+m.getLogLevel()},t}(),E=n(20),P=function(){function t(){}return t.prototype.listenSelectConversations=function(){r.a.on(S.elById("ddConversations"),"change",function(t){var e=t.target.value,n=E.Campaign.getConversationById(e);n&&(I.a.setCurrentConversation(n),S.saveViewInformationAndReload())})},t.prototype.generateConversations=function(){var e="",t=c.a.get(u.a.Meter);if(!t)return e;var n=E.Campaign.getConversationsByMeterLevel(t.Level)||[],o=E.Campaign.getCurrentConversationType(),r=o?o.conversation:null,i=r?r.Id:null;return-1===i&&n.push(r),Object(_.each)(n,function(t){e+=S.generateHtmlOptionElement(t.Id,t.Name,t.Id==i)}),e},t}(),D=function(){function t(){}return t.prototype.getConversationView=function(){},t.prototype.listenConversationViewChanges=function(){r.a.on(S.elById("ConnextCurrentConversationArticleViewsApplyBtn"),"click",function(t){t.preventDefault();var e=parseInt(r.a.val(S.elById("ddCurrentConversationArticleViews")))-1;NaN==e||e<0||(I.a.setCurrentConversationViewCount(e),S.saveViewInformationAndReload())})},t.prototype.listenMeterViewChanges=function(){r.a.on(S.elById("ConnextDynamicMeterArticleViewsBtn"),"click",function(t){t.preventDefault();var e=parseInt(r.a.val(S.elById("ddDynamicMeterArticleViews")))-1;NaN==e||e<0||(I.a.setCurrentDynamicMeterViewCount(e),S.saveViewInformationAndReload())})},t.prototype.listenViewChanges=function(){this.listenConversationViewChanges(),this.listenMeterViewChanges(),this.listenUniqueArticleChanges()},t.prototype.listenUniqueArticleChanges=function(){r.a.on(S.elById("uniqueArticles"),"change",function(t){var e=t.target;I.a.setUniqueArticles(e.checked)})},t.prototype.setUniqueArticles=function(){I.a.getUniqueArticles()&&r.a.attr(S.elById("uniqueArticles"),{checked:"checked"})},t.prototype.preparePaywallInformation=function(t){var e=t?t.getPaywallInformation():null;return e||(e={Limit:{Conversation:"...",Meter:"..."},ArticleLeft:{Conversation:"...",Meter:"..."}}),e},t.prototype.getMeterArticleViews=function(t){return t?I.a.getCurrentDynamicMeterViewCount():"..."},t.prototype.getConversationViews=function(t,e){return t&&e?I.a.getCurrentConversationViewCount():"..."},t}(),x=function(){function t(){}return t.prototype.setConfiguration=function(t){this.configuration=t},t.prototype.listenConfigChanges=function(){this.listenChangeActiveStatus(),this.customConfigurationEvents()},t.prototype.setCustomConfigurationToTemplate=function(){var t=this.getCustomConfigurationFromStorage();t&&(r.a.val(S.elById("ConnextSiteCode"),t.siteCode),r.a.val(S.elById("ConnextConfigCode"),t.configCode),S.elById("ConnextCustomConfiguration").checked=t.isCustomConfiguration);var e=s.a.getConfiguration();e&&(S.elById("ConnextConfigurationIsActive").checked=e.Active)},t.prototype.getCustomConfigurationFromStorage=function(){return{siteCode:m.getSiteCode(),configCode:m.getConfigCode(),isCustomConfiguration:m.getIsCustomConfiguration()}},t.prototype.setCustomAppConfig=function(){var t=this.getCustomConfigurationFromStorage();t.isCustomConfiguration&&t.siteCode&&t.configCode&&(o.a.setSiteCode(t.siteCode),o.a.setConfigCode(t.configCode))},t.prototype.setCustomConfigurationToStorage=function(t){m.setSiteCode(t.siteCode.toUpperCase()),m.setConfigCode(t.configCode.toUpperCase()),m.setIsCustomConfiguration(t.isCustomConfiguration)},t.prototype.saveConfiguration=function(){var t=S.elById("ConnextCustomConfiguration").checked;t&&(this.setCustomConfigurationToStorage({siteCode:r.a.val(S.elById("ConnextSiteCode")),configCode:r.a.val(S.elById("ConnextConfigCode")),isCustomConfiguration:t}),this.setCustomAppConfig())},t.prototype.customConfigurationEvents=function(){var t=this,e=S.elById("ConnextCustomConfiguration"),n=S.elById("ConnextCustomConfigurationDiv"),o=m.getIsCustomConfiguration();o&&r.a.attr(e,{checked:"checked"}),S.switchShowDomBlock(o,n),r.a.on(S.elById("ConnextSetCustomConfiguration"),"click",function(){t.saveConfiguration(),S.removePanel(),window.location.reload()}),r.a.on(e,"change",function(t){var e=t.target.checked;S.switchShowDomBlock(e,n),m.setIsCustomConfiguration(e)})},t.prototype.listenChangeActiveStatus=function(){r.a.on(S.elById("ConnextConfigurationIsActive"),"change",function(t){var e=t.target;s.a.setActive(e.checked),document.location.reload(!0)})},t.prototype.getCampaignName=function(){return S.wrapValueIfEmpty(this.configuration?this.configuration.Campaign.Name:null)},t.prototype.getDynamicMeterName=function(){return S.wrapValueIfEmpty(this.configuration?this.configuration.DynamicMeter.Name:null)},t.prototype.getMeterLevel=function(t){var e=t?t.Rule?t.Rule.Name:t.Method:null;return S.wrapValueIfEmpty(t?A.i[t.Id]+"( "+e+" )":null)},t}(),B=n(7),U=function(){function t(){}return t.prototype.getCurrent=function(){return B.a.getUserZipCodes()},t.prototype.customZipEvents=function(){var t=this,e=S.elById("useCustomZip"),n=m.getZipCodes();n&&(r.a.attr(e,{checked:"checked"}),r.a.val(S.elById("actualZipCodesValue"),n)),S.switchShowDomBlock(n,S.elById("customZipBlock")),r.a.on(S.elById("useCustomZip"),"change",function(t){var e=t.target.checked;S.switchShowDomBlock(e,S.elById("customZipBlock")),e||(B.a.setUserZipCodes(null),m.removeZipCodes(),S.reInitApplication())}),r.a.on(S.elById("actualZipCodes"),"click",function(){t.setZipCodes()})},t.prototype.setZipCodes=function(){var t=r.a.val(S.elById("actualZipCodesValue"));t?m.setZipCodes(t):m.removeZipCodes(),B.a.setUserZipCodes(t),S.reInitApplication()},t.prototype.setCustomZipCodes=function(){var t=this.getZipCodes();t&&B.a.setUserZipCodes(t)},t.prototype.getZipCodes=function(){return m.getZipCodes()},t}();n.d(e,"DebugPanel",function(){return R});var R=new(function(){function t(){this.panelElementId="ConnextPanelDebugger",this.logLevelInstance=new O,this.conversationInstance=new P,this.viewInstance=new D,this.configDebugger=new x,this.zipCodeDebugger=new U}return t.prototype.bindData=function(t){var e=this;this.loadStyles(),this.getHtmlCode().then(function(t){e.addToDocument(t),e.configDebugger.setCustomConfigurationToTemplate(),e.registerEvents(),e.checkOpenState(),e.viewInstance.setUniqueArticles()})},t.prototype.getHtmlCode=function(){var e=Object(_.template)(C.a,{interpolate:/\{\{(.+?)\}\}/g});return this.getDataForPanel().then(function(t){return e(t)})},t.prototype.loadStyles=function(){var t=document.createElement("link");r.a.queryElement("head").appendChild(t);var e={rel:"stylesheet",type:"text/css",href:o.a.getResourceUrl()+"dev/css/plugin.debug.css"};r.a.attr(t,e)},t.prototype.getDataForPanel=function(){var r=this;return i.a.loadCampaign().then(function(t){var e=s.a.getConfiguration();r.configDebugger.setConfiguration(e);var n=t.getCurrentConversationType(),o=c.a.get(u.a.Meter);return{meterLevel:r.configDebugger.getMeterLevel(o),dynamicMeterName:r.configDebugger.getDynamicMeterName(),campaignName:r.configDebugger.getCampaignName(),conversations:r.conversationInstance.generateConversations(),conversationViewCount:r.viewInstance.getConversationViews(n,o),dynamicMeterArticleViews:r.viewInstance.getMeterArticleViews(o),paywallInformation:r.viewInstance.preparePaywallInformation(n),actualZipCodes:r.zipCodeDebugger.getCurrent(),logLevels:r.logLevelInstance.getHtmlWithData(),versionInfo:Object(p.r)(),engagementRate:a.a.getEngagementRate(),allowedAccess:r.IpAllowedStatus?r.IpAllowedStatus:"Allowed"}})},t.prototype.addToDocument=function(t){S.elById(this.panelElementId)&&S.elById(this.panelElementId).remove(),r.a.append(r.a.queryElement("body"),t)},t.prototype.showIfNeed=function(){o.a.getDebugMode()&&R.bindData()},t.prototype.registerEvents=function(){var e=this;this.zipCodeDebugger.customZipEvents(),this.configDebugger.listenConfigChanges(),r.a.on(r.a.queryElement(".debug_details_icon"),"click",function(t){S.elById(e.panelElementId).classList.toggle("opened")}),r.a.on(S.elById("connextClearAllData"),"click",function(){m.clearConfiguration(),I.a.serverStorageDeleteViewsByUserId()}),this.setCustomTime(),r.a.on(S.elById("ConnextCustomTimeChk"),"change",function(t){var e=t.target.checked;S.switchShowDomBlock(e,S.elById("ConnextCustomTimeDiv")),e?l.a.set(r.a.val(S.elById("ConnextCustomTimeTxt"))):l.a.delete()}),r.a.on(S.elById("ConnextDebugPanelOpenState"),"change",function(t){var e=t.target.checked;a.a.setDebugPanelOpenState(e)}),r.a.on(S.elById("ConnextSetCustomTimeBtn"),"click",function(t){t.preventDefault(),l.a.set(r.a.val(S.elById("ConnextCustomTimeTxt")))}),r.a.on(S.elById("ConnextEngagementRateApplyBtn"),"click",function(t){t.preventDefault(),a.a.setEngagementRate(r.a.val(S.elById("ConnextEngagementRate")))}),this.viewInstance.listenViewChanges(),this.logLevelInstance.listenChanges(),this.conversationInstance.listenSelectConversations(),this.inputNumberScrollLock()},t.prototype.inputNumberScrollLock=function(){r.a.on(S.elById("ddCurrentConversationArticleViews"),"wheel",function(t){t.preventDefault()}),r.a.on(S.elById("ddDynamicMeterArticleViews"),"wheel",function(t){t.preventDefault()}),r.a.on(S.elById("ConnextEngagementRate"),"wheel",function(t){t.preventDefault()})},t.prototype.setCustomTime=function(){var t=l.a.get();S.elById("ConnextCustomTimeChk").checked=l.a.checkLocalStorage(),r.a.val(S.elById("ConnextCustomTimeTxt"),l.a.formatDate(t||l.a.get())),S.switchShowDomBlock(t,S.elById("ConnextCustomTimeDiv")),S.elById("ConnextCustomTimeChk").checked||r.a.css(S.elById("ConnextCustomTimeDiv"),{display:"none"})},t.prototype.setInitParams=function(){o.a.getDebugMode()&&(this.configDebugger.setCustomAppConfig(),this.zipCodeDebugger.setCustomZipCodes(),this.listenIpAccess())},t.prototype.listenIpAccess=function(){var n=this;f.a.subscribe(h.a.AccessDenied,function(t){var e="Denied("+t.Reason+")";S.elById("ddIpAccess")&&r.a.val(S.elById("ddIpAccess"),e),n.IpAllowedStatus=e}),f.a.subscribe(h.a.AccessGranted,function(t){S.elById("ddIpAccess")&&r.a.val(S.elById("ddIpAccess"),"Allowed"),n.IpAllowedStatus="Allowed"})},t.prototype.checkOpenState=function(){var t=a.a.getDebugPanelOpenState();(S.elById("ConnextDebugPanelOpenState").checked=t)&&r.a.addClass(S.elById("ConnextPanelDebugger"),"opened")},t.prototype.getLogLevel=function(){return this.logLevelInstance.getLogLevel()},t}())},function(t,e,n){"use strict";var o=n(55),r=n(137),i=n(25),s=n(325),a=n(50),c=n(9),u={Source:"g2i_source",EncryptedUserEmail:"g2i_eui",NewsletterName:"g2i_campaign"},p=function(){function t(t,e){t&&(this.source=t[u.Source]||null,this.newsLetterName=t[u.NewsletterName]||null,this.encryptedEmail=t[u.EncryptedUserEmail]||null)}return t.prototype.getNewsletterSource=function(){return this.newsLetterName||null},t}(),l=n(72),f=function(){function t(){this.emailPreferenceIds=[];var t=Object(c.i)();this.newsletterUrlData=new p(t),this.type="newsletter"}return t.prototype.isCameFromNewsletter=function(){return null!=this.newsletterUrlData&&null!=this.newsletterUrlData.source&&this.newsletterUrlData.source.toLowerCase()===this.type},t.prototype.isHaveEncryptedEmail=function(){return!!this.newsletterUrlData.encryptedEmail},t.prototype.processParams=function(){return this.isCameFromNewsletter()?(this.setNewsletterSource(),this.removeUrlParams(),this.setNewsletterReader(),this.isHaveEncryptedEmail()?this.setEmailPreferences():(this.fireNewsletterArrival(),Promise.resolve())):Promise.resolve()},t.prototype.setEmailPreferences=function(){var e=this;return o.a.setEncryptedEmail(this.newsletterUrlData.encryptedEmail),this.getUserInfoByEncryptedEmail().then(function(t){return t?(e.email=t.User?t.User.Email:null,e.email?l.a.getEmailPreferences(e.email).then(function(t){return l.a.setEmailPreferences(t),e.fireNewsletterArrival(t),Promise.resolve()}):Promise.resolve()):Promise.resolve()}).catch(function(t){return r.a.error("setEmailPreferences",t),Promise.resolve()})},t.prototype.getUserInfoByEncryptedEmail=function(){return o.a.getUserDataByEncryptedEmail(this.newsletterUrlData.encryptedEmail)},t.prototype.setNewsletterSource=function(){var t={};t[u.EncryptedUserEmail]=this.newsletterUrlData.encryptedEmail||null,t[u.NewsletterName]=this.newsletterUrlData.newsLetterName||null,o.a.setNewsletterSource(t,{useRootDomain:!0,expandKey:!1})},t.prototype.removeUrlParams=function(){Object(c.z)([u.EncryptedUserEmail,u.NewsletterName,u.Source])},t.prototype.setNewsletterReader=function(){o.a.setNewsletterReader(i.a.get())},t.prototype.fireNewsletterArrival=function(t){var e={Source:this.newsletterUrlData.source};e.Email=this.email,e.EmailPreferences=t,e.EncryptedEmail=this.newsletterUrlData.encryptedEmail,s.a.dispatch(a.a.NewsletterArrival,e)},t.prototype.setNewsletterNW=function(t){o.a.setNewsLetterNW(t)},t}(),h=n(11),d=n(27),g=n(328),y=n(2),v=new(function(){function t(){this.localStorage=new d.a,this.cookiesStorage=g.a.getInstance()}return t.prototype.setEngagementRate=function(t){this.localStorage.set(y.e.EngagementRate,t)},t.prototype.getEngagementRate=function(){return this.localStorage.get(y.e.EngagementRate)},t.prototype.setDebugPanelOpenState=function(t){this.localStorage.set(y.e.DebugPanel.DebugPanelOpenState,t)},t.prototype.getDebugPanelOpenState=function(){return this.localStorage.get(y.e.DebugPanel.DebugPanelOpenState)},t.prototype.getCookiesPrivacy=function(){return this.cookiesStorage.get(y.b.CookiesPrivacy,{useRootDomain:!1,expandKey:!1})},t.prototype.setCookiesPrivacy=function(t){this.cookiesStorage.set(y.b.CookiesPrivacy,t,{useRootDomain:!1,expandKey:!1,expires:Object(c.b)(120)})},t.prototype.removeCookiesPrivacy=function(){this.cookiesStorage.delete(y.b.CookiesPrivacy)},t}()),m=n(32);n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.processNotLegacyParams=function(){return this.newsletterClient=new f,this.newsletterClient.processParams()},t.prototype.getNewsletterSource=function(){return o.a.getNewsletterSource()},t.prototype.getEncryptedEmail=function(){return o.a.getEncryptedEmail()},t.prototype.registerNewsletterWidgetListeners=function(){return h.a.on(document,a.a.NewsletterUpdateResolved,function(t){var e=t.detail.alreadySignedUpPreferences.map(function(t){return{Id:t.EmailPreferenceId,Name:t.Title}}),n={Email:t.detail.email,EmailPreferences:e||""};s.a.dispatch(a.a.NewsletterSignUp,n)}),Promise.resolve()},t.prototype.setNewsletterNW=function(t){o.a.setNewsLetterNW(t)},t.prototype.setEngagementRate=function(t){v.setEngagementRate(t)},t.prototype.getEngagementRate=function(){return v.getEngagementRate()},t.prototype.isCheckCookiesPrivacy=function(){return"true"==v.getCookiesPrivacy()},t.prototype.setCookiesPrivacy=function(t){v.setCookiesPrivacy(t)},t.prototype.showPrivacyTemplate=function(){var t=m.a.getCookiesPrivacyTemplate();t&&t.process()},t.prototype.setDebugPanelOpenState=function(t){v.setDebugPanelOpenState(t)},t.prototype.getDebugPanelOpenState=function(){return v.getDebugPanelOpenState()},t}())},function(t,e,n){"use strict";var o=n(0),r=n(303),i=function(){function t(t){t&&(t.Free&&(this.Free=this.setConversation(t.Free)),t.Metered&&(this.Metered=this.setConversation(t.Metered)),t.Premium&&(this.Premium=this.setConversation(t.Premium)))}return t.prototype.setConversation=function(t){var e=[];return Object(o.isArray)(t)?(Object(o.each)(t,function(t){e.push(new r.a(t))}),e):new r.a(t)},t}();n.d(e,"a",function(){return s});var s=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.Conversations=new i(t.Conversations))}},,function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var o=n(203),r=n(275),i=n(27),s=function(){function t(){this.userIdCookieName="nxt_uuid",this.storageProfileName="customJanrain",this.localStorage=new i.a}return t.prototype.getUserId=function(){var t=this.getGetterOptions();return r.a.get(this.userIdCookieName,t)},t.prototype.setUserId=function(t,e){var n=this.getSetterOptions(e);r.a.set(this.userIdCookieName,t,n)},t.prototype.deleteUserId=function(){r.a.delete(this.userIdCookieName,this.getGetterOptions())},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0}},t.prototype.getGetterOptions=function(){return{expandKey:!1,useRootDomain:!0}},t.prototype.getAuthProfile=function(){return this.localStorage.get(this.storageProfileName)},t.prototype.setAuthProfile=function(t){this.localStorage.set(this.storageProfileName,t)},t.prototype.deleteAuthProfile=function(){this.localStorage.delete(this.storageProfileName)},t.prototype.clearStorage=function(){this.deleteAuthProfile(),this.deleteUserId()},t}(),a=n(331),c=n(137),u=n(44),p=n(26);n.d(e,"JanrainCustomAuthSystem",function(){return h});var l,f=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(n){function t(){var t=n.call(this)||this;return t.name="Janrain_custom",t.id=p.a.Janrain_custom,t.janrainCustomRepository=new s,t}return f(t,n),t.prototype.HasActiveSession=function(){return this.janrainCustomRepository.getUserId()?Promise.resolve(!0):this.tryGetJanrainEvents()},t.prototype.setCustomUserId=function(t){this.janrainCustomRepository.setUserId(t,u.a.get(a.a.UserAuthenticationTime))},t.prototype.getAuthProfile=function(){var e=this;if(this.janrainCustomRepository.getUserId()){var t=this.janrainCustomRepository.getAuthProfile();return Promise.resolve(this.setAuthProfile(t))}return n.prototype.getAuthProfile.call(this).then(function(t){return e.setCustomUserId(t.UserId),e.saveCustomProfile(t),Promise.resolve(t)})},t.prototype.saveCustomProfile=function(t){this.janrainCustomRepository.setAuthProfile(t)},t.prototype.userNotLogin=function(t,e){c.a.log(this.constructor.name,e),this.janrainCustomRepository.getUserId()||(this.accessToken=null,this.clearStorage(),this.fireEventJanrainWork())},t.prototype.clearStorage=function(){this.janrainCustomRepository.clearStorage()},t}(o.JanrainAuthSystem)},function(t,e){t.exports='<div id="ConnextPanelDebugger" class="debug_details" style="left: 0;">\r\n    <div class="debug_details_icon">&nbsp;</div>\r\n    <div class="debug_details_content">\r\n        <h4>Debug Details</h4>\r\n        <ul>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <a href="#" class="more highlight" id="connextClearAllData">Clear Paywall\'s Storage</a>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label>Meter Level: <strong id="ddMeterLevel">{{meterLevel}}</strong></label>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label>Meter Set: <strong id="ddMeterSet">{{dynamicMeterName}}</strong></label>\r\n            </li>\r\n            <li>\r\n                <label>Campaign: <strong id="ddCampaign">{{campaignName}}</strong></label>\r\n            </li>\r\n            <li class="debug_details_header">\r\n                <label for="ConnextCampaign" class="overlay_label check">Conversation: </label>\r\n                <select id="ddConversations">\r\n                    {{conversations}}\r\n                </select>\r\n            </li>\r\n            <li class="debug_details_header debug_er">\r\n                <label class="overlay_label check">Conversation Views: </label>\r\n                <input type="number" id="ddCurrentConversationArticleViews" min="0" step="1" style="width: 140px; padding: 5px 1px;" value="{{conversationViewCount}}">\r\n                <div class=\'set-btn\'>\r\n                    <a href="#" class="more highlight" id="ConnextCurrentConversationArticleViewsApplyBtn">Set</a>\r\n                </div>\r\n            </li>\r\n            <li class="debug_details_header debug_er">\r\n                <label class="overlay_label check">Meter Views: </label>\r\n                <input type="number" id="ddDynamicMeterArticleViews" min="0" step="1" style="width: 140px; padding: 5px 1px;" value="{{dynamicMeterArticleViews}}">\r\n                <div class=\'set-btn\'>\r\n                    <a href="#" class="more highlight" id="ConnextDynamicMeterArticleViewsBtn">Set</a>\r\n                </div>\r\n            </li>\r\n            <li>\r\n                <label>Paywall View Information:</label>\r\n                <table class="paywall-information">\r\n                    <tr class="border-bottom"><td></td><td class="name">Conversation</td><td class="name">Meter</td></tr>\r\n                    <tr class="border-bottom"><td class="name">ArticleLeft</td><td>{{paywallInformation.ArticleLeft.Conversation}}</td><td>{{paywallInformation.ArticleLeft.Meter}}</td></tr>\r\n                    <tr><td class="name">PaywallLimit</td><td>{{paywallInformation.Limit.Conversation}}</td><td>{{paywallInformation.Limit.Meter}}</td></tr>\r\n                </table>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <div>\r\n                    <label class="overlay_label check">Current Zip: </label>\r\n                    <strong>{{actualZipCodes}}</strong><br>\r\n                    <label class="overlay_label check" for="useCustomZip">Use custom zip: </label>\r\n                    <input type="checkbox" id="useCustomZip">\r\n                </div>\r\n                <div id="customZipBlock" style="display:none">\r\n                    <input type="text" id="actualZipCodesValue" style="width:100px">\r\n                    <div class="set-btn">\r\n                        <a href="#" class="more highlight margin_top_15" id="actualZipCodes">Set</a>\r\n                    </div>\r\n                </div>\r\n\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label>Note: <strong id="ddNote"></strong></label>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label>Ip Access: <strong id="ddIpAccess">{{allowedAccess}}</strong></label>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <div id="ConnextCustomConfigurationDiv">\r\n                    <label for="ConnextSiteCode">Site code: </label>\r\n                    <input type="text" id="ConnextSiteCode">\r\n                    <label for="ConnextConfigCode">Config code: </label>\r\n                    <input type="text" id="ConnextConfigCode">\r\n                    <a href="#" class="more highlight margin_top_15" id="ConnextSetCustomConfiguration">Set configuration</a>\r\n                </div>\r\n                <div>\r\n                    <label class="overlay_label check" for="ConnextCustomConfiguration">Use custom configuration: </label>\r\n                    <input type="checkbox" id="ConnextCustomConfiguration">\r\n                </div>\r\n                <div>\r\n                    <label class="overlay_label check" for="ConnextCustomConfiguration">Unique Articles Count: </label>\r\n                    <input type="checkbox" id="uniqueArticles">\r\n                </div>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label for="ConnextCustomTimeChk" class="overlay_label check">Configuration is active: </label>\r\n                <input type="checkbox" id="ConnextConfigurationIsActive">\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label for="ConnextCustomTimeChk" class="overlay_label check">Custom Time: </label>\r\n                <input type="checkbox" id="ConnextCustomTimeChk">\r\n                <div id="ConnextCustomTimeDiv">\r\n                    <input type="text" id="ConnextCustomTimeTxt" placeholder="MM/DD/YYYY" value="" name="name" style="width: 200px;" class="text_input hint">\r\n                    <div class="set-btn">\r\n                        <a href="#" class="more highlight margin_top_15" id="ConnextSetCustomTimeBtn">Set</a>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n            <li class="debug_details_header debug_er">\r\n                <label class="overlay_label check">Engagement Rate: </label>\r\n                <input type="number" id="ConnextEngagementRate" min="0" max="1" step="0.01" style="width: 140px; padding: 5px 1px;" value="{{engagementRate}}">\r\n                <div class=\'set-btn\'>\r\n                    <a href="#" class="more highlight" id="ConnextEngagementRateApplyBtn">Set</a>\r\n                </div>\r\n            </li>\r\n            <li class="debug_details_header hide_on_mobile">\r\n                <label for="ConnextDebugPanelOpenState" class="overlay_label check">Debug Panel Open State: </label>\r\n                <input type="checkbox" id="ConnextDebugPanelOpenState">\r\n            </li>\r\n            <li class="debug_details_header">\r\n                <label for="ConnextLogLevel" class="overlay_label check">Log Level: </label>\r\n                <select id="ConnextLogLevel">\r\n                    {{logLevels}}\r\n                </select>\r\n            </li>\r\n            <li class="debug_details_header">\r\n                <label>Version: </label>\r\n                <strong>{{versionInfo}}</strong><br>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'},function(t,tr,er){"use strict";(function(t,e,s){er.d(tr,"a",function(){return $o});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _=function(){return(_=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function b(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}function v(i,s,a,c){return new(a||(a=Promise))(function(t,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,o)}r((c=c.apply(i,s||[])).next())})}function C(n,o){var r,i,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=o.call(n,a)}catch(t){e=[6,t],i=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},y=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof d&&d)||Function("return this")(),m=function(t){try{return!!t()}catch(t){return!0}},u=!m(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),c={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,l={f:p&&!c.call({1:2},1)?function(t){var e=p(this,t);return!!e&&e.enumerable}:c},w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},f={}.toString,h=function(t){return f.call(t).slice(8,-1)},g="".split,A=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==h(t)?g.call(t,""):Object(t)}:Object,I=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},S=function(t){return A(I(t))},O=function(t){return"object"==typeof t?null!==t:"function"==typeof t},E=function(t,e){if(!O(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!O(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!O(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!O(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},P={}.hasOwnProperty,D=function(t,e){return P.call(t,e)},x=y.document,B=O(x)&&O(x.createElement),U=function(t){return B?x.createElement(t):{}},R=!u&&!m(function(){return 7!=Object.defineProperty(U("div"),"a",{get:function(){return 7}}).a}),L=Object.getOwnPropertyDescriptor,T={f:u?L:function(t,e){if(t=S(t),e=E(e,!0),R)try{return L(t,e)}catch(t){}if(D(t,e))return w(!l.f.call(t,e),t[e])}},F=function(t){if(!O(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,V={f:u?k:function(t,e,n){if(F(t),e=E(e,!0),F(n),R)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=u?function(t,e,n){return V.f(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t},M=function(e,n){try{N(y,e,n)}catch(t){y[e]=n}return n},j=y["__core-js_shared__"]||M("__core-js_shared__",{}),G=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return G.call(t)});var Z,W,X,H=j.inspectSource,J=y.WeakMap,Q="function"==typeof J&&/native code/.test(H(J)),K=r(function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Y=0,z=Math.random(),q=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Y+z).toString(36)},$=K("keys"),tt=function(t){return $[t]||($[t]=q(t))},et={},nt=y.WeakMap;if(Q){var ot=new nt,rt=ot.get,it=ot.has,st=ot.set;Z=function(t,e){return st.call(ot,t,e),e},W=function(t){return rt.call(ot,t)||{}},X=function(t){return it.call(ot,t)}}else{var at=tt("state");et[at]=!0,Z=function(t,e){return N(t,at,e),e},W=function(t){return D(t,at)?t[at]:{}},X=function(t){return D(t,at)}}var ct,ut={set:Z,get:W,has:X,enforce:function(t){return X(t)?W(t):Z(t,{})},getterFor:function(n){return function(t){var e;if(!O(t)||(e=W(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},pt=r(function(t){var e=ut.get,a=ut.enforce,c=String(String).split("String");(t.exports=function(t,e,n,o){var r=!!o&&!!o.unsafe,i=!!o&&!!o.enumerable,s=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||D(n,"name")||N(n,"name",e),a(n).source=c.join("string"==typeof e?e:"")),t!==y?(r?!s&&t[e]&&(i=!0):delete t[e],i?t[e]=n:N(t,e,n)):i?t[e]=n:M(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||H(this)})}),lt=y,ft=function(t){return"function"==typeof t?t:void 0},ht=function(t,e){return arguments.length<2?ft(lt[t])||ft(y[t]):lt[t]&&lt[t][e]||y[t]&&y[t][e]},dt=Math.ceil,gt=Math.floor,yt=function(t){return isNaN(t=+t)?0:(0<t?gt:dt)(t)},vt=Math.min,mt=function(t){return 0<t?vt(yt(t),9007199254740991):0},_t=Math.max,bt=Math.min,Ct=function(u){return function(t,e,n){var o,r,i,s=S(t),a=mt(s.length),c=(r=a,(i=yt(n))<0?_t(i+r,0):bt(i,r));if(u&&e!=e){for(;c<a;)if((o=s[c++])!=o)return!0}else for(;c<a;c++)if((u||c in s)&&s[c]===e)return u||c||0;return!u&&-1}},wt={includes:Ct(!0),indexOf:Ct(!1)},At=wt.indexOf,It=function(t,e){var n,o=S(t),r=0,i=[];for(n in o)!D(et,n)&&D(o,n)&&i.push(n);for(;e.length>r;)D(o,n=e[r++])&&(~At(i,n)||i.push(n));return i},St=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ot=St.concat("length","prototype"),Et={f:Object.getOwnPropertyNames||function(t){return It(t,Ot)}},Pt={f:Object.getOwnPropertySymbols},Dt=ht("Reflect","ownKeys")||function(t){var e=Et.f(F(t)),n=Pt.f;return n?e.concat(n(t)):e},xt=function(t,e){for(var n=Dt(e),o=V.f,r=T.f,i=0;i<n.length;i++){var s=n[i];D(t,s)||o(t,s,r(e,s))}},Bt=/#|\.prototype\./,Ut=function(t,e){var n=Lt[Rt(t)];return n==Ft||n!=Tt&&("function"==typeof e?m(e):!!e)},Rt=Ut.normalize=function(t){return String(t).replace(Bt,".").toLowerCase()},Lt=Ut.data={},Tt=Ut.NATIVE="N",Ft=Ut.POLYFILL="P",kt=Ut,Vt=T.f,Nt=function(t,e){var n,o,r,i,s,a=t.target,c=t.global,u=t.stat;if(n=c?y:u?y[a]||M(a,{}):(y[a]||{}).prototype)for(o in e){if(i=e[o],r=t.noTargetGet?(s=Vt(n,o))&&s.value:n[o],!kt(c?o:a+(u?".":"#")+o,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;xt(i,r)}(t.sham||r&&r.sham)&&N(i,"sham",!0),pt(n,o,i,t)}},Mt=!!Object.getOwnPropertySymbols&&!m(function(){return!String(Symbol())}),jt=Mt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=K("wks"),Zt=y.Symbol,Wt=jt?Zt:Zt&&Zt.withoutSetter||q,Xt=function(t){return D(Gt,t)||(Mt&&D(Zt,t)?Gt[t]=Zt[t]:Gt[t]=Wt("Symbol."+t)),Gt[t]},Ht=Xt("match"),Jt=function(t){if(O(e=t)&&(void 0!==(n=e[Ht])?n:"RegExp"==h(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t},Qt=Xt("match"),Kt=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Qt]=!1,"/./"[e](n)}catch(e){}}return!1},Yt=T.f,zt="".startsWith,qt=Math.min,$t=Kt("startsWith"),te=!($t||(!(ct=Yt(String.prototype,"startsWith"))||ct.writable));Nt({target:"String",proto:!0,forced:!te&&!$t},{startsWith:function(t){var e=String(I(this));Jt(t);var n=mt(qt(1<arguments.length?arguments[1]:void 0,e.length)),o=String(t);return zt?zt.call(e,o,n):e.slice(n,n+o.length)===o}});var ee,ne,oe,re=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ie=function(o,r,t){if(re(o),void 0===r)return o;switch(t){case 0:return function(){return o.call(r)};case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}},se=Function.call,ae=function(t,e,n){return ie(se,y[t].prototype[e],n)},ce=(ae("String","startsWith"),function(a){return function(t,e){var n,o,r=String(I(t)),i=yt(e),s=r.length;return i<0||s<=i?a?"":void 0:(n=r.charCodeAt(i))<55296||56319<n||i+1===s||(o=r.charCodeAt(i+1))<56320||57343<o?a?r.charAt(i):n:a?r.slice(i,i+2):o-56320+(n-55296<<10)+65536}}),ue={codeAt:ce(!1),charAt:ce(!0)},pe=function(t){return Object(I(t))},le=!m(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),fe=tt("IE_PROTO"),he=Object.prototype,de=le?Object.getPrototypeOf:function(t){return t=pe(t),D(t,fe)?t[fe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},ge=Xt("iterator"),ye=!1;[].keys&&("next"in(oe=[].keys())?(ne=de(de(oe)))!==Object.prototype&&(ee=ne):ye=!0),null==ee&&(ee={}),D(ee,ge)||N(ee,ge,function(){return this});var ve,me={IteratorPrototype:ee,BUGGY_SAFARI_ITERATORS:ye},_e=Object.keys||function(t){return It(t,St)},be=u?Object.defineProperties:function(t,e){F(t);for(var n,o=_e(e),r=o.length,i=0;i<r;)V.f(t,n=o[i++],e[n]);return t},Ce=ht("document","documentElement"),we=tt("IE_PROTO"),Ae=function(){},Ie=function(t){return"<script>"+t+"<\/script>"},Se=function(){try{ve=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Se=ve?function(t){t.write(Ie("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ve):((e=U("iframe")).style.display="none",Ce.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ie("document.F=Object")),t.close(),t.F);for(var n=St.length;n--;)delete Se.prototype[St[n]];return Se()};et[we]=!0;var Oe=Object.create||function(t,e){var n;return null!==t?(Ae.prototype=F(t),n=new Ae,Ae.prototype=null,n[we]=t):n=Se(),void 0===e?n:be(n,e)},Ee=V.f,Pe=Xt("toStringTag"),De=function(t,e,n){t&&!D(t=n?t:t.prototype,Pe)&&Ee(t,Pe,{configurable:!0,value:e})},xe={},Be=me.IteratorPrototype,Ue=function(){return this},Re=Object.setPrototypeOf||("__proto__"in{}?function(){var n,o=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),o=t instanceof Array}catch(n){}return function(t,e){return F(t),function(t){if(!O(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),o?n.call(t,e):t.__proto__=e,t}}():void 0),Le=me.IteratorPrototype,Te=me.BUGGY_SAFARI_ITERATORS,Fe=Xt("iterator"),ke=function(){return this},Ve=function(t,e,n,o,r,i,s){var a,c,u;c=o,u=e+" Iterator",(a=n).prototype=Oe(Be,{next:w(1,c)}),De(a,u,!1),xe[u]=Ue;var p,l,f,h=function(t){if(t===r&&m)return m;if(!Te&&t in y)return y[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",g=!1,y=t.prototype,v=y[Fe]||y["@@iterator"]||r&&y[r],m=!Te&&v||h(r),_="Array"==e&&y.entries||v;if(_&&(p=de(_.call(new t)),Le!==Object.prototype&&p.next&&(de(p)!==Le&&(Re?Re(p,Le):"function"!=typeof p[Fe]&&N(p,Fe,ke)),De(p,d,!0))),"values"==r&&v&&"values"!==v.name&&(g=!0,m=function(){return v.call(this)}),y[Fe]!==m&&N(y,Fe,m),xe[e]=m,r)if(l={values:h("values"),keys:i?m:h("keys"),entries:h("entries")},s)for(f in l)(Te||g||!(f in y))&&pt(y,f,l[f]);else Nt({target:e,proto:!0,forced:Te||g},l);return l},Ne=ue.charAt,Me=ut.set,je=ut.getterFor("String Iterator");Ve(String,"String",function(t){Me(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=je(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=Ne(n,o),e.index+=t.length,{value:t,done:!1})});var Ge=function(t,e,n,o){try{return o?e(F(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&F(r.call(t)),e}},Ze=Xt("iterator"),We=Array.prototype,Xe=function(t){return void 0!==t&&(xe.Array===t||We[Ze]===t)},He=function(t,e,n){var o=E(e);o in t?V.f(t,o,w(0,n)):t[o]=n},Je={};Je[Xt("toStringTag")]="z";var Qe="[object z]"===String(Je),Ke=Xt("toStringTag"),Ye="Arguments"==h(function(){return arguments}()),ze=Qe?h:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ke))?n:Ye?h(e):"Object"==(o=h(e))&&"function"==typeof e.callee?"Arguments":o},qe=Xt("iterator"),$e=function(t){if(null!=t)return t[qe]||t["@@iterator"]||xe[ze(t)]},tn=Xt("iterator"),en=!1;try{var nn=0,on={next:function(){return{done:!!nn++}},return:function(){en=!0}};on[tn]=function(){return this},Array.from(on,function(){throw 2})}catch(o){}var rn=function(t,e){if(!e&&!en)return!1;var n=!1;try{var o={};o[tn]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n},sn=!rn(function(t){Array.from(t)});Nt({target:"Array",stat:!0,forced:sn},{from:function(t){var e,n,o,r,i,s,a=pe(t),c="function"==typeof this?this:Array,u=arguments.length,p=1<u?arguments[1]:void 0,l=void 0!==p,f=$e(a),h=0;if(l&&(p=ie(p,2<u?arguments[2]:void 0,2)),null==f||c==Array&&Xe(f))for(n=new c(e=mt(a.length));h<e;h++)s=l?p(a[h],h):a[h],He(n,h,s);else for(i=(r=f.call(a)).next,n=new c;!(o=i.call(r)).done;h++)s=l?Ge(r,p,[o.value,h],!0):o.value,He(n,h,s);return n.length=h,n}}),lt.Array.from;var an,cn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,un=V.f,pn=y.Int8Array,ln=pn&&pn.prototype,fn=y.Uint8ClampedArray,hn=fn&&fn.prototype,dn=pn&&de(pn),gn=ln&&de(ln),yn=Object.prototype,vn=yn.isPrototypeOf,mn=Xt("toStringTag"),_n=q("TYPED_ARRAY_TAG"),bn=cn&&!!Re&&"Opera"!==ze(y.opera),Cn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(an in Cn)y[an]||(bn=!1);if((!bn||"function"!=typeof dn||dn===Function.prototype)&&(dn=function(){throw TypeError("Incorrect invocation")},bn))for(an in Cn)y[an]&&Re(y[an],dn);if((!bn||!gn||gn===yn)&&(gn=dn.prototype,bn))for(an in Cn)y[an]&&Re(y[an].prototype,gn);if(bn&&de(hn)!==gn&&Re(hn,gn),u&&!D(gn,mn))for(an in un(gn,mn,{get:function(){return O(this)?this[_n]:void 0}}),Cn)y[an]&&N(y[an],_n,an);var wn=Xt("species"),An=function(t){if(O(e=t)&&D(Cn,ze(e)))return t;var e;throw TypeError("Target is not a typed array")},In=function(t){if(Re){if(vn.call(dn,t))return t}else for(var e in Cn)if(D(Cn,an)){var n=y[e];if(n&&(t===n||vn.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},Sn=[].slice;!function(t,e,n){if(u){if(n)for(var o in Cn){var r=y[o];r&&D(r.prototype,t)&&delete r.prototype[t]}gn[t]&&!n||pt(gn,t,n?e:bn&&ln[t]||e)}}("slice",function(t,e){for(var n=Sn.call(An(this),t,e),o=(c=(a=this).constructor,(u=void 0)===(p=F(a).constructor)||null==(u=F(p)[wn])?c:re(u)),r=0,i=n.length,s=new(In(o))(i);r<i;)s[r]=n[r++];var a,c,u,p;return s},m(function(){new Int8Array(1).slice()}));var On=Xt("unscopables"),En=Array.prototype;null==En[On]&&V.f(En,On,{configurable:!0,value:Oe(null)});var Pn=function(t){En[On][t]=!0},Dn=Object.defineProperty,xn={},Bn=function(t){throw t},Un=wt.includes,Rn=function(t,e){if(D(xn,t))return xn[t];e||(e={});var n=[][t],o=!!D(e,"ACCESSORS")&&e.ACCESSORS,r=D(e,0)?e[0]:Bn,i=D(e,1)?e[1]:void 0;return xn[t]=!!n&&!m(function(){if(o&&!u)return!0;var t={length:-1};o?Dn(t,1,{enumerable:!0,get:Bn}):t[1]=1,n.call(t,r,i)})}("indexOf",{ACCESSORS:!0,1:0});Nt({target:"Array",proto:!0,forced:!Rn},{includes:function(t){return Un(this,t,1<arguments.length?arguments[1]:void 0)}}),Pn("includes"),ae("Array","includes"),Nt({target:"String",proto:!0,forced:!Kt("includes")},{includes:function(t){return!!~String(I(this)).indexOf(Jt(t),1<arguments.length?arguments[1]:void 0)}}),ae("String","includes");var Ln=!m(function(){return Object.isExtensible(Object.preventExtensions({}))}),Tn=r(function(t){var e=V.f,n=q("meta"),o=0,r=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++o,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!O(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!D(t,n)){if(!r(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!D(t,n)){if(!r(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Ln&&s.REQUIRED&&r(t)&&!D(t,n)&&i(t),t}};et[n]=!0}),Fn=(Tn.REQUIRED,Tn.fastKey,Tn.getWeakData,Tn.onFreeze,r(function(t){var h=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,o,r){var i,s,a,c,u,p,l,f=ie(e,n,o?2:1);if(r)i=t;else{if("function"!=typeof(s=$e(t)))throw TypeError("Target is not iterable");if(Xe(s)){for(a=0,c=mt(t.length);a<c;a++)if((u=o?f(F(l=t[a])[0],l[1]):f(t[a]))&&u instanceof h)return u;return new h(!1)}i=s.call(t)}for(p=i.next;!(l=p.call(i)).done;)if("object"==typeof(u=Ge(i,f,l.value,o))&&u&&u instanceof h)return u;return new h(!1)}).stop=function(t){return new h(!0,t)}})),kn=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Vn=function(t,e,n){for(var o in e)pt(t,o,e[o],n);return t},Nn=Xt("species"),Mn=V.f,jn=Tn.fastKey,Gn=ut.set,Zn=ut.getterFor,Wn=(function(a,t,e){var c=-1!==a.indexOf("Map"),o=-1!==a.indexOf("Weak"),u=c?"set":"add",p=y.Set,r=p&&p.prototype,l=p,n={},i=function(t){var n=r[t];pt(r,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!O(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!O(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!O(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})};if(kt(a,"function"!=typeof p||!(o||r.forEach&&!m(function(){(new p).entries().next()}))))l=e.getConstructor(t,a,c,u),Tn.REQUIRED=!0;else if(kt(a,!0)){var s=new l,f=s[u](o?{}:-0,1)!=s,h=m(function(){s.has(1)}),d=rn(function(t){new p(t)}),g=!o&&m(function(){for(var t=new p,e=5;e--;)t[u](e,e);return!t.has(-0)});d||(((l=t(function(t,e){kn(t,l,a);var n,o,r,i,s=(n=new p,o=l,Re&&"function"==typeof(r=t.constructor)&&r!==o&&O(i=r.prototype)&&i!==o.prototype&&Re(n,i),n);return null!=e&&Fn(e,s[u],s,c),s})).prototype=r).constructor=l),(h||g)&&(i("delete"),i("has"),c&&i("get")),(g||f)&&i(u),o&&r.clear&&delete r.clear}n.Set=l,Nt({global:!0,forced:l!=p},n),De(l,a),o||e.setStrong(l,a,c)}("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,n,o,r){var i=t(function(t,e){kn(t,i,n),Gn(t,{type:n,index:Oe(null),first:void 0,last:void 0,size:0}),u||(t.size=0),null!=e&&Fn(e,t[r],t,o)}),a=Zn(n),s=function(t,e,n){var o,r,i=a(t),s=c(t,e);return s?s.value=n:(i.last=s={index:r=jn(e,!0),key:e,value:n,previous:o=i.last,next:void 0,removed:!1},i.first||(i.first=s),o&&(o.next=s),u?i.size++:t.size++,"F"!==r&&(i.index[r]=s)),t},c=function(t,e){var n,o=a(t),r=jn(e);if("F"!==r)return o.index[r];for(n=o.first;n;n=n.next)if(n.key==e)return n};return Vn(i.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,u?t.size=0:this.size=0},delete:function(t){var e=a(this),n=c(this,t);if(n){var o=n.next,r=n.previous;delete e.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),e.first==n&&(e.first=o),e.last==n&&(e.last=r),u?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=a(this),o=ie(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:n.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Vn(i.prototype,o?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),u&&Mn(i.prototype,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var o,r,i=e+" Iterator",s=Zn(e),a=Zn(i);Ve(t,e,function(t,e){Gn(this,{type:i,target:t,state:s(t),kind:e,last:void 0})},function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),o=ht(e),r=V.f,u&&o&&!o[Nn]&&r(o,Nn,{configurable:!0,get:function(){return this}})}}),Qe?{}.toString:function(){return"[object "+ze(this)+"]"});Qe||pt(Object.prototype,"toString",Wn,{unsafe:!0});var Xn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Hn=ut.set,Jn=ut.getterFor("Array Iterator"),Qn=Ve(Array,"Array",function(t,e){Hn(this,{type:"Array Iterator",target:S(t),index:0,kind:e})},function(){var t=Jn(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}},"values");xe.Arguments=xe.Array,Pn("keys"),Pn("values"),Pn("entries");var Kn=Xt("iterator"),Yn=Xt("toStringTag"),zn=Qn.values;for(var qn in Xn){var $n=y[qn],to=$n&&$n.prototype;if(to){if(to[Kn]!==zn)try{N(to,Kn,zn)}catch(o){to[Kn]=zn}if(to[Yn]||N(to,Yn,qn),Xn[qn])for(var eo in Qn)if(to[eo]!==Qn[eo])try{N(to,eo,Qn[eo])}catch(o){to[eo]=Qn[eo]}}}function no(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}lt.Set;var oo=setTimeout;function ro(t){return Boolean(t&&void 0!==t.length)}function io(){}function so(t){if(!(this instanceof so))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],fo(t,this)}function ao(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,so._immediateFn(function(){var t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void uo(o.promise,t)}co(o.promise,e)}else(1===n._state?co:uo)(o.promise,n._value)})):n._deferreds.push(o)}function co(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof so)return t._state=3,t._value=e,void po(t);if("function"==typeof n)return void fo((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,po(t)}catch(e){uo(t,e)}var o,r}function uo(t,e){t._state=2,t._value=e,po(t)}function po(t){2===t._state&&0===t._deferreds.length&&so._immediateFn(function(){t._handled||so._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)ao(t,t._deferreds[e]);t._deferreds=null}function lo(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function fo(t,e){var n=!1;try{t(function(t){n||(n=!0,co(e,t))},function(t){n||(n=!0,uo(e,t))})}catch(t){if(n)return;n=!0,uo(e,t)}}so.prototype.catch=function(t){return this.then(null,t)},so.prototype.then=function(t,e){var n=new this.constructor(io);return ao(this,new lo(t,e,n)),n},so.prototype.finally=no,so.all=function(e){return new so(function(o,r){if(!ro(e))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return o([]);var s=i.length;function a(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){a(e,t)},r)}i[e]=t,0==--s&&o(i)}catch(e){r(e)}}for(var t=0;t<i.length;t++)a(t,i[t])})},so.resolve=function(e){return e&&"object"==typeof e&&e.constructor===so?e:new so(function(t){t(e)})},so.reject=function(n){return new so(function(t,e){e(n)})},so.race=function(r){return new so(function(t,e){if(!ro(r))return e(new TypeError("Promise.race accepts an array"));for(var n=0,o=r.length;n<o;n++)so.resolve(r[n]).then(t,e)})},so._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){oo(t,0)},so._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var ho=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in ho?ho.Promise.prototype.finally||(ho.Promise.prototype.finally=no):ho.Promise=so,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===r.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function o(t){for(var e=0,n=Math.min(65536,t.length+1),o=new Uint16Array(n),r=[],i=0;;){var s=e<t.length;if(!s||n-1<=i){if(r.push(String.fromCharCode.apply(null,o.subarray(0,i))),!s)return r.join("");t=t.subarray(e),i=e=0}if(0==(128&(s=t[e++])))o[i++]=s;else if(192==(224&s)){var a=63&t[e++];o[i++]=(31&s)<<6|a}else if(224==(240&s)){a=63&t[e++];var c=63&t[e++];o[i++]=(31&s)<<12|a<<6|c}else 240==(248&s)&&(65535<(s=(7&s)<<18|(a=63&t[e++])<<12|(c=63&t[e++])<<6|63&t[e++])&&(s-=65536,o[i++]=s>>>10&1023|55296,s=56320|1023&s),o[i++]=s)}}if(t.TextEncoder&&t.TextDecoder)return;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,o=0,r=Math.max(32,n+(n>>>1)+7),i=new Uint8Array(r>>>3<<3);e<n;){var s=t.charCodeAt(e++);if(55296<=s&&s<=56319){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&s<=56319)continue}if(o+4>i.length&&(r+=8,r=(r*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(r)).set(i),i=a),0==(4294967168&s))i[o++]=s;else{if(0==(4294965248&s))i[o++]=s>>>6&31|192;else if(0==(4294901760&s))i[o++]=s>>>12&15|224,i[o++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;i[o++]=s>>>18&7|240,i[o++]=s>>>12&63|128,i[o++]=s>>>6&63|128}i[o++]=63&s|128}}return i.slice?i.slice(0,o):i.subarray(0,o)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var i=o;"function"==typeof s&&s.from?i=function(t){return s.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(i=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return o(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),i(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:d),function(){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(i){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,o=a(i);if(s){var r=a(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!=typeof n&&"function"!=typeof n?c(e):n}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}var t,e,l=function(){function t(){o(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(t,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],o=0,r=n.length;o<r;o++)if(n[o]===e)return void n.splice(o,1)}},{key:"dispatchEvent",value:function(e){var n=this;if(e.type in this.listeners){for(var t=function(t){setTimeout(function(){return t.call(n,e)})},o=this.listeners[e.type],r=0,i=o.length;r<i;r++)t(o[r]);return!e.defaultPrevented}}}]),t}(),n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,l);var e=u(n);function n(){var t;return o(this,n),(t=e.call(this)).listeners||l.call(c(t)),Object.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return i(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),p(a(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),f=function(){function t(){o(this,t),Object.defineProperty(this,"signal",{value:new n,writable:!0,configurable:!0})}return i(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",n.prototype[Symbol.toStringTag]="AbortSignal"),t="undefined"!=typeof self?self:d,((e=t).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController)&&(t.AbortController=f,t.AbortSignal=n)}();var go=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var o=this;this.locked=new Map,this.addToLocked=function(t,e){var n=o.locked.get(t);void 0===n?void 0===e?o.locked.set(t,[]):o.locked.set(t,[e]):void 0!==e&&(n.unshift(e),o.locked.set(t,n))},this.isLocked=function(t){return o.locked.has(t)},this.lock=function(n){return new Promise(function(t,e){o.isLocked(n)?o.addToLocked(n,t):(o.addToLocked(n),t())})},this.unlock=function(t){var e=o.locked.get(t);if(void 0!==e&&0!==e.length){var n=e.pop();o.locked.set(t,e),void 0!==n&&setTimeout(n,0)}else o.locked.delete(t)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}});n(go);var yo=n(r(function(t,e){var n=d&&d.__awaiter||function(i,s,a,c){return new(a||(a=Promise))(function(t,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,o)}r((c=c.apply(i,s||[])).next())})},p=d&&d.__generator||function(n,o){var r,i,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=o.call(n,a)}catch(t){e=[6,t],i=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var l="browser-tabs-lock-key";function f(e){return new Promise(function(t){return setTimeout(t,e)})}function h(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",o=0;o<t;o++)n+=e[Math.floor(Math.random()*e.length)];return n}var o=function(){function u(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+h(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===u.waiters&&(u.waiters=[])}return u.prototype.acquireLock=function(a,c){return void 0===c&&(c=5e3),n(this,void 0,void 0,function(){var e,n,o,r,i,s;return p(this,function(t){switch(t.label){case 0:e=Date.now()+h(4),n=Date.now()+c,o=l+"-"+a,r=window.localStorage,t.label=1;case 1:return Date.now()<n?[4,f(30)]:[3,8];case 2:return t.sent(),null!==r.getItem(o)?[3,5]:(i=this.id+"-"+a+"-"+e,[4,f(Math.floor(25*Math.random()))]);case 3:return t.sent(),r.setItem(o,JSON.stringify({id:this.id,iat:e,timeoutKey:i,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,f(30)];case 4:return t.sent(),null!==(s=r.getItem(o))&&(s=JSON.parse(s)).id===this.id&&s.iat===e?(this.acquiredIatSet.add(e),this.refreshLockWhileAcquired(o,e),[2,!0]):[3,7];case 5:return u.lockCorrector(),[4,this.waitForSomethingToChange(n)];case 6:t.sent(),t.label=7;case 7:return e=Date.now()+h(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(o,r){return n(this,void 0,void 0,function(){var e=this;return p(this,function(t){return setTimeout(function(){return n(e,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return[4,go.default().lock(r)];case 1:return t.sent(),this.acquiredIatSet.has(r)?(e=window.localStorage,null===(n=e.getItem(o))?go.default().unlock(r):((n=JSON.parse(n)).timeRefreshed=Date.now(),e.setItem(o,JSON.stringify(n)),go.default().unlock(r),this.refreshLockWhileAcquired(o,r))):go.default().unlock(r),[2]}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(a){return n(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,new Promise(function(e){var n=!1,o=Date.now(),r=!1;function i(){if(r||(window.removeEventListener("storage",i),u.removeFromWaiting(i),clearTimeout(s),r=!0),!n){n=!0;var t=50-(Date.now()-o);0<t?setTimeout(e,t):e()}}window.addEventListener("storage",i),u.addToWaiting(i);var s=setTimeout(i,Math.max(0,a-Date.now()))})];case 1:return t.sent(),[2]}})})},u.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==u.waiters&&u.waiters.push(t)},u.removeFromWaiting=function(e){void 0!==u.waiters&&(u.waiters=u.waiters.filter(function(t){return t!==e}))},u.notifyWaiters=function(){void 0!==u.waiters&&u.waiters.slice().forEach(function(t){return t()})},u.prototype.releaseLock=function(e){return n(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}})})},u.prototype.releaseLock__private__=function(r){return n(this,void 0,void 0,function(){var e,n,o;return p(this,function(t){switch(t.label){case 0:return e=window.localStorage,n=l+"-"+r,null===(o=e.getItem(n))?[2]:(o=JSON.parse(o)).id!==this.id?[3,2]:[4,go.default().lock(o.iat)];case 1:t.sent(),this.acquiredIatSet.delete(o.iat),e.removeItem(n),go.default().unlock(o.iat),u.notifyWaiters(),t.label=2;case 2:return[2]}})})},u.lockCorrector=function(){for(var t=Date.now()-5e3,e=window.localStorage,n=Object.keys(e),o=!1,r=0;r<n.length;r++){var i=n[r];if(i.includes(l)){var s=e.getItem(i);null!==s&&(void 0===(s=JSON.parse(s)).timeRefreshed&&s.timeAcquired<t||void 0!==s.timeRefreshed&&s.timeRefreshed<t)&&(e.removeItem(i),o=!0)}}o&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=o})),vo={timeoutInSeconds:60},mo=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],_o=function(o){function r(t,e){var n=o.call(this,e)||this;return n.error=t,n.error_description=e,Object.setPrototypeOf(n,r.prototype),n}return a(r,o),r.fromPayload=function(t){return new r(t.error,t.error_description)},r}(Error),bo=function(i){function s(t,e,n,o){void 0===o&&(o=null);var r=i.call(this,t,e)||this;return r.state=n,r.appState=o,Object.setPrototypeOf(r,s.prototype),r}return a(s,i),s}(_o),Co=function(e){function n(){var t=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(t,n.prototype),t}return a(n,e),n}(_o),wo=function(n){function o(t){var e=n.call(this)||this;return e.popup=t,Object.setPrototypeOf(e,o.prototype),e}return a(o,n),o}(Co),Ao=function(){return window.crypto||window.msCrypto},Io=function(){var t=Ao();return t.subtle||t.webkitSubtle},So=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",n="";return Array.from(Ao().getRandomValues(new Uint8Array(43))).forEach(function(t){return n+=e[t%e.length]}),n},Oo=function(t){return btoa(t)},Eo=function(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},Po=function(e){return v(void 0,void 0,void 0,function(){var o;return C(this,function(t){switch(t.label){case 0:return o=Io().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise(function(e,n){o.oncomplete=function(t){e(t.target.result)},o.onerror=function(t){n(t.error)},o.onabort=function(){n("The digest operation was aborted")}})]:[4,o];case 1:return[2,t.sent()]}})})},Do=function(t){return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));var e},xo=function(t){var e,n,o=new Uint8Array(t);return e=window.btoa(String.fromCharCode.apply(String,Array.from(o))),n={"+":"-","/":"_","=":""},e.replace(/[+/=]/g,function(t){return n[t]})},Bo=function(t,e,n,o,r,i){void 0===i&&(i=1e4);var s,a,p,l,f,h,d,c=new AbortController,u=c.signal,g=_(_({},o),{signal:u});return Promise.race([(a=t,p=e,l=n,f=g,h=i,d=r,v(void 0,void 0,void 0,function(){var e,n;return C(this,function(t){switch(t.label){case 0:return d?(delete f.signal,[2,(o=_({url:a,audience:p,scope:l,timeout:h},f),r=d,new Promise(function(e,n){var t=new MessageChannel;t.port1.onmessage=function(t){t.data.error?n(new Error(t.data.error)):e(t.data)},r.postMessage(o,[t.port2])}))]):[3,1];case 1:return[4,(c=a,u=f,u=u||{},new Promise(function(t,e){var n=new XMLHttpRequest,o=[],r=[],i={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return o},entries:function(){return r},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var a in n.open(u.method||"get",c,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(t,e,n){o.push(e=e.toLowerCase()),r.push([e,n]),i[e]=i[e]?i[e]+","+n:n}),t(s())},n.onerror=e,n.withCredentials="include"==u.credentials,u.headers)n.setRequestHeader(a,u.headers[a]);n.send(u.body||null)}))];case 2:return e=t.sent(),n={ok:e.ok},[4,e.json()];case 3:return[2,(n.json=t.sent(),n)]}var c,u,o,r})})),new Promise(function(t,e){s=setTimeout(function(){c.abort(),e(new Error("Timeout when executing 'fetch'"))},i)})]).finally(function(){clearTimeout(s)})},Uo=function(t,s){return v(void 0,void 0,void 0,function(){var e=t.baseUrl,n=t.timeout,o=t.audience,r=t.scope,i=b(t,["baseUrl","timeout","audience","scope"]);return C(this,function(t){switch(t.label){case 0:return[4,(l=e+"/oauth/token",f=n,h=o||"default",d=r,g={method:"POST",body:JSON.stringify(_({redirect_uri:window.location.origin},i)),headers:{"Content-type":"application/json"}},y=s,v(void 0,void 0,void 0,function(){var e,n,o,r,i,s,a,c,u,p;return C(this,function(t){switch(t.label){case 0:e=null,o=0,t.label=1;case 1:if(!(o<3))return[3,6];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,Bo(l,h,d,g,y,f)];case 3:return n=t.sent(),e=null,[3,6];case 4:return r=t.sent(),e=r,[3,5];case 5:return o++,[3,1];case 6:if(e)throw e.message=e.message||"Failed to fetch",e;if(i=n.json,s=i.error,a=i.error_description,c=b(i,["error","error_description"]),!n.ok)throw u=a||"HTTP error. Unable to fetch "+l,(p=new Error(u)).error=s||"request_error",p.error_description=u,p;return[2,c]}})}))];case 1:return[2,t.sent()]}var l,f,h,d,g,y})})},Ro=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=t.join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n},Lo=function(t){return"@@auth0spajs@@::"+t.client_id+"::"+t.audience+"::"+t.scope},To=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},Fo=function(){function t(){}return t.prototype.save=function(t){var e=Lo(t),n=To(t);window.localStorage.setItem(e,JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=Lo(t),o=this.readJson(n),r=Math.floor(Date.now()/1e3);if(o){if(!(o.expiresAt-e<r))return o.body;if(o.body.refresh_token){var i=this.stripData(o);return this.writeJson(n,i),i.body}localStorage.removeItem(n)}},t.prototype.clear=function(){for(var t=localStorage.length-1;0<=t;t--)localStorage.key(t).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=window.localStorage.getItem(t);if(n&&(e=JSON.parse(n)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),ko=function(){var i;this.enclosedCache=(i={body:{},expiresAt:0},{save:function(t){var e=Lo(t),n=To(t);i[e]=n},get:function(t,e){void 0===e&&(e=0);var n=Lo(t),o=i[n],r=Math.floor(Date.now()/1e3);if(o)return o.expiresAt-e<r?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},o.body):void delete i[n]:o.body},clear:function(){i={body:{},expiresAt:0}}})},Vo=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),No=function(t){return"number"==typeof t},Mo=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],jo=r(function(t,e){var o=d&&d.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function i(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function n(t){for(var e={},n=t?t.split("; "):[],o=/(%[\dA-F]{2})+/gi,r=0;r<n.length;r++){var i=n[r].split("="),s=i.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{e[i[0].replace(o,decodeURIComponent)]=s.replace(o,decodeURIComponent)}catch(t){}}return e}function s(){return n(document.cookie)}function a(t,e,n){document.cookie=i(t,e,o({path:"/"},n))}e.__esModule=!0,e.encode=i,e.parse=n,e.getAll=s,e.get=function(t){return s()[t]},e.set=a,e.remove=function(t,e){a(t,"",o(o({},e),{expires:-1}))}});n(jo),jo.encode,jo.parse,jo.getAll;var Go=jo.get,Zo=jo.set,Wo=jo.remove,Xo={get:function(t){var e=Go(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var o={};"https:"===window.location.protocol&&(o={secure:!0,sameSite:"none"}),o.expires=n.daysUntilExpire,Zo(t,JSON.stringify(e),o)},remove:function(t){Wo(t)}},Ho={get:function(t){return Xo.get(t)||Xo.get("_legacy_"+t)},save:function(t,e,n){var o={};"https:"===window.location.protocol&&(o={secure:!0}),o.expires=n.daysUntilExpire,Zo("_legacy_"+t,JSON.stringify(e),o),Xo.save(t,e,n)},remove:function(t){Xo.remove(t),Xo.remove("_legacy_"+t)}},Jo={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var Qo,Ko=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=",!"data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",function(t){return Qo=Qo||(o=void 0===(e="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==")?null:e,r=function(t,e){var n=atob(s);if(e){for(var o=new Uint8Array(n.length),r=0,i=n.length;r<i;++r)o[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}(0,void 0!==(n=!(s="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo="))&&n),i=r.indexOf("\n",10)+1,a=r.substring(i)+(o?"//# sourceMappingURL="+o:""),c=new Blob([a],{type:"application/javascript"}),URL.createObjectURL(c)),new Worker(Qo,t);var s,e,n,o,r,i,a,c}),Yo=new yo,zo={memory:function(){return(new ko).enclosedCache},localstorage:function(){return new Fo}},qo=function(t){return zo[t]},$o=function(){function t(t){var e,n,o,r,i;if(this.options=t,"undefined"!=typeof window&&function(){if(!Ao())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Io())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?Xo:Ho,!qo(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=qo(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new Vo(Jo),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(o=this.options.issuer,r=this.domainUrl,o?o.startsWith("https://")?o:"https://"+o+"/":r+"/"),this.defaultScope=Ro("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Ro(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Ko),this.customOptions=((i=t).advancedOptions,i.audience,i.auth0Client,i.authorizeTimeoutInSeconds,i.cacheLocation,i.client_id,i.domain,i.issuer,i.leeway,i.max_age,i.redirect_uri,i.scope,i.useRefreshTokens,b(i,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"]))}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.12.1"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,o,r){var i=this.options,s=(i.domain,i.leeway,i.useRefreshTokens,i.auth0Client,i.cacheLocation,i.advancedOptions,b(i,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]));return _(_(_({},s),t),{scope:Ro(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:r||this.options.redirect_uri,code_challenge:o,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+Eo(t))},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],o=e[1],r=e[2];if(3!==e.length||!n||!o||!r)throw new Error("ID token could not be decoded");var i=JSON.parse(Do(o)),s={__raw:t},a={};return Object.keys(i).forEach(function(t){s[t]=i[t],Mo.includes(t)||(a[t]=i[t])}),{encoded:{header:n,payload:o,signature:r},header:JSON.parse(Do(n)),claims:s,user:a}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(1<e.claims.aud.length){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!No(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!No(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!No(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,o=new Date(Date.now()),r=new Date(0),i=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r.setUTCSeconds(e.claims.exp+n),i.setUTCSeconds(e.claims.nbf-n),r<o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+o+") is after expiration time ("+r+")");if(No(e.claims.nbf)&&o<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+o+") is before "+i);if(No(e.claims.auth_time)&&s<o)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+o+") is after last auth at "+s);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(f){return void 0===f&&(f={}),v(this,void 0,void 0,function(){var e,n,o,r,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:return e=f.redirect_uri,n=f.appState,o=b(f,["redirect_uri","appState"]),r=Oo(So()),i=Oo(So()),s=So(),[4,Po(s)];case 1:return a=t.sent(),c=xo(a),u=f.fragment?"#"+f.fragment:"",p=this._getParams(o,r,i,c,e),l=this._authorizeUrl(p),this.transactionManager.create({nonce:i,code_verifier:s,appState:n,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri}),[2,l+u]}})})},t.prototype.loginWithPopup=function(f,h){return void 0===f&&(f={}),void 0===h&&(h={}),v(this,void 0,void 0,function(){var e,n,o,r,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:return e=b(f,[]),n=Oo(So()),o=Oo(So()),r=So(),[4,Po(r)];case 1:return i=t.sent(),s=xo(i),a=this._getParams(e,n,o,s,this.options.redirect_uri||window.location.origin),[4,function(t,r){var e,n,o,i=r.popup;if(i?i.location.href=t:(e=t,n=window.screenX+(window.innerWidth-400)/2,o=window.screenY+(window.innerHeight-600)/2,i=window.open(e,"auth0:authorize:popup","left="+n+",top="+o+",width=400,height=600,resizable,scrollbars=yes,status=1")),!i)throw new Error("Could not open popup");return new Promise(function(e,n){var o=setTimeout(function(){n(new wo(i))},1e3*(r.timeoutInSeconds||60));window.addEventListener("message",function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(o),i.close(),t.data.response.error)return n(_o.fromPayload(t.data.response));e(t.data.response)}})})}(this._authorizeUrl(_(_({},a),{response_mode:"web_message"})),_(_({},h),{timeoutInSeconds:h.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(c=t.sent(),n!==c.state)throw new Error("Invalid state");return[4,Uo({audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:c.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri},this.worker)];case 3:return u=t.sent(),p=this._verifyIdToken(u.id_token,o),l=_(_({},u),{decodedToken:p,scope:a.scope,audience:a.audience||"default",client_id:this.options.client_id}),this.cache.save(l),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}})})},t.prototype.getUser=function(r){return void 0===r&&(r={}),v(this,void 0,void 0,function(){var e,n,o;return C(this,function(t){return e=r.audience||this.options.audience||"default",n=Ro(this.defaultScope,this.scope,r.scope),[2,(o=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&o.decodedToken&&o.decodedToken.user]})})},t.prototype.getIdTokenClaims=function(r){return void 0===r&&(r={}),v(this,void 0,void 0,function(){var e,n,o;return C(this,function(t){return e=r.audience||this.options.audience||"default",n=Ro(this.defaultScope,this.scope,r.scope),[2,(o=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&o.decodedToken&&o.decodedToken.claims]})})},t.prototype.loginWithRedirect=function(n){return void 0===n&&(n={}),v(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:return[4,this.buildAuthorizeUrl(n)];case 1:return e=t.sent(),window.location.assign(e),[2]}})})},t.prototype.handleRedirectCallback=function(f){return void 0===f&&(f=window.location.href),v(this,void 0,void 0,function(){var e,n,o,r,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:if(0===(e=f.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){-1<t.indexOf("#")&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),r={};return e.forEach(function(t){var e=t.split("="),n=e[0],o=e[1];r[n]=decodeURIComponent(o)}),_(_({},r),{expires_in:parseInt(r.expires_in)})}(e.join("")),o=n.state,r=n.code,i=n.error,s=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier||!a.nonce)throw new Error("Invalid state");if(i)throw this.transactionManager.remove(),new bo(i,s,o,a.appState);return this.transactionManager.remove(),c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:r},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,Uo(c,this.worker)];case 1:return u=t.sent(),p=this._verifyIdToken(u.id_token,a.nonce),l=_(_({},u),{decodedToken:p,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(l),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:a.appState}]}})})},t.prototype.checkSession=function(n){return v(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:if("memory"===this.cacheLocation&&!this.cookieStorage.get("auth0.is.authenticated"))return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.getTokenSilently(n)];case 2:return t.sent(),[3,4];case 3:if(e=t.sent(),!mo.includes(e.error))throw e;return[3,4];case 4:return[2]}})})},t.prototype.getTokenSilently=function(u){return void 0===u&&(u={}),v(this,void 0,void 0,function(){var e,n,o,r,i,s,a,c=this;return C(this,function(t){switch(t.label){case 0:if(e=_(_({audience:this.options.audience,ignoreCache:!1},u),{scope:Ro(this.defaultScope,this.scope,u.scope)}),n=e.ignoreCache,o=b(e,["ignoreCache"]),r=function(){var t=c.cache.get({scope:o.scope,audience:o.audience||"default",client_id:c.options.client_id},60);return t&&t.access_token},!n&&(i=r()))return[2,i];t.label=1;case 1:return t.trys.push([1,7,8,10]),[4,Yo.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return t.sent(),!n&&(i=r())?[2,i]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(o)]:[3,4];case 3:return a=t.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(o)];case 5:a=t.sent(),t.label=6;case 6:return s=a,this.cache.save(_({client_id:this.options.client_id},s)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,s.access_token];case 7:throw t.sent();case 8:return[4,Yo.releaseLock("auth0.lock.getTokenSilently")];case 9:return t.sent(),[7];case 10:return[2]}})})},t.prototype.getTokenWithPopup=function(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),v(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Ro(this.defaultScope,this.scope,e.scope),n=_(_({},vo),n),[4,this.loginWithPopup(e,n)];case 1:return t.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}})})},t.prototype.isAuthenticated=function(){return v(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}})})},t.prototype.logout=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=t.localOnly,o=b(t,["federated","localOnly"]);if(n&&e)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!n){var r=e?"&federated":"",i=this._url("/v2/logout?"+Eo(o));window.location.assign(""+i+r)}},t.prototype._getTokenFromIFrame=function(m){return v(this,void 0,void 0,function(){var n,o,r,i,s,u,p,l,f,h,d,g,y,v;return C(this,function(t){switch(t.label){case 0:return n=Oo(So()),o=Oo(So()),r=So(),[4,Po(r)];case 1:return i=t.sent(),s=xo(i),u=this._getParams(m,n,o,s,m.redirect_uri||this.options.redirect_uri||window.location.origin),p=this._authorizeUrl(_(_({},u),{prompt:"none",response_mode:"web_message"})),l=m.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(e=p,a=this.domainUrl,c=l,void 0===c&&(c=60),new Promise(function(n,o){var t=window.document.createElement("iframe");t.setAttribute("width","0"),t.setAttribute("height","0"),t.style.display="none";var r=function(){window.document.body.contains(t)&&window.document.body.removeChild(t)},i=setTimeout(function(){o(new Co),r()},1e3*c),s=function(t){if(t.origin==a&&t.data&&"authorization_response"===t.data.type){var e=t.source;e&&e.close(),t.data.response.error?o(_o.fromPayload(t.data.response)):n(t.data.response),clearTimeout(i),window.removeEventListener("message",s,!1),setTimeout(r,2e3)}};window.addEventListener("message",s,!1),window.document.body.appendChild(t),t.setAttribute("src",e)}))];case 2:if(f=t.sent(),n!==f.state)throw new Error("Invalid state");return h=m.scope,d=m.audience,m.redirect_uri,m.ignoreCache,m.timeoutInSeconds,g=b(m,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Uo(_(_(_({},this.customOptions),g),{scope:h,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:f.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri}),this.worker)];case 3:return y=t.sent(),v=this._verifyIdToken(y.id_token,o),[2,_(_({},y),{decodedToken:v,scope:u.scope,audience:u.audience||"default"})]}var e,a,c})})},t.prototype._getTokenUsingRefreshToken=function(u){return v(this,void 0,void 0,function(){var e,n,o,r,i,s,a,c;return C(this,function(t){switch(t.label){case 0:return u.scope=Ro(this.defaultScope,this.options.scope,u.scope),(e=this.cache.get({scope:u.scope,audience:u.audience||"default",client_id:this.options.client_id}))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(u)];case 1:return[2,t.sent()];case 2:n=u.redirect_uri||this.options.redirect_uri||window.location.origin,r=u.scope,i=u.audience,u.ignoreCache,u.timeoutInSeconds,s=b(u,["scope","audience","ignoreCache","timeoutInSeconds"]),t.label=3;case 3:return t.trys.push([3,5,,8]),[4,Uo(_(_(_({},this.customOptions),s),{audience:i,scope:r,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),this.worker)];case 4:return o=t.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(a=t.sent()).message?[3,7]:[4,this._getTokenFromIFrame(u)];case 6:return[2,t.sent()];case 7:throw a;case 8:return c=this._verifyIdToken(o.id_token),[2,_(_({},o),{decodedToken:c,scope:u.scope,audience:u.audience||"default"})]}})})},t}()}).call(this,er(24),er(216).setImmediate,er(313).Buffer)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return QueryParams});var _Core_utils_Utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_Core_dom_Dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__),QueryParams=function(){function QueryParams(t,e,n){this.dataAttrName="data-mg2-urlparams",this.configSettings=n,this.url=e,this.link=t}return QueryParams.prototype.getUrl=function(){var t=_Core_dom_Dom__WEBPACK_IMPORTED_MODULE_1__.a.attr(this.link,this.dataAttrName)||"";return t&&(this.url=this.processDynamicQueryParams(JSON.parse(decodeURIComponent(t)))),this.configSettings.ActionUrlsParams&&(this.url=this.processDynamicQueryParams(this.configSettings.ActionUrlsParams)),this.url},QueryParams.prototype.processDynamicQueryParams=function(queryParams){var _this=this;return queryParams=queryParams.filter(function(t){return t&&t.Name}),Object(underscore__WEBPACK_IMPORTED_MODULE_2__.each)(queryParams,function(queryParam){var queryParamValue;try{queryParamValue=eval(queryParam.Value)}catch(t){queryParamValue=queryParam.Value}_this.url=Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_0__.c)(_this.url,queryParam.Name,queryParamValue)}),this.url},QueryParams}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Application});var _Connext_Core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(137),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(326),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(331),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50),_Connext_Core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(221),_Connext_Core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_Connext_Core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25),_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(44),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(337),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(349),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(343),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(338),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(133),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(240),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(325),underscore__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_17__),_Application_Modules_adBlockDetector_AdBlockDetector__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(207),_flows_FlowManager__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(251),_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(17),_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2),_modules_abTestService_ABTestServiceClass__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(54),_modules_storageCleanerService_StorageCleanerServiceClass__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(250),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(40),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(275),Application=function(){function Application(){var n=this;this.isAlreadyRun=!1,_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.ApplicationReload,function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("ApplicationReload event",t);var e=new CustomEvent("Loader:NeedRecalculate:SessionId");window.dispatchEvent(e),n.run(t.EventData,!1,!0)},!0),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.ApplicationReInit,function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("ApplicationReInit event",t),n.isAlreadyRun=!1,_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.RunReason,_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.l.RepeatedInit),n.init(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getOptions())},!0),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe("Loader:Recalculate:SessionId",function(t){_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.setSessionId(t.detail)},!0)}return Application.prototype.init=function(t){var e=this;try{this.waitBodyStartRender().then(function(){t=e.updateInitOptions(t),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.processingData(t),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.dispatch(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.StartInit,t),e.updateLogSettings({level:void 0,debug:_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getDebugMode()}),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_9__.a.create(),_Application_Modules_adBlockDetector_AdBlockDetector__WEBPACK_IMPORTED_MODULE_18__.a.getInstance().detectProcess(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_10__.a.init(),e.syncAuthLsAndCookies(),e.startConfiguration()})}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.run=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1);try{_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getIsInitFinished()?(this.flowManager&&(this.flowManager.clearPrevConnextRunStates(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.subscribePublicEvents()),!_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.options.silentmode||e||n?(this.flowManager=new _flows_FlowManager__WEBPACK_IMPORTED_MODULE_19__.a(t,e),this.isAlreadyRun=!0):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.warn("ConneXt was ranned in the silent mode, so we stop a process here")):(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(this.constructor.name,"Run","Connext is not initialized yet, wait OnInit event"),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.Init,function(){o.isAlreadyRun||o.run(t,!0)}))}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.startConfiguration=function(){var o=this;try{_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.getStartConfiguration().then(function(t){var n=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getDebugMode();_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_13__.a.loadDebugPanelIfNeed(n,_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.getDebugAllowedSetting()).then(function(t){var e;t&&(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.DebugInstance,t),t.setInitParams(),e=+t.getLogLevel()),o.updateLogSettings({level:e,debug:n}),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.UseRootDomain,_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.useRootDomain()),_modules_abTestService_ABTestServiceClass__WEBPACK_IMPORTED_MODULE_22__.a.start(),_modules_storageCleanerService_StorageCleanerServiceClass__WEBPACK_IMPORTED_MODULE_23__.a.cleanStorages(),Promise.all([_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__.a.setInformation(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__.a.setDeviceId(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__.a.processNotLegacyParams(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__.a.registerNewsletterWidgetListeners()]).then(function(t){if(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.finishInit(),o.runExternalMigration(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.hasRunSettings())return _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.setupDeferredRun().then(function(t){o.run(t,!0)});o.isAlreadyRun||o.run(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.RunReason))}).catch(function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Application Init event",t),new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)})})}).catch(function(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)})}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.waitBodyStartRender=function(){return new Promise(function(n,t){var o=function(){return!!window.document.body};if(o())n();else var r=0,i=setTimeout(function t(){if(clearTimeout(i),!o()&&r<50){r++;var e=10*Math.min(r,10);_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Application","waitBodyStartRender","delay",e),i=setTimeout(t,e)}else n()},0)})},Application.prototype.runExternalMigration=function(){var migrationCode=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getExternalMigrationCode();if(migrationCode)try{eval(migrationCode)}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.error("External migration error",t)}},Application.prototype.updateLogSettings=function(t){var e=_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.getOptions();_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.setOptions(Object(underscore__WEBPACK_IMPORTED_MODULE_17__.extendOwn)(e,{debug:t.debug,level:t.level||e.level||0}))},Application.prototype.updateInitOptions=function(t){_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.isSupported()||(t.batchCount=1);var e=_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.get(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.e.DebugPanel.SiteCode,{expandKey:!1,isSecureValue:!1}),n=_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.get(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.e.DebugPanel.ConfigCode,{expandKey:!1,isSecureValue:!1});return e&&(t.siteCode=e),n&&(t.configCode=n),t},Application.prototype.syncAuthLsAndCookies=function(){var t,s="syncAuthLsAndCookies",a=function(t){var e={expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}};return t?e.daysOfLife=t:e.expires=new Date(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.d),e},c=function(t){return{lsData:_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.getStoredValue(t),cookieValue:_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a.getInstance().pureGet(t)}},e=function(t,e){var n=c(t),o=n.lsData,r=n.cookieValue;if(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"authLsData",o,"authCookieValue",r,"lastVisitData",e),o)if(r)o.value!==r?(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has authCookieValue. authLsData.value !== authCookieValue. = re-login on subdomain."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.dublicateCookieToLocalStorageIfItNeed(o.key,r,o),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0)):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has authCookieValue. authLsData.value === authCookieValue. Nothing to do.");else if(e.lsData)if(e.cookieValue)_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has additionalCookie. = subdomain logout."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.removeLocalStorageDublicate(o.key),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0);else{var i=7<Object(_Connext_Core__WEBPACK_IMPORTED_MODULE_5__.e)(_Connext_Core__WEBPACK_IMPORTED_MODULE_6__.a.get(),new Date(+e.lsData.value),"d")?"user cleared cookies":"browser cleared cookies";_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has NOT additionalCookie.",i),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.get(t,{converter:{read:function(t,e){return t}},expandKey:!1,useRootDomain:!0})}else _Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has NOT additionallLs. = first new version visit."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.removeLocalStorageDublicate(o.key),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0);else r?(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has NOT authLsData and has authCookieValue. = just new login on subdomain."),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.set(t,r,a(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.UserAuthenticationTime)))):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has NOT authLsData and has NOT authCookieValue. = nothing to do.")};return t=c(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.LastVisit),e(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.IgmRegID,t),e(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.Auth0AccountId,t),void _Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.set(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.LastVisit,String(_Connext_Core__WEBPACK_IMPORTED_MODULE_6__.a.get().valueOf()),a())},Application}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(74),r=n(17),a=n(0),c=n(2),i=n(275),s=n(44),u=new(function(){function t(){this.isCheckAllKeys=!0}return t.prototype.cleanStorages=function(){this.configCodes=this.getConfigCodes(),this.cleanLocalStorage(),this.cleanCookies()},t.prototype.cleanLocalStorage=function(){var t=this.isCheckAllKeys?r.a.getAllConstantKeys():r.a.getStorageConstantKeys(),e=r.a.getConnextExistingStorageKeys(this.isCheckAllKeys),n=this.findUnusedKeys(e,t);this.deleteLocalStorageKeys(n)},t.prototype.cleanCookies=function(){var t=this.isCheckAllKeys?i.a.getAllConstantKeys():i.a.getStorageConstantKeys(),e=i.a.getConnextExistingStorageKeys(this.isCheckAllKeys),n=this.findUnusedKeys(e,t);this.deleteCookieKeys(n)},t.prototype.deleteLocalStorageKeys=function(t){Object(a.each)(t,function(t){return r.a.delete(t,{expandKey:!1})})},t.prototype.deleteCookieKeys=function(t){Object(a.each)(t,function(t){i.a.delete(t,{expandKey:!1,useRootDomain:!0}),i.a.delete(t.replace(c.e.CookiePrefix,""),{expandKey:!1,useRootDomain:!1})})},t.prototype.findUnusedKeys=function(t,e){var s=this;return Object(a.reject)(t,function(i){return Object(a.some)(e,function(o){var r=s.getKeyWithAttribute(o);return!!new RegExp("^("+c.e.LSDublicateCookiePrefix+")?("+c.e.CookiePrefix+")?((("+o+")(_)?)|(("+r+")$))","gm").test(i)||Object(a.some)(s.configCodes,function(t){var e=s.expandKey(o,t.SiteCode,t.Code),n=s.expandKey(r,t.SiteCode,t.Code);return new RegExp("^("+c.e.LSDublicateCookiePrefix+")?("+c.e.CookiePrefix+")?((("+e+")(_)?)|(("+n+")$))","gm").test(i)})})})},t.prototype.expandKey=function(t,e,n){return[t,e.toUpperCase(),n.toUpperCase()].join("_")},t.prototype.getKeyWithAttribute=function(t){var e=s.a.getAttribute();return e?t+"__"+e.toString().toUpperCase():t},t.prototype.getConfigCodes=function(){var t=o.a.getPublishConfigurationCodes()||[],e=s.a.getConfigCode(),n=s.a.getSiteCode();return Object(a.find)(t,function(t){return t.Code==e&&t.SiteCode==n})||t.push({SiteCode:n,Code:e}),t},t}())},function(t,e,n){"use strict";var o,r=n(44),i=n(74),s=n(337),a=n(343),c=n(137),u=n(326),p=n(331),l=n(325),f=n(50),h=n(11),d=n(15),g=n(133),y=function(t){g.a.update();var e=u.a.get(p.a.DebugInstance);e&&e.showIfNeed(),c.a.warn(t)},v=n(338),m=n(62),_=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.create=function(t){return v.a.loadMainFlow()},e}(m.a),C=n(10),w=n(90);n.d(e,"a",function(){return A});var A=function(){function t(t,e){this.runReason=t,this.isExternalRun=e,this.process()}return t.prototype.process=function(){var e=this;try{c.a.log(this.constructor.name,"Run","Connext runned with params:",this.runReason,this.isExternalRun),this.fireRunStartEvent(this.runReason),u.a.set(p.a.FirstRunExecuted,!0),d.a.registerActions(),r.a.clearRunTimeout(),this.isExternalRun&&r.a.setRunExternally(!0);var n,o=i.a.getConfiguration();if(o.Active)(new b).create(o).then(function(t){n=new t(o),Promise.all([n.defineUser(o),w.a.defineUser()]).then(function(t){t[0],t[1];s.a.setAuthenticatedUserContext(),n.process()}).catch(function(t){c.a.log(e.constructor.name,"defineUser",t)})}).catch(function(t){new y(t)});else new y("This configuration is not active")}catch(t){new a.a(t)}},t.prototype.fireRunStartEvent=function(t){t=t||u.a.get(p.a.RunReason),l.a.dispatch(f.a.Run,t)},t.prototype.clearPrevConnextRunStates=function(){h.a.removeConnextListeners(),h.a.removeConnextScripts(),C.ActionModule.clearConnextState(),l.a.unsubscribeAll()},t}()},,,,,,,,,,,,,,,function(t,e,n){t.exports=n(317)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(0),r=n(9),i=new(function(){function t(){}return t.prototype._isIterable=function(t){return!!t&&(!this.isNode(t)&&!this.isElement(t)&&t!==window&&(this._isLiteralObject(t)||Object(o.isArray)(t)||"object"==typeof t&&null!==t&&void 0!==t.length&&t.length))},t.prototype.isNode=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.prototype.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},t.prototype._getComputedStyle=function(t,e){var n;return n="function"==typeof window.getComputedStyle?window.getComputedStyle(t):void 0!==typeof document.currentStyle?t.currentStyle:t.style,e?n[e]:n},t.prototype.nodeListToArray=function(t){var e=[];return Object(o.each)(t,function(t){e.push(t)}),e},t.prototype._isLiteralObject=function(t){return t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.getPrototypeOf({})},t.prototype._indexOf=function(t,e){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},t.prototype._getHandlerIndex=function(t,e,n){return t===document.body||t===window?this._indexOf(t._event[e].handlers,n):this._indexOf(t._event[e].signatures,String(n))},t.prototype.addEventListener=function(t,e,n){if(!this.isNode(t)&&t!==window)throw new Error(t+" is not a DOMNode object");if(t._event=t._event||{},t._event[e]=t._event[e]||{handlers:[],signatures:[]},-1==this._getHandlerIndex(t,e,n)){var o=Object(r.a)(t,e,n,!1);t._event[e].handlers.push(o),t._event[e].signatures.push(n.toString())}},t.prototype.removeEventListener=function(n,o,t){var r=this;if(!this.isNode(n)&&n!==window)throw new Error(n+" is not a DOMNode object");n._event&&n._event[o]&&(t?[t]:n._event[o].handlers.slice().reverse()).forEach(function(t){var e=r._getHandlerIndex(n,o,t);-1!==e&&(n._event[o].handlers.splice(e,1),n._event[o].signatures.splice(e,1)),n.removeEventListener(o,t,!1)})},t}())},function(t,e,n){"use strict";var o,r,i,s;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),(r=o||(o={})).Low="0",r.Medium="1",r.High="2",(s=i||(i={})).Log="log",s.Warn="warn",s.Error="error"},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var o,r=n(2),i=n(204),s=n(328),a=n(9),c=n(329),u=n(330),p=n(137),l=n(326),f=n(331),h=n(332),d=n(0),g=n(138),y=n(46),v=n(17),m=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=new(function(e){function t(){var t=e.call(this)||this;return t.cookies=s.a.getInstance(),t}return m(t,e),t.prototype.get=function(t,e){e=this.extendOptions(e),g.a.addToDebug(y.a.Cookies,t,"get",null,e,this);var n=t;return e.expandKey&&(n=this.expandKey(t)),this.shouldUseRootDomain(e)||(n=r.e.CookiePrefix+n),this.cookies.get(n)},t.prototype.set=function(t,e,n){n=this.extendOptions(n),g.a.addToDebug(y.a.Cookies,t,"set",e,n,this);var o=t;!1!==n.expandKey&&(o=this.expandKey(t)),n.daysOfLife&&(n.expires=Object(a.b)(n.daysOfLife)),this.shouldUseRootDomain(n)?n.domain=this.getRootDomain():(o=r.e.CookiePrefix+o,n.domain=window.location.hostname);try{this.cookies.set(o,e,n,n.converter)}catch(t){throw new c.a(u.a.LOAD_ERRORS.cookie)}},t.prototype.delete=function(t,e){var n=t;!1!==(e=this.extendOptions(e)).expandKey&&(n=this.expandKey(t)),this.shouldUseRootDomain(e)?e.domain=this.getRootDomain():(n=r.e.CookiePrefix+n,e.domain=window.location.hostname),this.cookies.delete(n,e)},t.prototype.clear=function(){this.cookies.clear()},t.prototype.keys=function(){return document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/).map(decodeURIComponent)},t.prototype.getAllConnextRecords=function(){var e=this,n=[],t=this.getConnextExistingStorageKeys();return Object(d.each)(t,function(t){n.push({Name:t,Value:e.get(t,{expandKey:!1,useRootDomain:!0})})}),n},t.prototype.getConnextExistingStorageKeys=function(t){void 0===t&&(t=!0);var e=this.keys(),n=t?this.getAllConstantKeys():this.getStorageConstantKeys();return n=this.removeExceptionsFromKeys(n),e=this.filterConnextExistingStorageKeys(e,n)},t.prototype.getStorageConstantKeys=function(){return this.getConstantKeys(r.b)},t.prototype.getAllConstantKeys=function(){return this.getStorageConstantKeys().concat(v.a.getStorageConstantKeys())},t.prototype.getNonEncryptValue=function(t,e,n){try{var o=JSON.parse(e);return this.set(t,o,n),e}catch(t){return null}},t.prototype.getRootDomain=function(){var t="",e=window.location.hostname.split("."),n=2;if(p.a.log("rootDomain getRootDomain hostSegments: "+e+" cachedRootDomain: "+this.cachedRootDomain),e.length<n)return window.location.hostname;if(this.cachedRootDomain)return this.cachedRootDomain;for(;t="."+e.slice(-n).join("."),p.a.log("rootDomain getRootDomain rootDomain: "+t),!this.checkWriteDomainCookie(t)&&n++<e.length;);return this.cachedRootDomain=t},t.prototype.checkWriteDomainCookie=function(t){var e,n=r.e.ConnextCheckDomainWrite;return this.cookies.set(n,"Done!",{domain:t}),e=!!this.cookies.get(n),this.cookies.delete(n,{domain:t}),p.a.log("rootDomain checkWriteDomainCookie domain: "+t+" result: "+e),e},t.prototype.shouldUseRootDomain=function(t){return Object(a.t)(t.useRootDomain)?t.useRootDomain:l.a.get(f.a.UseRootDomain)},t.prototype.extendOptions=function(t){return Object(d.extendOwn)(new h.a,t)},t}(i.a))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var o;t.exports=(o=n(6),function(){if("function"==typeof ArrayBuffer){var t=o.lib.WordArray,r=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],o=0;o<e;o++)n[o>>>2]|=t[o]<<24-o%4*8;r.call(this,n,e)}else r.apply(this,arguments)}).prototype=t}}(),o.lib.WordArray)},function(t,e,n){var o;t.exports=(o=n(6),function(){var t=o,r=t.lib.WordArray,e=t.enc;function s(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],r=0;r<n;r+=2){var i=e[r>>>2]>>>16-r%4*8&65535;o.push(String.fromCharCode(i))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return r.create(n,2*e)}},e.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,o=[],r=0;r<n;r+=2){var i=s(e[r>>>2]>>>16-r%4*8&65535);o.push(String.fromCharCode(i))}return o.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>1]|=s(t.charCodeAt(o)<<16-o%2*16);return r.create(n,2*e)}}}(),o.enc.Utf16)},function(t,e,n){var o,r,i,s,a,c;t.exports=(o=n(6),n(210),i=(r=o).lib.WordArray,s=r.algo,a=s.SHA256,c=s.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c),o.SHA224)},function(t,e,n){var o,r,i,s,a,c,u,p;t.exports=(o=n(6),n(142),n(225),i=(r=o).x64,s=i.Word,a=i.WordArray,c=r.algo,u=c.SHA512,p=c.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),r.SHA384=u._createHelper(p),r.HmacSHA384=u._createHmacHelper(p),o.SHA384)},function(t,e,n){var i;t.exports=(i=n(6),n(142),function(f){var t=i,e=t.lib,h=e.WordArray,o=e.Hasher,p=t.x64.Word,n=t.algo,D=[],x=[],B=[];!function(){for(var t=1,e=0,n=0;n<24;n++){D[t+5*e]=(n+1)*(n+2)/2%64;var o=(2*t+3*e)%5;t=e%5,e=o}for(t=0;t<5;t++)for(e=0;e<5;e++)x[t+5*e]=e+(2*t+3*e)%5*5;for(var r=1,i=0;i<24;i++){for(var s=0,a=0,c=0;c<7;c++){if(1&r){var u=(1<<c)-1;u<32?a^=1<<u:s^=1<<u-32}128&r?r=r<<1^113:r<<=1}B[i]=p.create(s,a)}}();var U=[];!function(){for(var t=0;t<25;t++)U[t]=p.create()}();var r=n.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new p.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,o=this.blockSize/2,r=0;r<o;r++){var i=t[e+2*r],s=t[e+2*r+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(I=n[r]).high^=s,I.low^=i}for(var a=0;a<24;a++){for(var c=0;c<5;c++){for(var u=0,p=0,l=0;l<5;l++)u^=(I=n[c+5*l]).high,p^=I.low;var f=U[c];f.high=u,f.low=p}for(c=0;c<5;c++){var h=U[(c+4)%5],d=U[(c+1)%5],g=d.high,y=d.low;for(u=h.high^(g<<1|y>>>31),p=h.low^(y<<1|g>>>31),l=0;l<5;l++)(I=n[c+5*l]).high^=u,I.low^=p}for(var v=1;v<25;v++){var m=(I=n[v]).high,_=I.low,b=D[v];p=b<32?(u=m<<b|_>>>32-b,_<<b|m>>>32-b):(u=_<<b-32|m>>>64-b,m<<b-32|_>>>64-b);var C=U[x[v]];C.high=u,C.low=p}var w=U[0],A=n[0];for(w.high=A.high,w.low=A.low,c=0;c<5;c++)for(l=0;l<5;l++){var I=n[v=c+5*l],S=U[v],O=U[(c+1)%5+5*l],E=U[(c+2)%5+5*l];I.high=S.high^~O.high&E.high,I.low=S.low^~O.low&E.low}I=n[0];var P=B[a];I.high^=P.high,I.low^=P.low}},_doFinalize:function(){var t=this._data,e=t.words,n=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;e[n>>>5]|=1<<24-n%32,e[(f.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();for(var r=this._state,i=this.cfg.outputLength/8,s=i/8,a=[],c=0;c<s;c++){var u=r[c],p=u.high,l=u.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),a.push(l),a.push(p)}return new h.init(a,i)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});t.SHA3=o._createHelper(r),t.HmacSHA3=o._createHmacHelper(r)}(Math),i.SHA3)},function(t,e,n){var a;t.exports=(a=n(6),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=a,n=e.lib,o=n.WordArray,r=n.Hasher,i=e.algo,A=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),I=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),S=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),O=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),E=o.create([0,1518500249,1859775393,2400959708,2840853838]),P=o.create([1352829926,1548603684,1836072691,2053994217,0]),s=i.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var o=e+n,r=t[o];t[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i,s,a,c,u,p,l,f,h,d,g,y=this._hash.words,v=E.words,m=P.words,_=A.words,b=I.words,C=S.words,w=O.words;for(p=i=y[0],l=s=y[1],f=a=y[2],h=c=y[3],d=u=y[4],n=0;n<80;n+=1)g=i+t[e+_[n]]|0,g+=n<16?D(s,a,c)+v[0]:n<32?x(s,a,c)+v[1]:n<48?B(s,a,c)+v[2]:n<64?U(s,a,c)+v[3]:R(s,a,c)+v[4],g=(g=L(g|=0,C[n]))+u|0,i=u,u=c,c=L(a,10),a=s,s=g,g=p+t[e+b[n]]|0,g+=n<16?R(l,f,h)+m[0]:n<32?U(l,f,h)+m[1]:n<48?B(l,f,h)+m[2]:n<64?x(l,f,h)+m[3]:D(l,f,h)+m[4],g=(g=L(g|=0,w[n]))+d|0,p=d,d=h,h=L(f,10),f=l,l=g;g=y[1]+a+h|0,y[1]=y[2]+c+d|0,y[2]=y[3]+u+p|0,y[3]=y[4]+i+l|0,y[4]=y[0]+s+f|0,y[0]=g},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;e[o>>>5]|=128<<24-o%32,e[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var r=this._hash,i=r.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function D(t,e,n){return t^e^n}function x(t,e,n){return t&e|~t&n}function B(t,e,n){return(t|~e)^n}function U(t,e,n){return t&n|e&~n}function R(t,e,n){return t^(e|~n)}function L(t,e){return t<<e|t>>>32-e}e.RIPEMD160=r._createHelper(s),e.HmacRIPEMD160=r._createHmacHelper(s)}(Math),a.RIPEMD160)},function(t,e,n){var o,r,i,s,v,a,c,m,u;t.exports=(o=n(6),n(215),n(49),i=(r=o).lib,s=i.Base,v=i.WordArray,a=r.algo,c=a.SHA1,m=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,o=m.create(n.hasher,t),r=v.create(),i=v.create([1]),s=r.words,a=i.words,c=n.keySize,u=n.iterations;s.length<c;){var p=o.update(e).finalize(i);o.reset();for(var l=p.words,f=l.length,h=p,d=1;d<u;d++){h=o.finalize(h),o.reset();for(var g=h.words,y=0;y<f;y++)l[y]^=g[y]}r.concat(p),a[0]++}return r.sigBytes=4*c,r}}),r.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)},o.PBKDF2)},function(t,e,n){var o;t.exports=(o=n(6),n(19),o.mode.CFB=function(){var t=o.lib.BlockCipherMode.extend();function i(t,e,n,o){var r=this._iv;if(r){var i=r.slice(0);this._iv=void 0}else i=this._prevBlock;o.encryptBlock(i,0);for(var s=0;s<n;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;i.call(this,t,e,o,n),this._prevBlock=t.slice(e,e+o)}}),t.Decryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,r=t.slice(e,e+o);i.call(this,t,e,o,n),this._prevBlock=r}}),t}(),o.mode.CFB)},function(t,e,n){var o,r,i;t.exports=(o=n(6),n(19),o.mode.CTR=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,r=this._iv,i=this._counter;r&&(i=this._counter=r.slice(0),this._iv=void 0);var s=i.slice(0);n.encryptBlock(s,0),i[o-1]=i[o-1]+1|0;for(var a=0;a<o;a++)t[e+a]^=s[a]}}),r.Decryptor=i,r),o.mode.CTR)},function(t,e,n){var o;t.exports=(o=n(6),n(19),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
o.mode.CTRGladman=function(){var t=o.lib.BlockCipherMode.extend();function u(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,o=255&t;255===e?(e=0,255===n?(n=0,255===o?o=0:++o):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=o}else t+=1<<24;return t}var e=t.Encryptor=t.extend({processBlock:function(t,e){var n,o=this._cipher,r=o.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),0===((n=s)[0]=u(n[0]))&&(n[1]=u(n[1]));var a=s.slice(0);o.encryptBlock(a,0);for(var c=0;c<r;c++)t[e+c]^=a[c]}});return t.Decryptor=e,t}(),o.mode.CTRGladman)},function(t,e,n){var o,r,i;t.exports=(o=n(6),n(19),o.mode.OFB=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,r=this._iv,i=this._keystream;r&&(i=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var s=0;s<o;s++)t[e+s]^=i[s]}}),r.Decryptor=i,r),o.mode.OFB)},function(t,e,n){var o,r;t.exports=(o=n(6),n(19),o.mode.ECB=((r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),o.mode.ECB)},function(t,e,n){var o;t.exports=(o=n(6),n(19),o.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,o=4*e,r=o-n%o,i=n+r-1;t.clamp(),t.words[i>>>2]|=r<<24-i%4*8,t.sigBytes+=r},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.pad.Ansix923)},function(t,e,n){var r;t.exports=(r=n(6),n(19),r.pad.Iso10126={pad:function(t,e){var n=4*e,o=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso10126)},function(t,e,n){var o;t.exports=(o=n(6),n(19),o.pad.Iso97971={pad:function(t,e){t.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(t,e)},unpad:function(t){o.pad.ZeroPadding.unpad(t),t.sigBytes--}},o.pad.Iso97971)},function(t,e,n){var o;t.exports=(o=n(6),n(19),o.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},o.pad.ZeroPadding)},function(t,e,n){var o;t.exports=(o=n(6),n(19),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)},function(t,e,n){var o,r,i,s;t.exports=(o=n(6),n(19),i=(r=o).lib.CipherParams,s=r.enc.Hex,r.format.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return i.create({ciphertext:e})}},o.format.Hex)},function(t,e,n){var r;t.exports=(r=n(6),n(43),n(66),n(86),n(19),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,u=[],p=[],l=[],f=[],h=[],d=[],g=[],y=[],v=[],m=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,o=0;for(e=0;e<256;e++){var r=o^o<<1^o<<2^o<<3^o<<4;r=r>>>8^255&r^99,u[n]=r;var i=t[p[r]=n],s=t[i],a=t[s],c=257*t[r]^16843008*r;l[n]=c<<24|c>>>8,f[n]=c<<16|c>>>16,h[n]=c<<8|c>>>24,d[n]=c,c=16843009*a^65537*s^257*i^16843008*n,g[r]=c<<24|c>>>8,y[r]=c<<16|c>>>16,v[r]=c<<8|c>>>24,m[r]=c,n?(n=i^t[t[t[a^i]]],o^=t[t[o]]):n=o=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],o=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,o=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],i=0;i<o;i++)if(i<n)r[i]=e[i];else{var s=r[i-1];i%n?6<n&&i%n==4&&(s=u[s>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s]):(s=u[(s=s<<8|s>>>24)>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s],s^=_[i/n|0]<<24),r[i]=r[i-n]^s}for(var a=this._invKeySchedule=[],c=0;c<o;c++)i=o-c,s=c%4?r[i]:r[i-4],a[c]=c<4||i<=4?s:g[u[s>>>24]]^y[u[s>>>16&255]]^v[u[s>>>8&255]]^m[u[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,l,f,h,d,u)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,g,y,v,m,p),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,o,r,i,s,a){for(var c=this._nRounds,u=t[e]^n[0],p=t[e+1]^n[1],l=t[e+2]^n[2],f=t[e+3]^n[3],h=4,d=1;d<c;d++){var g=o[u>>>24]^r[p>>>16&255]^i[l>>>8&255]^s[255&f]^n[h++],y=o[p>>>24]^r[l>>>16&255]^i[f>>>8&255]^s[255&u]^n[h++],v=o[l>>>24]^r[f>>>16&255]^i[u>>>8&255]^s[255&p]^n[h++],m=o[f>>>24]^r[u>>>16&255]^i[p>>>8&255]^s[255&l]^n[h++];u=g,p=y,l=v,f=m}g=(a[u>>>24]<<24|a[p>>>16&255]<<16|a[l>>>8&255]<<8|a[255&f])^n[h++],y=(a[p>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[255&u])^n[h++],v=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[u>>>8&255]<<8|a[255&p])^n[h++],m=(a[f>>>24]<<24|a[u>>>16&255]<<16|a[p>>>8&255]<<8|a[255&l])^n[h++],t[e]=g,t[e+1]=y,t[e+2]=v,t[e+3]=m},keySize:8});t.AES=e._createHelper(o)}(),r.AES)},function(t,e,n){var a;t.exports=(a=n(6),n(43),n(66),n(86),n(19),function(){var t=a,e=t.lib,n=e.WordArray,o=e.BlockCipher,r=t.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],i=r.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var o=u[n]-1;e[n]=t[o>>>5]>>>31-o%32&1}for(var r=this._subKeys=[],i=0;i<16;i++){var s=r[i]=[],a=l[i];for(n=0;n<24;n++)s[n/6|0]|=e[(p[n]-1+a)%28]<<31-n%6,s[4+(n/6|0)]|=e[28+(p[n+24]-1+a)%28]<<31-n%6;for(s[0]=s[0]<<1|s[0]>>>31,n=1;n<7;n++)s[n]=s[n]>>>4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}var c=this._invSubKeys=[];for(n=0;n<16;n++)c[n]=r[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),d.call(this,1,1431655765);for(var o=0;o<16;o++){for(var r=n[o],i=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=f[c][((s^r[c])&h[c])>>>0];this._lBlock=s,this._rBlock=i^a}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,d.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function g(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=o._createHelper(i);var s=r.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=i.createEncryptor(n.create(t.slice(0,2))),this._des2=i.createEncryptor(n.create(t.slice(2,4))),this._des3=i.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(s)}(),a.TripleDES)},function(t,e,n){var s;t.exports=(s=n(6),n(43),n(66),n(86),n(19),function(){var t=s,e=t.lib.StreamCipher,n=t.algo,o=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,o=this._S=[],r=0;r<256;r++)o[r]=r;for(var i=r=0;r<256;r++){var s=r%n,a=e[s>>>2]>>>24-s%4*8&255;i=(i+o[r]+a)%256;var c=o[r];o[r]=o[i],o[i]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var t=this._S,e=this._i,n=this._j,o=0,r=0;r<4;r++){n=(n+t[e=(e+1)%256])%256;var i=t[e];t[e]=t[n],t[n]=i,o|=t[(t[e]+t[n])%256]<<24-8*r}return this._i=e,this._j=n,o}t.RC4=e._createHelper(o);var i=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;0<t;t--)r.call(this)}});t.RC4Drop=e._createHelper(i)}(),s.RC4)},function(t,e,n){var i;t.exports=(i=n(6),n(43),n(66),n(86),n(19),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,r=[],c=[],u=[],o=n.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(n=this._b=0;n<4;n++)f.call(this);for(n=0;n<8;n++)r[n]^=o[n+4&7];if(e){var i=e.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=c>>>16|4294901760&u,l=u<<16|65535&c;for(r[0]^=c,r[1]^=p,r[2]^=u,r[3]^=l,r[4]^=c,r[5]^=p,r[6]^=u,r[7]^=l,n=0;n<4;n++)f.call(this)}},_doProcessBlock:function(t,e){var n=this._X;f.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),t[e+o]^=r[o]},blockSize:4,ivSize:2});function f(){for(var t=this._X,e=this._C,n=0;n<8;n++)c[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<c[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<c[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<c[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<c[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<c[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<c[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<c[6]>>>0?1:0)|0,this._b=e[7]>>>0<c[7]>>>0?1:0,n=0;n<8;n++){var o=t[n]+e[n],r=65535&o,i=o>>>16,s=((r*r>>>17)+r*i>>>15)+i*i,a=((4294901760&o)*o|0)+((65535&o)*o|0);u[n]=s^a}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}t.Rabbit=e._createHelper(o)}(),i.Rabbit)},function(t,e,n){var i;t.exports=(i=n(6),n(43),n(66),n(86),n(19),function(){var t=i,e=t.lib.StreamCipher,n=t.algo,r=[],c=[],u=[],o=n.RabbitLegacy=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],r=this._b=0;r<4;r++)f.call(this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(e){var i=e.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),p=c>>>16|4294901760&u,l=u<<16|65535&c;for(o[0]^=c,o[1]^=p,o[2]^=u,o[3]^=l,o[4]^=c,o[5]^=p,o[6]^=u,o[7]^=l,r=0;r<4;r++)f.call(this)}},_doProcessBlock:function(t,e){var n=this._X;f.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),t[e+o]^=r[o]},blockSize:4,ivSize:2});function f(){for(var t=this._X,e=this._C,n=0;n<8;n++)c[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<c[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<c[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<c[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<c[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<c[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<c[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<c[6]>>>0?1:0)|0,this._b=e[7]>>>0<c[7]>>>0?1:0,n=0;n<8;n++){var o=t[n]+e[n],r=65535&o,i=o>>>16,s=((r*r>>>17)+r*i>>>15)+i*i,a=((4294901760&o)*o|0)+((65535&o)*o|0);u[n]=s^a}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}t.RabbitLegacy=e._createHelper(o)}(),i.RabbitLegacy)},function(t,e,n){var o={"./Index":226,"./Index.ts":226,"./MainFlow":132,"./MainFlow.ts":132,"./actions/Action":16,"./actions/Action.ts":16,"./actions/ActionFactory":92,"./actions/ActionFactory.ts":92,"./actions/ActionInterface":178,"./actions/ActionInterface.ts":178,"./actions/ActionModule":10,"./actions/ActionModule.ts":10,"./actions/ActionModuleInterface":179,"./actions/ActionModuleInterface.ts":179,"./actions/Index":180,"./actions/Index.ts":180,"./actions/actions/Banner":93,"./actions/actions/Banner.ts":93,"./actions/actions/Inline":96,"./actions/actions/Inline.ts":96,"./actions/actions/InsightsRecommendation":102,"./actions/actions/InsightsRecommendation.ts":102,"./actions/actions/JavascriptCall":99,"./actions/actions/JavascriptCall.ts":99,"./actions/actions/Messaging":101,"./actions/actions/Messaging.ts":101,"./actions/actions/Modal":95,"./actions/actions/Modal.ts":95,"./actions/actions/Newsletter":100,"./actions/actions/Newsletter.ts":100,"./actions/actions/Paywall":97,"./actions/actions/Paywall.ts":97,"./actions/actions/SmallInfoBox":98,"./actions/actions/SmallInfoBox.ts":98,"./actions/actions/maskContent/MaskContentAction":76,"./actions/actions/maskContent/MaskContentAction.ts":76,"./actions/actions/maskContent/MaskContentActionInterface":181,"./actions/actions/maskContent/MaskContentActionInterface.ts":181,"./actions/actionsTriggers/ActionTrigger":68,"./actions/actionsTriggers/ActionTrigger.ts":68,"./actions/actionsTriggers/ActionTriggerDispatcher":94,"./actions/actionsTriggers/ActionTriggerDispatcher.ts":94,"./actions/actionsTriggers/ActionTriggerInterface":182,"./actions/actionsTriggers/ActionTriggerInterface.ts":182,"./actions/actionsTriggers/ActionTriggerOnArticle":60,"./actions/actionsTriggers/ActionTriggerOnArticle.ts":60,"./actions/actionsTriggers/BaseTimedTrigger":67,"./actions/actionsTriggers/BaseTimedTrigger.ts":67,"./actions/actionsTriggers/EosTrigger":113,"./actions/actionsTriggers/EosTrigger.ts":113,"./actions/actionsTriggers/HoveredTrigger":112,"./actions/actionsTriggers/HoveredTrigger.ts":112,"./actions/actionsTriggers/PublicEventTrigger":114,"./actions/actionsTriggers/PublicEventTrigger.ts":114,"./actions/actionsTriggers/ScrollDepthTrigger":115,"./actions/actionsTriggers/ScrollDepthTrigger.ts":115,"./actions/actionsTriggers/TimedTrigger":111,"./actions/actionsTriggers/TimedTrigger.ts":111,"./actions/constants/ActionTriggerType":63,"./actions/constants/ActionTriggerType.ts":63,"./actions/constants/ActionTypes":22,"./actions/constants/ActionTypes.ts":22,"./campaigns/Campaign":20,"./campaigns/Campaign.ts":20,"./campaigns/CampainInterface":183,"./campaigns/CampainInterface.ts":183,"./campaigns/Index":125,"./campaigns/Index.ts":125,"./campaigns/constants/AfterExpireActions":87,"./campaigns/constants/AfterExpireActions.ts":87,"./conversations/Conversation":64,"./conversations/Conversation.ts":64,"./conversations/ConversationInterface":227,"./conversations/ConversationInterface.ts":227,"./conversations/Index":228,"./conversations/Index.ts":228,"./conversations/constants/ExpirationTypes":199,"./conversations/constants/ExpirationTypes.ts":199,"./criteria/ConversationExpirations":198,"./criteria/ConversationExpirations.ts":198,"./criteria/Criteria":61,"./criteria/Criteria.ts":61,"./criteria/CriteriaInterface":229,"./criteria/CriteriaInterface.ts":229,"./criteria/CriteriaProvider":120,"./criteria/CriteriaProvider.ts":120,"./criteria/Expression":4,"./criteria/Expression.ts":4,"./criteria/ExpressionFactory":197,"./criteria/ExpressionFactory.ts":197,"./criteria/ExpressionInterface":230,"./criteria/ExpressionInterface.ts":230,"./criteria/Index":231,"./criteria/Index.ts":231,"./criteria/constants/CriteriaTypes":85,"./criteria/constants/CriteriaTypes.ts":85,"./criteria/constants/FlittzStatusesMap":78,"./criteria/constants/FlittzStatusesMap.ts":78,"./criteria/constants/Operator":12,"./criteria/constants/Operator.ts":12,"./criteria/expressions/ABTest":177,"./criteria/expressions/ABTest.ts":177,"./criteria/expressions/AB_Expiration":176,"./criteria/expressions/AB_Expiration.ts":176,"./criteria/expressions/AdBlock":144,"./criteria/expressions/AdBlock.ts":144,"./criteria/expressions/BlockedCookiesOrLs":174,"./criteria/expressions/BlockedCookiesOrLs.ts":174,"./criteria/expressions/BrowserDetection":168,"./criteria/expressions/BrowserDetection.ts":168,"./criteria/expressions/ConversationView":145,"./criteria/expressions/ConversationView.ts":145,"./criteria/expressions/Country":166,"./criteria/expressions/Country.ts":166,"./criteria/expressions/DayTime":164,"./criteria/expressions/DayTime.ts":164,"./criteria/expressions/DeviceType":146,"./criteria/expressions/DeviceType.ts":146,"./criteria/expressions/ExpirationFlittzStatus":147,"./criteria/expressions/ExpirationFlittzStatus.ts":147,"./criteria/expressions/ExpirationUserState":148,"./criteria/expressions/ExpirationUserState.ts":148,"./criteria/expressions/Expiration_SubscriptionExpiration":175,"./criteria/expressions/Expiration_SubscriptionExpiration.ts":175,"./criteria/expressions/EzPay":149,"./criteria/expressions/EzPay.ts":149,"./criteria/expressions/FlittzStatus":232,"./criteria/expressions/FlittzStatus.ts":232,"./criteria/expressions/FlittzUserStatus":151,"./criteria/expressions/FlittzUserStatus.ts":151,"./criteria/expressions/Geo":150,"./criteria/expressions/Geo.ts":150,"./criteria/expressions/IncognitoMode":152,"./criteria/expressions/IncognitoMode.ts":152,"./criteria/expressions/Index":127,"./criteria/expressions/Index.ts":127,"./criteria/expressions/IsEuMember":165,"./criteria/expressions/IsEuMember.ts":165,"./criteria/expressions/IsNewVisitor":161,"./criteria/expressions/IsNewVisitor.ts":161,"./criteria/expressions/Javascript":128,"./criteria/expressions/Javascript.ts":128,"./criteria/expressions/MetaKeyword":153,"./criteria/expressions/MetaKeyword.ts":153,"./criteria/expressions/MeterView":154,"./criteria/expressions/MeterView.ts":154,"./criteria/expressions/NewsletterReader":162,"./criteria/expressions/NewsletterReader.ts":162,"./criteria/expressions/NewsletterSession":163,"./criteria/expressions/NewsletterSession.ts":163,"./criteria/expressions/PromiseEx":156,"./criteria/expressions/PromiseEx.ts":156,"./criteria/expressions/Register":155,"./criteria/expressions/Register.ts":155,"./criteria/expressions/RegistrationWalls":173,"./criteria/expressions/RegistrationWalls.ts":173,"./criteria/expressions/SubscriptionExpiration":116,"./criteria/expressions/SubscriptionExpiration.ts":116,"./criteria/expressions/Time":157,"./criteria/expressions/Time.ts":157,"./criteria/expressions/UrlMask":158,"./criteria/expressions/UrlMask.ts":158,"./criteria/expressions/UrlParam":159,"./criteria/expressions/UrlParam.ts":159,"./criteria/expressions/UserState":160,"./criteria/expressions/UserState.ts":160,"./criteria/expressions/VisitsLastDays":169,"./criteria/expressions/VisitsLastDays.ts":169,"./criteria/expressions/customs/UserAgentAccess":167,"./criteria/expressions/customs/UserAgentAccess.ts":167,"./criteria/expressions/g2iInsight/EngagementRate":170,"./criteria/expressions/g2iInsight/EngagementRate.ts":170,"./criteria/expressions/g2iInsight/EngagementRatePercentile":171,"./criteria/expressions/g2iInsight/EngagementRatePercentile.ts":171,"./criteria/expressions/g2iInsight/G2iExpression":79,"./criteria/expressions/g2iInsight/G2iExpression.ts":79,"./criteria/expressions/g2iInsight/UserInterests":172,"./criteria/expressions/g2iInsight/UserInterests.ts":172,"./criteria/qualifier/Qualifier":77,"./criteria/qualifier/Qualifier.ts":77,"./meters/Index":233,"./meters/Index.ts":233,"./meters/Meter":117,"./meters/Meter.ts":117,"./meters/MeterInterface":234,"./meters/MeterInterface.ts":234},r={4:9,10:9,12:9,16:9,20:9,22:9,60:9,61:9,63:9,64:9,67:9,68:9,76:9,77:9,78:9,79:9,85:9,87:9,92:9,93:9,94:9,95:9,96:9,97:9,98:9,99:9,100:9,101:9,102:9,111:9,112:9,113:9,114:9,115:9,116:9,117:9,120:9,125:9,127:9,128:9,132:9,144:9,145:9,146:9,147:9,148:9,149:9,150:9,151:9,152:9,153:9,154:9,155:9,156:9,157:9,158:9,159:9,160:9,161:9,162:9,163:9,164:9,165:9,166:9,167:9,168:9,169:9,170:9,171:9,172:9,173:9,174:9,175:9,176:9,177:9,178:7,179:7,180:7,181:7,182:7,183:7,197:9,198:9,199:9,226:7,227:7,228:9,229:7,230:7,231:7,232:9,233:9,234:7};function i(t){return s(t).then(function(t){return n.t(t,r[t])})}function s(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(o)},i.resolve=s,i.id=301,t.exports=i},function(t,e,n){(function(t,d){!function(n,o){"use strict";if(!n.setImmediate){var r,i,e,s,t,a=1,c={},u=!1,p=n.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(n);l=l&&l.setTimeout?l:n,r="[object process]"==={}.toString.call(n.process)?function(t){d.nextTick(function(){h(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(s="setImmediate$"+Math.random()+"$",t=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(s)&&h(+t.data.slice(s.length))},n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),function(t){n.postMessage(s+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){e.port2.postMessage(t)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,function(t){var e=p.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(h,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[a]=o,r(a),a++},l.clearImmediate=f}function f(t){delete c[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(o,n)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(24),n(224))},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),r=n(206),i=n(218),s=n(205),a=n(141),c=function(){function t(t){var e=this;this.Actions=[],this.ExpirationSettings=[],this.Filters=[],this.Properties=new a.a(null),t&&(Object(o.each)(t.Actions,function(t){e.Actions.push(new i.a(t))}),this.Id=t.Id,this.Name=t.Name,this.MeterLevelId=t.MeterLevelId,this.CampaignId=t.CampaignId,this.Order=t.Order,Object(o.each)(t.ExpirationSettings,function(t){e.ExpirationSettings.push(new s.a(t))}),Object(o.each)(t.Filters,function(t){e.Filters.push(new r.a(t))}),this.Properties=new a.a(t.Properties),this.Options=t.Options)}return t.prototype.getProperties=function(){return this.Properties},t}()},function(t,e,n){var o={"./Campaign":20,"./Campaign.ts":20,"./CampainInterface":183,"./CampainInterface.ts":183,"./Index":125,"./Index.ts":125,"./constants/AfterExpireActions":87,"./constants/AfterExpireActions.ts":87},r={20:9,87:9,125:9,183:7};function i(t){return s(t).then(function(t){return n.t(t,r[t])})}function s(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(o)},i.resolve=s,i.id=304,t.exports=i},function(t,e,n){var o={"./Action":16,"./Action.ts":16,"./ActionFactory":92,"./ActionFactory.ts":92,"./ActionInterface":178,"./ActionInterface.ts":178,"./ActionModule":10,"./ActionModule.ts":10,"./ActionModuleInterface":179,"./ActionModuleInterface.ts":179,"./Index":180,"./Index.ts":180,"./actions/Banner":93,"./actions/Banner.ts":93,"./actions/Inline":96,"./actions/Inline.ts":96,"./actions/InsightsRecommendation":102,"./actions/InsightsRecommendation.ts":102,"./actions/JavascriptCall":99,"./actions/JavascriptCall.ts":99,"./actions/Messaging":101,"./actions/Messaging.ts":101,"./actions/Modal":95,"./actions/Modal.ts":95,"./actions/Newsletter":100,"./actions/Newsletter.ts":100,"./actions/Paywall":97,"./actions/Paywall.ts":97,"./actions/SmallInfoBox":98,"./actions/SmallInfoBox.ts":98,"./actions/maskContent/MaskContentAction":76,"./actions/maskContent/MaskContentAction.ts":76,"./actions/maskContent/MaskContentActionInterface":181,"./actions/maskContent/MaskContentActionInterface.ts":181,"./actionsTriggers/ActionTrigger":68,"./actionsTriggers/ActionTrigger.ts":68,"./actionsTriggers/ActionTriggerDispatcher":94,"./actionsTriggers/ActionTriggerDispatcher.ts":94,"./actionsTriggers/ActionTriggerInterface":182,"./actionsTriggers/ActionTriggerInterface.ts":182,"./actionsTriggers/ActionTriggerOnArticle":60,"./actionsTriggers/ActionTriggerOnArticle.ts":60,"./actionsTriggers/BaseTimedTrigger":67,"./actionsTriggers/BaseTimedTrigger.ts":67,"./actionsTriggers/EosTrigger":113,"./actionsTriggers/EosTrigger.ts":113,"./actionsTriggers/HoveredTrigger":112,"./actionsTriggers/HoveredTrigger.ts":112,"./actionsTriggers/PublicEventTrigger":114,"./actionsTriggers/PublicEventTrigger.ts":114,"./actionsTriggers/ScrollDepthTrigger":115,"./actionsTriggers/ScrollDepthTrigger.ts":115,"./actionsTriggers/TimedTrigger":111,"./actionsTriggers/TimedTrigger.ts":111,"./constants/ActionTriggerType":63,"./constants/ActionTriggerType.ts":63,"./constants/ActionTypes":22,"./constants/ActionTypes.ts":22},r={10:9,16:9,22:9,60:9,63:9,67:9,68:9,76:9,92:9,93:9,94:9,95:9,96:9,97:9,98:9,99:9,100:9,101:9,102:9,111:9,112:9,113:9,114:9,115:9,178:7,179:7,180:7,181:7,182:7};function i(t){return s(t).then(function(t){return n.t(t,r[t])})}function s(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(o)},i.resolve=s,i.id=305,t.exports=i},function(t,e,n){var o={"./Auth0AuthSystem":139,"./Auth0AuthSystem.ts":139};function r(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=306,t.exports=r},function(t,e,n){var o={"./CustomAuthSystem":236,"./CustomAuthSystem.ts":236};function r(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=307,t.exports=r},function(t,e,n){var o={"./JanrainAuthSystem":203,"./JanrainAuthSystem.ts":203,"./JanrainCustomAuthSystem":245,"./JanrainCustomAuthSystem.ts":245};function r(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=308,t.exports=r},function(t,e,n){var o={"./MG2AuthSystem":135,"./MG2AuthSystem.ts":135};function r(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=309,t.exports=r},function(t,e,n){var o={"./NewzwareAuthSystem":136,"./NewzwareAuthSystem.ts":136};function r(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.resolve=i,r.id=310,t.exports=r},function(t,e,n){var o={"./Activation":237,"./Activation.ts":237,"./ActivationConstants":35,"./ActivationConstants.ts":35,"./ActivationInterface":243,"./ActivationInterface.ts":243,"./ActivationStep":82,"./ActivationStep.ts":82,"./ActivationSubStep":81,"./ActivationSubStep.ts":81,"./classes/DigitalAccess":121,"./classes/DigitalAccess.ts":121,"./classes/LinkAccountService":57,"./classes/LinkAccountService.ts":57,"./models/ActivateBy":108,"./models/ActivateBy/":108,"./models/ActivateBy/AccountNumberModel":186,"./models/ActivateBy/AccountNumberModel.ts":186,"./models/ActivateBy/ActivateBy":38,"./models/ActivateBy/ActivateBy.ts":38,"./models/ActivateBy/ConfirmationNumberModel":187,"./models/ActivateBy/ConfirmationNumberModel.ts":187,"./models/ActivateBy/SubscriptionIdModel":188,"./models/ActivateBy/SubscriptionIdModel.ts":188,"./models/ActivateBy/ZipCodeAndHouseNumberModel":189,"./models/ActivateBy/ZipCodeAndHouseNumberModel.ts":189,"./models/ActivateBy/ZipCodeAndPhoneNumberModel":190,"./models/ActivateBy/ZipCodeAndPhoneNumberModel.ts":190,"./models/ActivateBy/index":108,"./models/ActivateBy/index.ts":108,"./models/ActivateCloseEventModel":130,"./models/ActivateCloseEventModel.ts":130,"./steps":126,"./steps/":126,"./steps/Activate/ActivateStep":106,"./steps/Activate/ActivateStep.ts":106,"./steps/Activate/ActivateStepInterface":244,"./steps/Activate/ActivateStepInterface.ts":244,"./steps/Activate/ActivateSubStep":37,"./steps/Activate/ActivateSubStep.ts":37,"./steps/Activate/substeps":107,"./steps/Activate/substeps/":107,"./steps/Activate/substeps/ActivateForm":88,"./steps/Activate/substeps/ActivateForm.ts":88,"./steps/Activate/substeps/FailActivation":73,"./steps/Activate/substeps/FailActivation.ts":73,"./steps/Activate/substeps/SubscribeLink":200,"./steps/Activate/substeps/SubscribeLink.ts":200,"./steps/Activate/substeps/SuccessActivation":109,"./steps/Activate/substeps/SuccessActivation.ts":109,"./steps/Activate/substeps/UpgradeLink":201,"./steps/Activate/substeps/UpgradeLink.ts":201,"./steps/Activate/substeps/index":107,"./steps/Activate/substeps/index.ts":107,"./steps/Authenticate/ActivationAuthenticateStep":103,"./steps/Authenticate/ActivationAuthenticateStep.ts":103,"./steps/Authenticate/ActivationAuthenticateSubStep":80,"./steps/Authenticate/ActivationAuthenticateSubStep.ts":80,"./steps/Authenticate/substeps":104,"./steps/Authenticate/substeps/":104,"./steps/Authenticate/substeps/ActivationForgotPasswordSubStep":184,"./steps/Authenticate/substeps/ActivationForgotPasswordSubStep.ts":184,"./steps/Authenticate/substeps/ActivationLoginSubStep":105,"./steps/Authenticate/substeps/ActivationLoginSubStep.ts":105,"./steps/Authenticate/substeps/ActivationRegistrationSubStep":185,"./steps/Authenticate/substeps/ActivationRegistrationSubStep.ts":185,"./steps/Authenticate/substeps/index":104,"./steps/Authenticate/substeps/index.ts":104,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionStep":129,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionStep.ts":129,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionSubStep":202,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionSubStep.ts":202,"./steps/ExpiredSubscription/substeps":110,"./steps/ExpiredSubscription/substeps/":110,"./steps/ExpiredSubscription/substeps/ActivationExpiredSubscriptionMainSubStep":191,"./steps/ExpiredSubscription/substeps/ActivationExpiredSubscriptionMainSubStep.ts":191,"./steps/ExpiredSubscription/substeps/index":110,"./steps/ExpiredSubscription/substeps/index.ts":110,"./steps/index":126,"./steps/index.ts":126},r={35:9,37:9,38:9,57:9,73:9,80:9,81:9,82:9,88:9,103:9,104:9,105:9,106:9,107:9,108:9,109:9,110:9,121:9,126:9,129:9,130:9,184:9,185:9,186:9,187:9,188:9,189:9,190:9,191:9,200:9,201:9,202:9,237:9,243:7,244:7};function i(t){return s(t).then(function(t){return n.t(t,r[t])})}function s(n){return Promise.resolve().then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(o)},i.resolve=s,i.id=311,t.exports=i},function(t,e,o){var r={"./":242,"./GoogleUser":256,"./GoogleUser.ts":256,"./SwG":143,"./SwG.ts":143,"./SwGModule":257,"./SwGModule.ts":257,"./index":242,"./index.ts":242,"./interfaces/GoogleUserInterface":258,"./interfaces/GoogleUserInterface.ts":258,"./interfaces/SwGInterface":259,"./interfaces/SwGInterface.ts":259,"./interfaces/SwGModuleInterface":260,"./interfaces/SwGModuleInterface.ts":260,"./models":209,"./models/":209,"./models/OfferModel":252,"./models/OfferModel.ts":252,"./models/SubscriptionModel":253,"./models/SubscriptionModel.ts":253,"./models/UserLoginModel":254,"./models/UserLoginModel.ts":254,"./models/UserUpdateModel":255,"./models/UserUpdateModel.ts":255,"./models/index":209,"./models/index.ts":209,"./renderers/DependencyRenderer":119,"./renderers/DependencyRenderer.ts":119,"./renderers/DependencyRendererInterface":261,"./renderers/DependencyRendererInterface.ts":261,"./renderers/SignInRenderer":193,"./renderers/SignInRenderer.ts":193,"./renderers/SubscribeRenderer":195,"./renderers/SubscribeRenderer.ts":195,"./renderers/loaders/DependencyLoader":118,"./renderers/loaders/DependencyLoader.ts":118,"./renderers/loaders/DependencyLoaderInterface":262,"./renderers/loaders/DependencyLoaderInterface.ts":262,"./renderers/loaders/SignInLoader":194,"./renderers/loaders/SignInLoader.ts":194,"./renderers/loaders/SubscribeLoader":196,"./renderers/loaders/SubscribeLoader.ts":196,"./repositories/UserRepository":89,"./repositories/UserRepository.ts":89,"./services/SignInService":69,"./services/SignInService.ts":69,"./services/SubscriptionService":192,"./services/SubscriptionService.ts":192,"./utils/defer":263,"./utils/defer.ts":263},n={69:9,89:9,118:9,119:9,143:9,192:9,193:9,194:9,195:9,196:9,209:9,242:7,252:9,253:9,254:9,255:9,256:9,257:9,258:7,259:7,260:7,261:7,262:7,263:9};function i(t){return s(t).then(function(t){return o.t(t,n[t])})}function s(n){return o.e("SwG").then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.resolve=s,i.id=312,t.exports=i},function(t,V,e){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var o=e(314),i=e(315),s=e(316);function n(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"!=typeof t)return r(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}function r(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e);return t}(t,e,n,o):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|h(e,n),r=(t=a(t,o)).write(e,n);r!==o&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?a(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function h(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return T(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(o)return T(t).length;e=(""+e).toLowerCase(),o=!0}}function d(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function g(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,o)),l.isBuffer(e))return 0===e.length?-1:y(t,e,n,o,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,o,r){var i,s=1,a=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var p=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===p?0:i-p)){if(-1===p&&(p=i),i-p+1===c)return p*s}else-1!==p&&(i-=i-p),p=-1}else for(a<n+c&&(n=a-c),i=n;0<=i;i--){for(var l=!0,f=0;f<c;f++)if(u(t,i+f)!==u(e,f)){l=!1;break}if(l)return i}return-1}function v(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?r<(o=Number(o))&&(o=r):o=r;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<o&&(o=i/2);for(var s=0;s<o;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function m(t,e,n,o){return k(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,o)}function _(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function b(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,s,a,c,u=t[r],p=null,l=239<u?4:223<u?3:191<u?2:1;if(r+l<=n)switch(l){case 1:u<128&&(p=u);break;case 2:128==(192&(i=t[r+1]))&&127<(c=(31&u)<<6|63&i)&&(p=c);break;case 3:i=t[r+1],s=t[r+2],128==(192&i)&&128==(192&s)&&2047<(c=(15&u)<<12|(63&i)<<6|63&s)&&(c<55296||57343<c)&&(p=c);break;case 4:i=t[r+1],s=t[r+2],a=t[r+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)&&c<1114112&&(p=c)}null===p?(p=65533,l=1):65535<p&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|1023&p),o.push(p),r+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",o=0;for(;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=C));return n}(o)}V.Buffer=l,V.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},V.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),V.kMaxLength=n(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return r(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return o=null,i=e,s=n,c(r=t),r<=0?a(o,r):void 0!==i?"string"==typeof s?a(o,r).fill(i,s):a(o,r).fill(i):a(o,r);var o,r,i,s},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSlow=function(t){return u(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var o=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var i=t[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(o,r),r+=i.length}return o},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?b(this,0,t):function(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return b(this,e,n);case"ascii":return w(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=V.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,o,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(r<=o&&n<=e)return 0;if(r<=o)return-1;if(n<=e)return 1;if(this===t)return 0;for(var i=(r>>>=0)-(o>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(o,r),u=t.slice(e,n),p=0;p<a;++p)if(c[p]!==u[p]){i=c[p],s=u[p];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},l.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i,s,a,c,u,p,l,f,h,d=!1;;)switch(o){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return f=e,h=n,k(T(t,(l=this).length-f),l,f,h);case"ascii":return m(this,t,e,n);case"latin1":case"binary":return m(this,t,e,n);case"base64":return c=this,u=e,p=n,k(F(t),c,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=n,k(function(t,e){for(var n,o,r,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),o=n>>8,r=n%256,i.push(r),i.push(o);return i}(t,(i=this).length-s),i,s,a);default:if(d)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),d=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function w(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function A(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function I(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||o<n)&&(n=o);for(var r="",i=e;i<n;++i)r+=L(t[i]);return r}function S(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function E(t,e,n,o,r,i){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function P(t,e,n,o){e<0&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);r<i;++r)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function D(t,e,n,o){e<0&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);r<i;++r)t[n+r]=e>>>8*(o?r:3-r)&255}function x(t,e,n,o,r,i){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,o,r){return r||x(t,0,n,4),i.write(t,e,n,o,23,4),n+4}function U(t,e,n,o,r){return r||x(t,0,n,8),i.write(t,e,n,o,52,8),n+8}l.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):o<t&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):o<e&&(e=o),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var o=this[t+--e],r=1;0<e&&(r*=256);)o+=this[t+--e]*r;return o},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var o=e,r=1,i=this[t+--o];0<o&&(r*=256);)i+=this[t+--o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||E(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||E(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);E(this,t,e,n,r-1,-r)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);E(this,t,e,n,r-1,-r)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;0<=--i&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),0<o&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r,i=o-n;if(this===t&&n<e&&e<o)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},l.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!l.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=l.isBuffer(t)?t:T(new l(t,o).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function T(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],s=0;s<o;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&i.push(239,191,189);continue}if(s+1===o){-1<(e-=3)&&i.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&i.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(t){return o.toByteArray(function(t){var e;if((t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,e(24))},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],o=e[1];return 3*(n+o)/4-o},e.toByteArray=function(t){for(var e,n=h(t),o=n[0],r=n[1],i=new f((u=o,p=r,3*(u+p)/4-p)),s=0,a=0<r?o-4:o,c=0;c<a;c+=4)e=l[t.charCodeAt(c)]<<18|l[t.charCodeAt(c+1)]<<12|l[t.charCodeAt(c+2)]<<6|l[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=255&e;var u,p;2===r&&(e=l[t.charCodeAt(c)]<<2|l[t.charCodeAt(c+1)]>>4,i[s++]=255&e);1===r&&(e=l[t.charCodeAt(c)]<<10|l[t.charCodeAt(c+1)]<<4|l[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=255&e);return i},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],i=0,s=n-o;i<s;i+=16383)r.push(c(t,i,s<i+16383?s:i+16383));1===o?(e=t[n-1],r.push(a[e>>2]+a[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return r.join("")};for(var a=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=o.length;r<i;++r)a[r]=o[r],l[o.charCodeAt(r)]=r;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var o,r,i=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(a[(r=o)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return i.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,o,r){var i,s,a=8*r-o-1,c=(1<<a)-1,u=c>>1,p=-7,l=n?r-1:0,f=n?-1:1,h=t[e+l];for(l+=f,i=h&(1<<-p)-1,h>>=-p,p+=a;0<p;i=256*i+t[e+l],l+=f,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=o;0<p;s=256*s+t[e+l],l+=f,p-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,o),i-=u}return(h?-1:1)*s*Math.pow(2,i-o)},e.write=function(t,e,n,o,r,i){var s,a,c,u=8*i-r-1,p=(1<<u)-1,l=p>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:i-1,d=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+l?f/c:f*Math.pow(2,1-l))*c&&(s++,c/=2),p<=s+l?(a=0,s=p):1<=s+l?(a=(e*c-1)*Math.pow(2,r),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,r),s=0));8<=r;t[n+h]=255&a,h+=d,a/=256,r-=8);for(s=s<<r|a,u+=r;0<u;t[n+h]=255&s,h+=d,s/=256,u-=8);t[n+h-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"PublicEvent",function(){return Zp}),n.d(o,"CustomTrackedEvent",function(){return Xp}),n.d(o,"OnAuthorized",function(){return ci}),n.d(o,"OnHasAccess",function(){return pi}),n.d(o,"OnHasAccessNotEntitled",function(){return fi}),n.d(o,"OnHasNoActiveSubscription",function(){return di}),n.d(o,"OnLoggedIn",function(){return yi}),n.d(o,"OnNotAuthorized",function(){return mi}),n.d(o,"OnActivationAccountCreated",function(){return fs}),n.d(o,"OnAccessDenied",function(){return Ds}),n.d(o,"OnAccessGranted",function(){return Rs}),n.d(o,"OnAccessTemplateClosed",function(){return Ts}),n.d(o,"OnAccessTemplateShown",function(){return ks}),n.d(o,"OnAdblockFound",function(){return js}),n.d(o,"OnCampaignFound",function(){return Zs}),n.d(o,"OnConversationDetermined",function(){return Xs}),n.d(o,"OnConversationExpired",function(){return Js}),n.d(o,"OnDynamicMeterFound",function(){return Ks}),n.d(o,"OnFinish",function(){return qs}),n.d(o,"OnInit",function(){return ta}),n.d(o,"OnMeterLevelSet",function(){return ra}),n.d(o,"OnRun",function(){return sa}),n.d(o,"OnActionNotFound",function(){return ca}),n.d(o,"OnConversationNotFound",function(){return pa}),n.d(o,"OnLoadError",function(){return fa}),n.d(o,"OnViewsAutoReset",function(){return da}),n.d(o,"OnABCookieSet",function(){return ya}),n.d(o,"OnABCookieFail",function(){return ma}),n.d(o,"OnChangedDeviceId",function(){return ba}),n.d(o,"OnNxtError",function(){return Aa}),n.d(o,"OnLoginClosed",function(){return Ea}),n.d(o,"OnLoginError",function(){return Da}),n.d(o,"OnLoginShown",function(){return Ba}),n.d(o,"OnLoginSuccess",function(){return Ra}),n.d(o,"OnNewsletterArrival",function(){return ka}),n.d(o,"OnNewsletterSignUp",function(){return Na}),n.d(o,"OnNewsletterSignUpFails",function(){return ja}),n.d(o,"OnRegistrationClosed",function(){return Xa}),n.d(o,"OnRegistrationError",function(){return Ja}),n.d(o,"OnRegistrationShown",function(){return Ka}),n.d(o,"OnRegistrationSuccessLogin",function(){return za}),n.d(o,"OnRegistrationSuccessRegister",function(){return $a}),n.d(o,"OnInnerAuthorized",function(){return ac}),n.d(o,"OnInnerHasAccess",function(){return uc}),n.d(o,"OnInnerHasAccessNotEntitled",function(){return lc}),n.d(o,"OnInnerHasNoActiveSubscription",function(){return hc}),n.d(o,"OnInnerLoggedIn",function(){return gc}),n.d(o,"OnInnerNotAuthorized",function(){return vc}),n.d(o,"OnInnerActivationAccountCreated",function(){return mu}),n.d(o,"OnInnerAccessDenied",function(){return Iu}),n.d(o,"OnInnerAccessGranted",function(){return Ou}),n.d(o,"OnInnerAccessTemplateClosed",function(){return Pu}),n.d(o,"OnInnerAccessTemplateShown",function(){return xu}),n.d(o,"OnInnerAdblockFound",function(){return Lu}),n.d(o,"OnInnerCampaignFound",function(){return Fu}),n.d(o,"OnInnerConversationDetermined",function(){return Vu}),n.d(o,"OnInnerConversationExpired",function(){return Mu}),n.d(o,"OnInnerDynamicMeterFound",function(){return Gu}),n.d(o,"OnInnerFinish",function(){return Wu}),n.d(o,"OnInnerInit",function(){return Hu}),n.d(o,"OnInnerMeterLevelSet",function(){return Yu}),n.d(o,"OnInnerRun",function(){return qu}),n.d(o,"OnInnerActionNotFound",function(){return tp}),n.d(o,"OnInnerConversationNotFound",function(){return np}),n.d(o,"OnInnerLoadError",function(){return rp}),n.d(o,"OnInnerViewsAutoReset",function(){return sp}),n.d(o,"OnInnerABCookieSet",function(){return cp}),n.d(o,"OnInnerABCookieFail",function(){return pp}),n.d(o,"OnInnerBeforeContentChanged",function(){return fp}),n.d(o,"OnInnerLoginClosed",function(){return yp}),n.d(o,"OnInnerLoginError",function(){return mp}),n.d(o,"OnInnerLoginShown",function(){return bp}),n.d(o,"OnInnerLoginSuccess",function(){return wp}),n.d(o,"OnInnerNewsletterArrival",function(){return Op}),n.d(o,"OnInnerNewsletterSignUp",function(){return Pp}),n.d(o,"OnInnerNewsletterSignUpFails",function(){return xp}),n.d(o,"OnInnerRegistrationClosed",function(){return Lp}),n.d(o,"OnInnerRegistrationError",function(){return Fp}),n.d(o,"OnInnerRegistrationShown",function(){return Vp}),n.d(o,"OnInnerRegistrationSuccessLogin",function(){return Mp}),n.d(o,"OnInnerRegistrationSuccessRegister",function(){return Gp}),n.d(o,"OnFlittzButtonClick",function(){return Ii}),n.d(o,"OnFlittzPaywallClosed",function(){return Oi}),n.d(o,"OnFlittzPaywallShown",function(){return Pi}),n.d(o,"OnNewsdayButtonClick",function(){return xi}),n.d(o,"OnActionClosed",function(){return Ti}),n.d(o,"OnActionShown",function(){return ki}),n.d(o,"OnButtonClick",function(){return Mi}),n.d(o,"OnPaywallShown",function(){return Gi}),n.d(o,"OnJsCallFired",function(){return Wi}),n.d(o,"OnActivationFormClosed",function(){return Yi}),n.d(o,"OnActivationLinkErrorStepClosed",function(){return qi}),n.d(o,"OnActivationLinkStepClosed",function(){return ts}),n.d(o,"OnActivationLinkSuccessStepClosed",function(){return ns}),n.d(o,"OnActivationLoginStepClosed",function(){return rs}),n.d(o,"OnActivationFormShown",function(){return ss}),n.d(o,"OnActivationLinkStepShown",function(){return cs}),n.d(o,"OnActivationLoginStepShown",function(){return ps}),n.d(o,"OnActivationLinkErrorStepShown",function(){return ys}),n.d(o,"OnActivationLinkStepSubmitted",function(){return ms}),n.d(o,"OnActivationLinkSuccessStepShown",function(){return bs}),n.d(o,"OnInnerFlittzButtonClick",function(){return Ac}),n.d(o,"OnInnerFlittzPaywallClosed",function(){return Sc}),n.d(o,"OnInnerFlittzPaywallShown",function(){return Ec}),n.d(o,"OnInnerNewsdayButtonClick",function(){return Dc}),n.d(o,"OnInnerActionClosed",function(){return Rc}),n.d(o,"OnInnerActionShown",function(){return Tc}),n.d(o,"OnInnerButtonClick",function(){return Vc}),n.d(o,"OnInnerPaywallShown",function(){return Mc}),n.d(o,"OnInnerJsCallFired",function(){return Gc}),n.d(o,"OnInnerActivationLinkErrorStepShown",function(){return Qc}),n.d(o,"OnInnerActivationLinkStepSubmitted",function(){return Yc}),n.d(o,"OnInnerActivationLinkSuccessStepShown",function(){return qc}),n.d(o,"OnInnerActivationFormClosed",function(){return nu}),n.d(o,"OnInnerActivationLinkErrorStepClosed",function(){return ru}),n.d(o,"OnInnerActivationLinkStepClosed",function(){return su}),n.d(o,"OnInnerActivationLinkSuccessStepClosed",function(){return cu}),n.d(o,"OnInnerActivationLoginStepClosed",function(){return pu}),n.d(o,"OnInnerActivationFormShown",function(){return fu}),n.d(o,"OnInnerActivationLinkStepShown",function(){return du}),n.d(o,"OnInnerActivationLoginStepShown",function(){return yu});n(267),n(268),n(269),n(270),n(271);var r,i,s,a,c,u,p,l,f,h,d,g,y,v,m,_,b,C,w,A,I,S,O,E,P,D,x,B,U,R,L,T,F,k,V,N,M,j,G,Z,W,X,H,J,Q,K,Y,z,q,$,tt,et,nt,ot,rt,it,st,at,ct,ut,pt,lt,ft,ht,dt,gt,yt,vt,mt,_t,bt,Ct,wt,At,It,St,Ot,Et,Pt,Dt,xt,Bt,Ut,Rt,Lt,Tt,Ft,kt,Vt,Nt,Mt,jt,Gt,Zt,Wt,Xt,Ht,Jt,Qt,Kt,Yt,zt,qt,$t,te,ee,ne,oe,re,ie,se,ae,ce,ue,pe,le,fe,he,de,ge,ye,ve,me,_e,be,Ce,we,Ae,Ie,Se,Oe,Ee,Pe,De,xe,Be,Ue,Re,Le,Te,Fe,ke,Ve,Ne,Me,je,Ge,Ze,We,Xe,He,Je,Qe,Ke,Ye,ze,qe,$e,tn,en,nn,on,rn,sn,an,cn,un,pn,ln,fn,hn,dn,gn,yn,vn,mn,_n,bn,Cn,wn,An,In,Sn,On,En,Pn,Dn,xn,Bn,Un,Rn,Ln,Tn=n(8),Fn=n(74),kn=n(44),Vn=n(7),Nn=n(326),Mn=n(331),jn=function(){function t(){}return t.prototype.GetCurrentConversationViewCount=function(){return Tn.a.getCurrentConversationViewCount()},t.prototype.GetCurrentDynamicMeterViewCount=function(){return Tn.a.getCurrentDynamicMeterViewCount()},t.prototype.GetLastPublishDate=function(){return Fn.a.getPublishDate()},t.prototype.GetSiteCode=function(){return kn.a.getSiteCode()},t.prototype.GetConfigCode=function(){return kn.a.getConfigCode()},t.prototype.GetCurrentConversations=function(){return Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations()},t.prototype.GetCurrentConversation=function(){return Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation()},t.prototype.GetCurrentMeterLevel=function(){return Nn.a.get(Mn.a.Meter).Id},t.prototype.GetRegistrationType=function(){return Fn.a.getRegistrationType()},t.prototype.GetViewedArticles=function(){var t=Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation();return t&&Tn.a.getViewedArticles(t.Id)||[]},t.prototype.GetArticlesLeft=function(){return Nn.a.get(Mn.a.CampaignInstance).getCurrentConversationType().properties.getFreeViewsLeft()},t.prototype.GetUserState=function(){return Vn.a.getUserState()},t.prototype.GetActualZipCodes=function(){return Vn.a.getUserZipCodes()},t.prototype.GetUserZipCodes=function(){return Vn.a.getLoginUserZipCodes()},t.prototype.GetUserProfile=function(){return Vn.a.getAuthProfile()},t.prototype.GetConnextPaywallCookie=function(){return Nn.a.get(Mn.a.ActionModuleInstance).getConnextPaywallFired()},t.prototype.ClearUser=function(){Vn.a.clearStorage()},t}(),Gn=n(26),Zn=n(137),Wn=n(70),Xn=n(140),Hn=n(348),Jn=n(9),Qn=n(54),Kn=function(){function t(){this.DisplayName="ConneXt",this.USER_STATES=Gn.q,this.Spinner={loaders:[],on:function(t){var e;t[0]&&(t=t[0]),e=new Hn.a(t),this.loaders.push(e),e.on()},off:function(){this.loaders.forEach(function(t){t.off()})}},this.Logger={GetSessionLogs:Zn.a.getLogHistory.bind(Zn.a),StartTracing:function(){Zn.a.setOptions({debug:!0})},StopTracing:function(){Zn.a.setOptions({debug:!0})}},this.Storage=new jn}return t.prototype.Logout=function(){Wn.a.logout()},t.prototype.OpenResetPasswordForm=function(){Wn.a.showResetPasswordForm()},t.prototype.CloseTemplates=function(){Xn.a.getInstance().closeAllTemplates()},t.prototype.GetVersionInfo=function(){return Object(Jn.r)()},t.prototype.IntegrateProduct=function(){Nn.a.get(Mn.a.ActionModuleInstance).integrateProduct()},t.prototype.GetVersion=function(){return Object(Jn.q)()},t.prototype.GetABTestCookie=function(){return Qn.a.getCookie()},t.prototype.DebugPanelOpen=function(){kn.a.setDebugMode(!0)},t.prototype.DebugPanelClose=function(){kn.a.setDebugMode(!1)},t.prototype.DebugPanelResetManualSet=function(){kn.a.resetManualDebugMode()},t}(),Yn=n(0),zn=n.n(Yn),qn=function(){function t(t){}return t.prototype.check=function(t){return t||{}},t}(),$n=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),to=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.TypeName=t.TypeName,e}return $n(t,n),t}(qn),eo=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),no=function(n){function t(t){var e=n.call(this,t)||this;return e.Segments=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.MeterLevelId=t.MeterLevelId,e.Priority=t.Order,Object(Yn.each)(t.Segments,function(t){e.Segments.push(new to(t))}),e}return eo(t,n),t}(qn),oo=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ro=function(n){function t(t){var e=n.call(this,t)||this;return e.Rules=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.Active=t.Active,Object(Yn.each)(t.Rules,function(t){e.Rules.push(new no(t))}),e}return oo(t,n),t}(qn),io=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),so=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Active=t.Active,e.CodesAreNotRequired=t.CodesAreNotRequired,e.Name=t.Name,e}return io(t,n),t}(qn),ao=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),co=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.ActionType=t.ActionType,e.ActionTypeId=t.ActionTypeId,e.Order=t.Order,e.UserDefinedData=t.What?t.What.UserDefinedData:"",e}return ao(t,n),t}(qn),uo=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),po=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Ended=t.Ended,e.Expiration=t.Expiration,e.Started=t.Started,e}return uo(t,n),t}(qn),lo=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.PaywallLimit=t.PaywallLimit,e.Views=t.Views,e.Date=new po(t.Date),e.ArticleLeft=t.ArticleLeft,e.ViewType=t.ViewType,e.PaywallInfo=t.PaywallInfo,e}return lo(t,n),t}(qn),ho=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),go=function(n){function t(t){var e=n.call(this,t)||this;return e.Actions=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Order=t.Order,Object(Yn.each)(t.Actions,function(t){e.Actions.push(new co(t))}),e.Properties=new fo(t.Properties),e}return ho(t,n),t}(qn),yo=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vo=function(n){function t(t){var e=n.call(this,t)||this;return(t=e.check(t)).Free&&(e.Free=e.setConversation(t.Free)),t.Metered&&(e.Metered=e.setConversation(t.Metered)),t.Premium&&(e.Premium=e.setConversation(t.Premium)),e}return yo(t,n),t.prototype.setConversation=function(t){var e=[];return Object(Yn.isArray)(t)?(Object(Yn.each)(t,function(t){e.push(new go(t))}),e):new go(t)},t}(qn),mo=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_o=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Conversations=new vo(t.Conversations),e}return mo(t,n),t}(qn),bo=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Co=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Active=t.Active,e.Code=t.Code,e.Name=t.Name,e}return bo(t,n),t}(qn),wo=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ao=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.SiteCode=t.Code,e.Active=t.Active,e.RegistrationTypeId=t.RegistrationTypeId,e.Client=new Co(t.Client),e}return wo(t,n),t}(qn),Io=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),So=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.LastPublishDate=t.LastPublishDate,e.DefaultProduct=t.DefaultProduct,e.DefaultMeterLevel=t.DefaultMeterLevelId,e.ReturnUrl=t.ReturnUrl,e.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,e.UseParentDomain=t.UseParentDomain,e.Site=new Ao(t.Site),e.Code=t.Code,e}return Io(t,n),t}(qn),Oo=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},Eo=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=zn.a.map(t.Groups,function(t){return new Oo(t)}),this.DefaultGroup=t.DefaultGroup)},Po=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Do=function(n){function t(t){var e=n.call(this,t)||this;return e.AllowedIPlistSets=[],t=e.check(t),e.Id=t.Id,e.ABTest=new Eo(Qn.a.getTest()),e.Campaign=new _o(t.Campaign),e.DynamicMeter=new ro(t.DynamicMeter),e.Settings=new So(Object.assign({Code:t.Code},t.Settings)),Object(Yn.each)(t.WhitelistSets,function(t){e.AllowedIPlistSets.push(new so(t))}),e}return Po(t,n),t}(qn),xo=n(344),Bo=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessLevel=new xo.a(t.AccessLevel),e.EEditionUrl=t.EEditionUrl,e.Errors=t.Errors,e.IsAuthorized=t.IsAuthorized,e.Subscription=t.Subscription,e.Success=t.Success,e}return Bo(t,n),t}(qn),Ro=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lo=function(n){function t(t){var e=n.call(this,t)||this;return e.OwnedSubscription=[],t=e.check(t),e.AuthSystem=t.AuthSystem,e.DigitalAccess=new Uo(t.DigitalAccess),e.IgmRegID=t.IgmRegID,e.NzwLid=t.NzwLid,e.MasterId=t.MasterId,e.OwnedSubscription=t.OwnedSubscription,e.DisplayName=t.DisplayName,Object(Yn.each)(t.OwnedSubscription,function(t){e.OwnedSubscription.push(t)}),e.UserToken=t.UserToken,e.CustomData=t.CustomData||null,e}return Ro(t,n),t}(qn),To=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return To(e,t),e.prototype.GetLocalConfiguration=function(){return new Do(Fn.a.getConfiguration())},e.prototype.GetCurrentConversations=function(){return new vo(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations())},e.prototype.GetCurrentConversation=function(){return new go(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation())},e.prototype.GetCampaignData=function(){return new _o(Fn.a.getCampaignData())},e.prototype.GetUserData=function(){return new Lo(Vn.a.getUserData())},e}(jn),ko=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vo=function(o){function t(t){var e=o.call(this,t)||this;t=e.check(t);var n=Nn.a.get(Mn.a.Meter);return e.Attr=t.attr,e.ConfigCode=t.configCode,e.ConfigSettings=new So(Fn.a.getConfigurationSettings()),e.CurrentMeterLevelId=n?n.Id:null,e.Debug=t.debug,e.Environment=t.environment,e.IntegrateFlittz=t.integrateFlittz,e.SettingsKey=t.settingsKey,e.Silentmode=t.silentmode,e.SiteCode=t.siteCode,e.PublicEventHandlers=t.publicEventHandlers,e}return ko(t,o),t}(qn),No=n(325),Mo=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jo=function(e){function t(){var t=e.call(this)||this;return t.DisplayName="NxtInner",t.Storage=new Fo,t}return Mo(t,e),t.prototype.GetOptions=function(){return new Vo(kn.a.getOptions())},t.prototype.GetEncryptedValue=function(t){return Zn.a.warn("This method is about to be deprecated. Recommended to stop using it"),t},t.prototype.GetDecryptedValue=function(t){return Zn.a.warn("This method is about to be deprecated. Recommended to stop using it"),t},t.prototype.SetSecuredMode=function(t){No.a.dispatch(Gn.h.StartDebugSecureMode,t)},t.prototype.GetDecryptedUserData=function(){return Vn.a.getCachedUserData()},t}(Kn),Go=function(){function t(t){}return t.prototype.check=function(t){return t||{}},t}(),Zo=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.TypeName=t.TypeName,e}return Zo(t,n),t}(Go),Xo=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ho=function(n){function t(t){var e=n.call(this,t)||this;return e.Segments=[],t=e.check(t),e.Name=t.Name,e.Description=t.Description,e.MeterLevelId=t.MeterLevelId,e.Priority=t.Order,Object(Yn.each)(t.Segments,function(t){e.Segments.push(new Wo(t))}),e}return Xo(t,n),t}(Go),Jo=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qo=function(n){function t(t){var e=n.call(this,t)||this;return e.Rules=[],t=e.check(t),e.Name=t.Name,e.Description=t.Description,e.Active=t.Active,Object(Yn.each)(t.Rules,function(t){e.Rules.push(new Ho(t))}),e}return Jo(t,n),t}(Go),Ko=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Active=t.Active,e.CodesAreNotRequired=t.CodesAreNotRequired,e.Name=t.Name,e}return Ko(t,n),t}(Go),zo=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.ActionType=t.ActionType,e.ActionTypeId=t.ActionTypeId,e.Order=t.Order,e.UserDefinedData=t.What?Array.isArray(t.What)?t.What[0].UserDefinedData:t.What.UserDefinedData:"",e}return zo(t,n),t}(Go),$o=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Ended=t.Ended,e.Expiration=t.Expiration,e.Started=t.Started,e}return $o(t,n),t}(Go),er=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.PaywallLimit=t.PaywallLimit,e.Views=t.Views,e.Date=new tr(t.Date),e.ArticleLeft=t.ArticleLeft,e.ViewType=t.ViewType,e.PaywallInfo=t.PaywallInfo,e}return er(t,n),t}(Go),or=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rr=function(n){function t(t){var e=n.call(this,t)||this;return e.Actions=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Order=t.Order,Object(Yn.each)(t.Actions,function(t){e.Actions.push(new qo(t))}),e.Properties=new nr(t.Properties),e}return or(t,n),t}(Go),ir=(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sr=function(n){function t(t){var e=n.call(this,t)||this;return(t=e.check(t)).Free&&(e.Free=e.setConversation(t.Free)),t.Metered&&(e.Metered=e.setConversation(t.Metered)),t.Premium&&(e.Premium=e.setConversation(t.Premium)),e}return ir(t,n),t.prototype.setConversation=function(t){var e=[];return Object(Yn.isArray)(t)?(Object(Yn.each)(t,function(t){e.push(new rr(t))}),e):new rr(t)},t}(Go),ar=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Name=t.Name,e.Conversations=new sr(t.Conversations),e}return ar(t,n),t}(Go),ur=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Active=t.Active,e.Code=t.Code,e.Name=t.Name,e}return ur(t,n),t}(Go),lr=(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.SiteCode=t.Code,e.Active=t.Active,e.RegistrationTypeId=t.RegistrationTypeId,e.Client=new pr(t.Client),e}return lr(t,n),t}(Go),hr=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.LastPublishDate=t.LastPublishDate,e.DefaultProduct=t.DefaultProduct,e.DefaultMeterLevel=t.DefaultMeterLevelId,e.ReturnUrl=t.ReturnUrl,e.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,e.UseParentDomain=t.UseParentDomain,e.Site=new fr(t.Site),e.Code=t.Code,e}return hr(t,n),t}(Go),gr=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},yr=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=zn.a.map(t.Groups,function(t){return new gr(t)}),this.DefaultGroup=t.DefaultGroup)},vr=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mr=function(n){function t(t){var e=n.call(this,t)||this;return e.AllowedIPlistSets=[],t=e.check(t),e.ABTest=new yr(Qn.a.getTest()),e.Campaign=new cr(t.Campaign),e.DynamicMeter=new Qo(t.DynamicMeter),e.Settings=new dr(Object.assign({Code:t.Code},t.Settings)),Object(Yn.each)(t.WhitelistSets,function(t){e.AllowedIPlistSets.push(new Yo(t))}),e}return vr(t,n),t}(Go),_r=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),br=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessLevel=new xo.a(t.AccessLevel),e.EEditionUrl=t.EEditionUrl,e.Errors=t.Errors,e.IsAuthorized=t.IsAuthorized,e.Subscription=t.Subscription,e.Success=t.Success,e}return _r(t,n),t}(Go),Cr=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wr=function(n){function t(t){var e=n.call(this,t)||this;return e.OwnedSubscriptions=[],t=e.check(t),e.AuthSystem=t.AuthSystem,t.DigitalAccess&&!t.DigitalAccess.Subscription&&(t.DigitalAccess.Subscription=t.Subscriptions?t.Subscriptions[0]:null),e.DigitalAccess=new br(t.DigitalAccess),e.IgmRegID=t.IgmRegID,e.Email=t.Email,e.NzwLid=t.NzwLid,e.MasterId=t.MasterId,e.DisplayName=t.DisplayName,Object(Yn.each)(t.Subscriptions,function(t){e.OwnedSubscriptions.push(t)}),e.UserToken=t.UserToken,e.CustomData=t.CustomData||null,e}return Cr(t,n),t}(Go),Ar=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e.prototype.GetLocalConfiguration=function(){return new mr(Fn.a.getConfiguration())},e.prototype.GetCurrentConversations=function(){return new sr(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations())},e.prototype.GetCurrentConversation=function(){return new rr(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation())},e.prototype.GetCampaignData=function(){return new cr(Fn.a.getCampaignData())},e.prototype.GetUserData=function(){return new wr(Vn.a.getUserData())},e}(jn),Sr=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Or=function(o){function t(t){var e=o.call(this,t)||this;t=e.check(t);var n=Nn.a.get(Mn.a.Meter);return e.Attr=t.attr,e.ConfigCode=t.configCode,e.ConfigSettings=new dr(Fn.a.getConfigurationSettings()),e.CurrentMeterLevelId=n?n.Id:null,e.Debug=t.debug,e.Environment=t.environment,e.IntegrateFlittz=t.integrateFlittz,e.SettingsKey=t.settingsKey,e.Silentmode=t.silentmode,e.SiteCode=t.siteCode,e.PublicEventHandlers=t.publicEventHandlers,e}return Sr(t,o),t}(Go),Er=n(249),Pr=n(25),Dr=n(13),xr=n(336),Br=n(275),Ur=n(350),Rr=n(17),Lr=new(function(){function t(){}return t.prototype.sendSnapshot=function(){return this.lastDispatchedSnapshot={ssid:xr.a.getGuid(),sessionId:kn.a.getSessionId(),snapshot:this.getSnapshot()},this.sendSnapshotToServer(this.lastDispatchedSnapshot)},t.prototype.getSnapshot=function(){return{localStorageRecords:Rr.a.getAllConnextRecords(),cookieRecords:Br.a.getAllConnextRecords(),logs:Zn.a.getLogHistory(),metadata:this.getMetaData()}},t.prototype.getLastDispatchedSnapShotName=function(){if(!this.lastDispatchedSnapshot)return null;var t=this.lastDispatchedSnapshot.snapshot.metadata.date,e=this.lastDispatchedSnapshot.sessionId,n=this.lastDispatchedSnapshot.ssid;return t.toISOString().slice(0,10)+"/"+e+"("+n+")"},t.prototype.getMetaData=function(){return{sessionId:kn.a.getSessionId(),date:Pr.a.get(),userAgent:Dr.a.getUserMeta(),userId:xr.a.getGuid(),isIncognito:"true"==xr.a.getIncognitoMode().toLowerCase(),location:xr.a.getInformationFromStorage()}},t.prototype.sendSnapshotToServer=function(t){var e=window.btoa(encodeURIComponent(JSON.stringify(t))),n=this.sendSnapshotToServer.name,o="snapshot/create";return Zn.a.log(n+" calling...",o,"data",e),Ur.a.post(o,e)},t}()),Tr=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fr=function(e){function t(){var t=e.call(this)||this;return t.DisplayName="ConneXt",Nn.a.set(Mn.a.Application,new Er.a),t.Storage=new Ir,t}return Tr(t,e),t.prototype.Run=function(t){var e=Nn.a.get(Mn.a.Application);Zn.a.log("Connext Run from public layer",e),e.run(t,!0)},t.prototype.init=function(t){Nn.a.get(Mn.a.Application).init(t)},t.prototype.GetOptions=function(){return new Or(kn.a.getOptions())},t.prototype.SnapshotLocalData=function(){return Lr.sendSnapshot(),Lr.getLastDispatchedSnapShotName()},t}(Kn),kr=n(50),Vr=n(345),Nr=n(241),Mr=n(206),jr=function(t){var e=this;this.Segments=[],t&&(this.Id=parseInt(t.Id),this.Name=t.Name,this.Description=t.Description,this.MeterLevelId=parseInt(t.MeterLevelId),this.Order=parseInt(t.Order),Object(Yn.each)(t.Segments,function(t){e.Segments.push(new Mr.a(t))}))},Gr=function(t){var e=this;this.Rules=[],t&&(this.Id=t.Id,this.Name=t.Name,this.Description=t.Description,this.Active=t.Active,Object(Yn.each)(t.Rules,function(t){e.Rules.push(new jr(t))}))},Zr=function(t){t&&(this.ResetOnDay=t.ResetOnDay,this.ResetFrequency=t.ResetFrequency,this.ResetsStartDate=t.ResetsStartDate)},Wr=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.Html=t.Html)},Xr=function(t){t&&(this.Name=t.Name,this.Value=t.Value)},Hr=function(){function t(t){this.ActionUrlsParams=[],t&&(this.DefaultMeterLevelId=t.DefaultMeterLevelId,this.LastPublishDate=t.LastPublishDate,this.DefaultProduct=t.DefaultProduct,this.ReturnUrl=t.ReturnUrl,this.PluginDebugAllowed=t.PluginDebugAllowed,this.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,this.UseParentDomain=t.UseParentDomain,this.Site=t.Site,this.ActivationForm=new Wr(t.ActivationForm),this.LoginTemplate=new Wr(t.LoginTemplate),this.CookiesPrivacyForm=new Wr(t.CookiesPrivacyForm),this.ViewsAutoResetSettings=new Zr(t.ViewsAutoResetSettings),this.RegistrationForm=new Wr(t.RegistrationForm),this.ActionUrlsParams=this.setQueryParams(t.ActionUrlsParams),this.ResetPasswordForm=new Wr(t.ResetPasswordForm))}return t.prototype.setQueryParams=function(t){var e=[];return Object(Yn.each)(t,function(t){e.push(new Xr(t))}),e},t}(),Jr=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.DataMarkup=t.DataMarkup,this.GoogleClientId=t.GoogleClientId)},Qr=n(134),Kr=function(t){t&&(this.SiteCode=t.SiteCode,this.Code=t.Code)},Yr=function(){function t(t){var e=this;this.WhitelistSets=[],this.PublishedConfigurations=[],t&&(this.Id=t.Id,this.ABTest=new Qr.a(t.ABTest),this.Name=t.Name,this.Code=t.Code,this.Active=t.Active,this.Campaign=new Nr.a(t.Campaign),this.DynamicMeter=new Gr(t.DynamicMeter),this.Settings=new Hr(t.Settings),Object(Yn.each)(t.WhitelistSets,function(t){e.WhitelistSets.push(t)}),Object(Yn.each)(t.PublishedConfigurations,function(t){return e.PublishedConfigurations.push(new Kr(t))}),this.SwG=new Jr(t.SwG),this.validateSelf(t))}return t.prototype.getRegistrationTypeId=function(){return this.Settings&&this.Settings.Site?this.Settings.Site.RegistrationTypeId:null},t.prototype.getCampaignName=function(){return this.Campaign?this.Campaign.Name:null},t.prototype.validateSelf=function(t){var e="ConfigurationPostValidation: ";this.Campaign&&!Object(Yn.isEmpty)(this.Campaign)||Zn.a.error(e+"Campaign property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.Campaign)),this.DynamicMeter&&!Object(Yn.isEmpty)(this.DynamicMeter)||Zn.a.error(e+"DynamicMeter property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.DynamicMeter)),this.Settings&&!Object(Yn.isEmpty)(this.Settings)||Zn.a.error(e+"Settings property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.Settings))},t}(),zr=n(337),qr=n(211),$r=function(){var t=Pr.a.get();this.Id=Object(Jn.g)(),this.Date=t.toISOString(),this.TimeStamp=t.getTime(),this.SessionId=kn.a.getSessionId()},ti=function(){function t(t){this.EventData=null,this.Aui=Nn.a.get(Mn.a.DeviceId)||0,this.EventInfo=new $r;var e=this.getConversationModel();e&&(this.CampaignId=e.CampaignId);var n=new Yr(Fn.a.getConfiguration());if(n){var o=n.getRegistrationTypeId();this.AuthSystem=o?Gn.a[o]:null,this.CampaignName=n.getCampaignName()}var r=Nn.a.get(Mn.a.Meter);r&&(this.MeterLevelId=r.Id,this.MeterLevelMethod=r.Method,this.MeterLevel=r.Level);var i=Vn.a.getCachedUserData();i&&(this.AuthSystem=i.AuthSystem,this.AuthProfile=i.AuthProfile),this.EventData=t}return t.prototype.getConversationModel=function(){var t=Nn.a.get(Mn.a.CurrentConversation);return t&&t.conversation?t.conversation:null},t}(),ei=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ni=function(i){function t(t){var e=i.call(this,t)||this,n=e.getConversationModel();n&&(e.Conversation=new rr(n),e.CampaignId=n.CampaignId);var o=new Yr(Fn.a.getConfiguration());o&&(e.Config=new mr(o),e.CampaignName=o.getCampaignName());var r=Vn.a.getCachedUserData();return r&&(e.MG2AccountData=new wr(r)),e.EventData=t,e}return ei(t,i),t.prototype.getAnaliticsData=function(t,e){return null},t.prototype.trackEvent=function(e,t,n){if(-1!==qr.a.indexOf(e)){var o=this.getAnaliticsData(t,n);o&&o.then&&"function"==typeof o.then?o.then(function(t){zr.a.trackEvent(e,t)}).catch(function(t){zr.a.trackEvent(e,{ex:t})}):zr.a.trackEvent(e,o)}},t.prototype.isNeedDispachInnerEvent=function(){return!0},t.prototype.isInner=function(){return!1},t.prototype.dispatchInnerEvent=function(t,e){if(this.isNeedDispachInnerEvent()){var n="onInner"+(e||this.constructor.name).substr(2);No.a.dispatch(n,t)}},t}(ti),oi=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oi(e,t),e.prototype.getGroupData=function(){return null},e.prototype.dispatchGroupEvent=function(t){No.a.dispatch(t,this.getGroupData())},e}(ni),ii=(W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),si=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={AuthSystem:t.AuthSystem,MG2AccountData:new wr(t.MG2AccountData),AuthProfile:t.AuthProfile||null},e.dispatchGroupEvent(kr.a.AnyAccountStatusEvent),e}return ii(t,n),t.prototype.getGroupData=function(){return this.EventData},t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.UserId]=this.EventData.MG2AccountData.UserId,e[Vr.a.EncryptedCustomerRegistrationId]=this.EventData.MG2AccountData.IgmRegID,e[Vr.a.AuthSystem]=this.EventData.AuthSystem,e[Vr.a.UserState]=Vn.a.getUserState(),e[Vr.a.NewzwareLoginId]=this.EventData.MG2AccountData.NzwLid,e},t}(ri),ai=(X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ai(e,t),e}(si),ui=(H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ui(e,t),e}(si),li=(J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return li(e,t),e}(si),hi=(Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hi(e,t),e}(si),gi=(K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gi(e,t),e}(si),vi=(Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vi(e,t),e}(si),_i=(z=function(t,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bi=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyActionEvent"),e}return _i(t,n),t}(ri),Ci=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wi=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new qo(t),e}return Ci(t,n),t}(bi),Ai=($=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ai(e,t),e}(wi),Si=(tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Si(e,t),e}(wi),Ei=(et=function(t,e){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e}(wi),Di=(nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xi=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=null,e}return Di(t,n),t}(wi),Bi=n(11),Ui=(ot=function(t,e){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ri=function(n){function t(t){var e=n.call(this,t)||this;return e.templateSelector=".Mg2-connext",e.actionIdPrefix="ConneXt_Action_Id-",e.authenticationIdPrefix="ConneXt_Authentication-",e.substepAttr="data-nxt-template-substep",e.EventData=Object(Yn.extend)(e.EventData,new nr(e.Conversation?e.Conversation.Properties:null),{ZipCodes:Vn.a.getUserZipCodes()}),e}return Ui(t,n),t.prototype.getAnaliticsData=function(t){var e={},n=this.getCurrentTemplate(t.target);if(n&&this.checkActionTemplate(n)){var o=this.getActionIdByTemplate(n),r=Object(Yn.find)(this.Conversation.Actions,function(t){return t.Id==o});e[Vr.a.ActionId]=r?r.Id:null,e[Vr.a.ActionName]=r?r.Name:null,e[Vr.a.ActionTypeId]=r?r.ActionType:null}if(this.Conversation){var i=this.Conversation.Properties;e[Vr.a.PropertiesViews]=i.Views,e[Vr.a.ArticleLeft]=i.ArticleLeft,e[Vr.a.TypeView]=i.ViewType,e[Vr.a.UserDefinedData]=i.ViewType}return e},t.prototype.getCurrentTemplate=function(t){var e=Bi.a.parents(t,this.templateSelector);return e?e[0]:null},t.prototype.getCurrentSubstepName=function(t){var e=Bi.a.parents(t,"["+this.substepAttr+"]");return e?Bi.a.attr(e[0],this.substepAttr):null},t.prototype.checkActionTemplate=function(t){var e=Bi.a.attr(t,"id");return!!e&&e.includes(this.actionIdPrefix)},t.prototype.getActionIdByTemplate=function(t){var e=Bi.a.attr(t,"id");return e?+e.replace(this.actionIdPrefix,""):null},t.prototype.checkAuthenticationTemplate=function(t){var e=Bi.a.attr(t,"id");return!!e&&e.includes(this.authenticationIdPrefix)},t.prototype.getAuthenticationTemplateType=function(t){var e=Bi.a.attr(t,"id");return e?e.replace(this.authenticationIdPrefix,""):null},t}(wi),Li=(rt=function(t,e){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ti=function(o){function t(t){var e=o.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,{CloseEvent:t.CloseEvent}),e}return Li(t,o),t.prototype.getAnaliticsData=function(t){var e=o.prototype.getAnaliticsData.call(this,t),n={};return n[Vr.a.CloseEvent]=this.EventData.CloseEvent,Object(Yn.extend)(e,n)},t}(Ri),Fi=(it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fi(e,t),e}(Ri),Vi=(st=function(t,e){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}st(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ni=function(){return(Ni=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Mi=function(a){function t(t){var e=a.call(this,t)||this,n=new nr(e.Conversation?e.Conversation.Properties:null),o=e.getCurrentTemplate(t.target);if(e.EventData={ButtonHTML:Bi.a.html(t.target),UserDefinedDataAttr:Bi.a.attr(t.target,"data-connext-userdefined"),PaywallInfo:n?n.PaywallInfo:"",ZipCodes:Vn.a.getUserZipCodes},!o)return e;if(e.checkActionTemplate(o)){var r=e.getActionIdByTemplate(o),i=Object(Yn.find)(e.Conversation.Actions,function(t){return t.Id==r});return e.EventData=Ni({},e.EventData,{MeterLevel:e.MeterLevel,ConversationId:e.Conversation?e.Conversation.Id:null,ConversationName:e.Conversation?e.Conversation.Name:null,ActionId:i?i.Id:null,ActionName:i?i.Name:null,ActionType:i?i.ActionType:null}),e}if(e.checkAuthenticationTemplate(o)){var s=e.getAuthenticationTemplateType(o);e.EventData=Ni({},e.EventData,{ModalType:s,StepName:e.getCurrentSubstepName(t.target)})}return e}return Vi(t,a),t.prototype.getAnaliticsData=function(t){var e=a.prototype.getAnaliticsData.call(this,t),n={};return n[Vr.a.ButtonHtml]=this.EventData.ButtonHTML,n[Vr.a.UserDefinedDataAttr]=this.EventData.UserDefinedDataAttr,Object(Yn.extend)(e,n)},t}(Ri),ji=(at=function(t,e){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}at(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ji(e,t),e}(Ri),Zi=(ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zi(e,t),e}(Ri),Xi=(ut=function(t,e){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hi=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyActivationEvent"),e}return Xi(t,n),t}(ri),Ji=(pt=function(t,e){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qi=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateStatus:t.ActivateStatus,CloseEvent:t.CloseEvent},e}return Ji(t,n),t}(Hi),Ki=(lt=function(t,e){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ki(e,t),e}(Qi),zi=(ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zi(e,t),e}(Qi),$i=(ht=function(t,e){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i(e,t),e}(Qi),es=(dt=function(t,e){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return es(e,t),e}(Qi),os=(gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return os(e,t),e}(Qi),is=(yt=function(t,e){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return is(e,t),e}(Hi),as=(vt=function(t,e){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e}(Hi),us=(mt=function(t,e){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return us(e,t),e}(Hi),ls=(_t=function(t,e){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e}(Hi),hs=(bt=function(t,e){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ds=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateBy:t},e}return hs(t,n),t}(Hi),gs=(Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gs(e,t),e}(ds),vs=(wt=function(t,e){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vs(e,t),e}(ds),_s=(At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _s(e,t),e}(ds),Cs=(It=function(t,e){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ws=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyIPAccessEvent"),e}return Cs(t,n),t}(ri),As=n(133),Is=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ss=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessEndDate=t.AccessEndDate,e.AccessStartDate=t.AccessStartDate,e.ClientId=t.ClientId,e}return Is(t,n),t}(Go),Os=(Ot=function(t,e){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Es=function(e){function t(t){return e.call(this,t)||this}return Os(t,e),t}(Ss),Ps=(Et=function(t,e){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ds=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Es(t):null,e.Reason=t.reason,e.Conversation=null,e.MeterLevel=null,e.MeterLevelId=null,e.MeterLevelMethod=null,e}return Ps(t,n),t.prototype.getAnaliticsData=function(t,e){var n={};return n[Vr.a.IpAddress]=As.a.getIP(),e&&(n=Object(Yn.extendOwn)(n,e)),n},t}(ws),xs=(Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bs=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AllowedAccessListName=t.Name,e}return xs(t,n),t}(Ss),Us=(Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Bs(t):null,e}return Us(t,n),t}(ws),Ls=(xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ts=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Ls(t,n),t}(ws),Fs=(Bt=function(t,e){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e}(ws),Vs=(Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ns=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyLoadEvent"),e}return Vs(t,n),t.prototype.getAnaliticsData=function(t){return t},t}(ri),Ms=(Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ms(e,t),e.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.AdblockFound]=!0,e},e}(Ns),Gs=(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new cr(t),e}return Gs(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.CampaignId]=this.CampaignId,e[Vr.a.CampaignName]=this.EventData.Name,e},t}(Ns),Ws=(Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new rr(t),e}return Ws(t,n),t.prototype.getAnaliticsData=function(t){var e={};return t&&(e[Vr.a.ConversationId]=t.Id,e[Vr.a.ConversationName]=t.Name,e[Vr.a.ConversationView]=t.Properties.Views,e[Vr.a.ArticleLeft]=t.Properties.ArticleLeft,e[Vr.a.TypeView]=t.Properties.ViewType,e[Vr.a.DateStarted]=t.Properties.Date?t.Properties.Date.Started:null,e[Vr.a.ExpirationDate]=t.Properties.Date?""+t.Properties.Date.Expiration:null),e[Vr.a.MeterLevel]=this.MeterLevelId,e},t}(Ns),Hs=(Ft=function(t,e){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Js=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Conversation:new rr(t.Conversation),NextConversation:new rr(t.NextConversation),Reason:t.Reason,ArticleCountReset:t.ArticleCountReset},e}return Hs(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.ConversationName]=this.EventData.Conversation.Name,e[Vr.a.NextConversationName]=this.EventData.NextConversation.Name,e[Vr.a.ExpiredReason]=this.EventData.Reason,e[Vr.a.ArticleCountReset]=this.EventData.ArticleCountReset,e},t}(Ns),Qs=(kt=function(t,e){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ks=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return Qs(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.DynamicMeterName]=this.EventData,e},t}(Ns),Ys=n(240),zs=(Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Location:As.a.getLocationInfo(),Device:e.getDeviceInfo(),Page:e.getPageData(),EncryptedEmail:Ys.a.getEncryptedEmail()},e}return zs(t,n),t.prototype.getPageData=function(){return{Title:this.getPageTitle(),Keywords:this.getPageKeywords(),Url:location.origin+location.pathname}},t.prototype.getAnaliticsData=function(){return zr.a.getFinishData()},t.prototype.getDeviceInfo=function(){var t=As.a.getUserAgent();return{Type:As.a.getDeviceType(),OS:t?t.getOS():"",Browser:t?t.getBrowser():""}},t.prototype.getPageTitle=function(){var t=document.querySelector("h1");return t&&t.textContent?t.textContent.trim():document.title},t.prototype.getPageKeywords=function(){var t="",e=document.getElementsByTagName("meta");if(e)for(var n=0,o=e.length;n<o;n++)"keywords"==e[n].name.toLowerCase()&&(t+=e[n].content);return""!=t&&t},t}(Ns),$s=(Nt=function(t,e){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $s(e,t),e.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.GABlocked]=!window.ga,e[Vr.a.GTMBlocked]=!window.google_tag_manager,e[Vr.a.G2insights]=!window.G2Insights,e[Vr.a.Version]=Object(Jn.r)(),e[Vr.a.LocalDateTime]=Pr.a.get().toString(),e},e}(Ns),ea=(Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),na=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Method=t.Method,e.Level=t.Level,e.Rule=new Ho(t.Rule),e}return ea(t,n),t}(Go),oa=(jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ra=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new na(t),e}return oa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.MeterMethod]=this.EventData.Method,e[Vr.a.MeterLevel]=this.EventData.Level,t&&t.Rule&&(e[Vr.a.RuleId]=t.Rule.Id),e[Vr.a.RuleName]=this.EventData.Rule.Name,e},t}(Ns),ia=(Gt=function(t,e){return(Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return ia(t,n),t.prototype.getAnaliticsData=function(t){return{}[Vr.a.RunReason]=t},t}(Ns),aa=(Zt=function(t,e){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ca=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return aa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.ConversationId]=this.EventData,e},t}(Ns),ua=(Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t.MeterId,e}return ua(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.MeterLevel]=this.EventData,e},t}(Ns),la=(Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return la(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.LoadError]=Object(Yn.isString)(this.EventData.ErrorMessage)?this.EventData.ErrorMessage:JSON.stringify(this.EventData.ErrorMessage),e},t}(Ns),ha=(Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),da=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ResetOnDay:t.ResetOnDay,ResetFrequency:t.ResetFrequency},e}return ha(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.ResetOnDay]=this.EventData.ResetOnDay,e[Vr.a.ResetFrequency]=this.EventData.ResetFrequency,e},t}(Ns),ga=(Jt=function(t,e){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ya=function(e){function t(t){return e.call(this,t)||this}return ga(t,e),t}(Ns),va=(Qt=function(t,e){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ma=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={error:t.error},e}return va(t,n),t}(Ns),_a=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ba=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return _a(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.OldDeviceId]=t.id,e[Vr.a.RecalculatedDeviceId]=t.newId,e},t}(Ns),Ca=n(52),wa=(Yt=function(t,e){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Aa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return wa(t,n),t.prototype.getAnaliticsData=function(t){var e={};if(t&&t.length)for(var n=0;n<t.length;n++)e[n]=Object(Ca.isString)(t[n])?t[n]:JSON.stringify(t[n]);return document.dispatchEvent(new CustomEvent("nxtDebugError",{bubbles:!0,detail:e})),e},t}(Ns),Ia=(zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sa=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyLoginTemplateEvent"),e}return Ia(t,n),t}(ri),Oa=(qt=function(t,e){return(qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ea=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Oa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.LoginModalId]=null,e[Vr.a.CloseEvent]=this.EventData.CloseEvent,e},t}(Sa),Pa=($t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Da=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return Pa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.ErrorMessage]=this.EventData.ErrorMessage,e},t}(Sa),xa=(te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ba=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={LoginModalName:t},e}return xa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[Vr.a.LoginModalId]=this.EventData.LoginModalName,e},t}(Sa),Ua=(ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ua(e,t),e}(si),La=(ne=function(t,e){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ta=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyNewsletterEvent"),e}return La(t,n),t}(ri),Fa=(oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fa(e,t),e}(Ta),Va=(re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Na=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Va(e,t),e}(Ta),Ma=(ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ma(e,t),e}(Ta),Ga=(se=function(t,e){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Za=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyRegistrationEvent"),e}return Ga(t,n),t}(ri),Wa=(ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wa(e,t),e}(Za),Ha=(ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ha(e,t),e}(Za),Qa=(ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e}(Za),Ya=(pe=function(t,e){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ya(e,t),e}(Za),qa=(le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qa(e,t),e}(Za),tc=(fe=function(t,e){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ec=function(i){function t(t){var e=i.call(this,t)||this,n=new go(e.getConversationModel());n&&(e.Conversation=n);var o=new Do(Fn.a.getConfiguration());o&&(e.Config=o);var r=new Lo(Vn.a.getCachedUserData());return r&&(e.MG2AccountData=r),e.EventData=t,e}return tc(t,i),t.prototype.trackEvent=function(t,e){},t.prototype.isInner=function(){return!0},t.prototype.dispatchGroupEvent=function(t){},t}(ti),nc=(he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nc(e,t),e.prototype.getGroupData=function(){return null},e.prototype.dispatchGroupEvent=function(t){No.a.dispatch(t,this.getGroupData())},e}(ec),rc=(de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ic=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={AuthSystem:t.AuthSystem,MG2AccountData:new Lo(t.MG2AccountData),AuthProfile:t.AuthProfile},e.dispatchGroupEvent("onInnerAnyAccountStatusEvent"),e}return rc(t,n),t.prototype.getGroupData=function(){return this.EventData},t}(oc),sc=(ge=function(t,e){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sc(e,t),e}(ic),cc=(ye=function(t,e){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cc(e,t),e}(ic),pc=(ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pc(e,t),e}(ic),fc=(me=function(t,e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fc(e,t),e}(ic),dc=(_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dc(e,t),e}(ic),yc=(be=function(t,e){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yc(e,t),e}(ic),mc=(Ce=function(t,e){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_c=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyActionEvent"),e}return mc(t,n),t}(oc),bc=(we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new co(t),e}return bc(t,n),t}(_c),wc=(Ae=function(t,e){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wc(e,t),e}(Cc),Ic=(Ie=function(t,e){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ic(e,t),e}(Cc),Oc=(Se=function(t,e){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oc(e,t),e}(Cc),Pc=(Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=null,e}return Pc(t,n),t}(Cc),xc=(Ee=function(t,e){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,new fo(e.Conversation?e.Conversation.Properties:null),{ZipCodes:Vn.a.getUserZipCodes()}),e}return xc(t,n),t}(Cc),Uc=(Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,{CloseEvent:t.CloseEvent}),e}return Uc(t,n),t}(Bc),Lc=(De=function(t,e){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}De(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lc(e,t),e}(Bc),Fc=(xe=function(t,e){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kc=function(){return(kc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Vc=function(s){function t(t){var e=s.call(this,t)||this;e.templateSelector=".Mg2-connext",e.actionIdPrefix="ConneXt_Action_Id-",e.authenticationIdPrefix="ConneXt_Authentication-",e.substepAttr="data-nxt-template-substep",e.EventData=Object(Yn.extend)(e.EventData,{ButtonHTML:Bi.a.html(t.target),UserDefinedDataAttr:Bi.a.attr(t.target,"data-connext-userdefined")}),delete e.EventData.Id,delete e.EventData.Name,delete e.EventData.ActionType,delete e.EventData.ActionTypeId,delete e.EventData.Description,delete e.EventData.Order,delete e.EventData.UserDefinedData;var n=e.getCurrentTemplate(t.target);if(!n)return e;if(e.checkActionTemplate(n)){var o=e.getActionIdByTemplate(n),r=Object(Yn.find)(e.Conversation.Actions,function(t){return t.Id==o});return e.EventData=kc({},e.EventData,{MeterLevel:e.MeterLevel,ConversationId:e.Conversation?e.Conversation.Id:null,ConversationName:e.Conversation?e.Conversation.Name:null,ActionId:r?r.Id:null,ActionName:r?r.Name:null,ActionType:r?r.ActionType:null,ActionTypeId:r?r.ActionTypeId:null,Description:r?r.Description:null,Order:r?r.Order:null,UserDefinedData:r?r.UserDefinedData:null}),e}if(e.checkAuthenticationTemplate(n)){var i=e.getAuthenticationTemplateType(n);e.EventData=kc({},e.EventData,{ModalType:i,StepName:e.getCurrentSubstepName(t.target)})}return e}return Fc(t,s),t.prototype.getCurrentTemplate=function(t){var e=Bi.a.parents(t,this.templateSelector);return e?e[0]:null},t.prototype.getCurrentSubstepName=function(t){var e=Bi.a.parents(t,"["+this.substepAttr+"]");return e?Bi.a.attr(e[0],this.substepAttr):null},t.prototype.checkActionTemplate=function(t){var e=Bi.a.attr(t,"id");return!!e&&e.includes(this.actionIdPrefix)},t.prototype.getActionIdByTemplate=function(t){var e=Bi.a.attr(t,"id");return e?+e.replace(this.actionIdPrefix,""):null},t.prototype.checkAuthenticationTemplate=function(t){var e=Bi.a.attr(t,"id");return!!e&&e.includes(this.authenticationIdPrefix)},t.prototype.getAuthenticationTemplateType=function(t){var e=Bi.a.attr(t,"id");return e?e.replace(this.authenticationIdPrefix,""):null},t}(Bc),Nc=(Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nc(e,t),e}(Bc),jc=(Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jc(e,t),e}(Bc),Zc=(Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wc=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyActivationEvent"),e}return Zc(t,n),t}(oc),Xc=(Le=function(t,e){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateBy:t},e}return Xc(t,n),t}(Wc),Jc=(Te=function(t,e){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jc(e,t),e}(Hc),Kc=(Fe=function(t,e){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kc(e,t),e}(Hc),zc=(ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zc(e,t),e}(Hc),$c=(Ve=function(t,e){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateStatus:t.ActivateStatus,CloseEvent:t.CloseEvent},e}return $c(t,n),t}(Wc),eu=(Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e}(tu),ou=(Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ou(e,t),e}(tu),iu=(je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return iu(e,t),e}(tu),au=(Ge=function(t,e){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return au(e,t),e}(tu),uu=(Ze=function(t,e){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e}(tu),lu=(We=function(t,e){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}We(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lu(e,t),e}(Wc),hu=(Xe=function(t,e){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hu(e,t),e}(Wc),gu=(He=function(t,e){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}He(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e}(Wc),vu=(Je=function(t,e){return(Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vu(e,t),e}(Wc),_u=(Qe=function(t,e){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bu=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyIPAccessEvent"),e}return _u(t,n),t}(oc),Cu=(Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wu=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessEndDate=t.AccessEndDate,e.AccessStartDate=t.AccessStartDate,e.ClientId=t.ClientId,e}return Cu(t,n),t}(qn),Au=(Ye=function(t,e){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Iu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new wu(t):null,e}return Au(t,n),t}(bu),Su=(ze=function(t,e){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ou=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new wu(t):null,e}return Su(t,n),t}(bu),Eu=(qe=function(t,e){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Eu(t,n),t}(bu),Du=($e=function(t,e){return($e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Du(e,t),e}(bu),Bu=(tn=function(t,e){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uu=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyLoadEvent"),e}return Bu(t,n),t}(oc),Ru=(en=function(t,e){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}en(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ru(e,t),e}(Uu),Tu=(nn=function(t,e){return(nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new _o(t),e}return Tu(t,n),t}(Uu),ku=(on=function(t,e){return(on=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}on(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new go(t),e}return ku(t,n),t}(Uu),Nu=(rn=function(t,e){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Conversation:new go(t.Conversation),NextConversation:new go(t.NextConversation),Reason:t.Reason,ArticleCountReset:t.ArticleCountReset},e}return Nu(t,n),t}(Uu),ju=(sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return ju(t,n),t}(Uu),Zu=(an=function(t,e){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}an(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zu(e,t),e}(Uu),Xu=(cn=function(t,e){return(cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xu(e,t),e}(Uu),Ju=(un=function(t,e){return(un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qu=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Method=t.Method,e.Level=t.Level,e.Rule=new no(t.Rule),e}return Ju(t,n),t}(qn),Ku=(pn=function(t,e){return(pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new Qu(t),e}return Ku(t,n),t}(Uu),zu=(ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zu(e,t),e}(Uu),$u=(fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return $u(t,n),t}(Uu),ep=(hn=function(t,e){return(hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),np=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t.MeterId,e}return ep(t,n),t}(Uu),op=(dn=function(t,e){return(dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return op(t,n),t}(Uu),ip=(gn=function(t,e){return(gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ResetOnDay:t.ResetOnDay,ResetFrequency:t.ResetFrequency},e}return ip(t,n),t}(Uu),ap=(yn=function(t,e){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ap(e,t),e}(Uu),up=(vn=function(t,e){return(vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={error:t.error},e}return up(t,n),t}(Uu),lp=(mn=function(t,e){return(mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={bodyHtml:document.body.innerHTML},e}return lp(t,n),t}(Uu),hp=(_n=function(t,e){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_n(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dp=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyLoginTemplateEvent"),e}return hp(t,n),t}(oc),gp=(bn=function(t,e){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return gp(t,n),t}(dp),vp=(Cn=function(t,e){return(Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return vp(t,n),t}(dp),_p=(wn=function(t,e){return(wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={LoginModalName:t},e}return _p(t,n),t}(dp),Cp=(An=function(t,e){return(An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}An(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cp(e,t),e}(ic),Ap=(In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}In(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ip=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyNewsletterEvent"),e}return Ap(t,n),t}(oc),Sp=(Sn=function(t,e){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sp(e,t),e}(Ip),Ep=(On=function(t,e){return(On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}On(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ep(e,t),e}(Ip),Dp=(En=function(t,e){return(En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}En(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dp(e,t),e}(Ip),Bp=(Pn=function(t,e){return(Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Up=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyRegistrationEvent"),e}return Bp(t,n),t}(oc),Rp=(Dn=function(t,e){return(Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rp(e,t),e}(Up),Tp=(xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e}(Up),kp=(Bn=function(t,e){return(Bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kp(e,t),e}(Up),Np=(Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Np(e,t),e}(Up),jp=(Rn=function(t,e){return(Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jp(e,t),e}(Up),Zp=function(t,e){return-1!==t.indexOf("Inner")?new ec(e):new ni(e)},Wp=(Ln=function(t,e){return(Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xp=function(n){function t(t){var e=n.call(this,t)||this;return t&&t.detail&&t.detail.type&&t.detail.analyticsData&&(e.analyticsData={type:t.detail.type,data:JSON.stringify(t.detail.analyticsData)},e.trackEvent(kr.a.CustomTrackedEvent,e.analyticsData)),e}return Wp(t,n),t.prototype.getAnaliticsData=function(){return this.analyticsData},t}(ni),Hp=n(72),Jp=new(function(){function t(){}return t.prototype.getMethods=function(){return{API:{NewsletterSubscribe:function(e){var t=null;if(e&&e.id){var n=[];Object(Ca.isArray)(e.id)||Object(Ca.isObject)(e.id)?Object(Yn.each)(e.id,function(t){n.push({Id:t.id,Name:t.name,Description:t.description,SubscriberOnly:!1})}):n.push({Id:e.id,Name:void 0,Description:void 0,SubscriberOnly:!1}),t={Email:e.email,EmailPreferences:n},Hp.a.getSubscribeNewsletters(t).then(function(){Object(Yn.isFunction)(e.onSuccess)&&e.onSuccess.call(window)}).catch(function(t){Object(Yn.isFunction)(e.onError)&&e.onError.call(window,t)})}}}}},t}()),Qp=function(){No.a.init(o),window.NxtInner=new jo,window.Connext=new Fr,window.CnnXt=Jp.getMethods()};String.prototype.replaceAt=function(t,e){return this.substr(0,t)+e+this.substr(t+e.length)},Promise.prototype.always=function(e){return this.then(e,function(t){throw e(t),t})},new Qp},function(t,e,n){"use strict";n.r(e);var o=n(247),r=n(71),i=n(44),s=n(137),a=n(330),c=n(326),u=n(331),p=n(9),l=n(325),f=n(50),h=n(211),d=n(26),g=n(15),y=n(2),v=n(275),m=function(){function t(){}return t.prototype.getAuth0AccountId=function(){var t=this.getGetterOptions();return v.a.get(y.b.Auth0AccountId,t)},t.prototype.setAuth0AccountId=function(t,e){var n=this.getSetterOptions(e);v.a.set(y.b.Auth0AccountId,t,n)},t.prototype.deleteAuth0AccountId=function(){v.a.delete(y.b.Auth0AccountId,this.getGetterOptions())},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0}},t.prototype.getGetterOptions=function(){return{expandKey:!1,useRootDomain:!0}},t}(),_=n(7),b=n(31),C=n(18);n.d(e,"Auth0UniversalLoginAuthSystem",function(){return I});var w,A=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=function(n){function t(){var t=n.call(this)||this;t.name="Auth0UniversalLogin",t.id=d.a.Auth0UniversalLogin,t.knownErrMessages={invalidState:"Invalid state"},t.urlParams={returnUrl:{name:"returnUrl",values:void 0},state:{name:"state",values:{refreshTokenFallback:"refreshTokenFallback",continueActivationFlow:"activation",pendingLogout:"logout"}},code:{name:"code",values:void 0},retryFailedLogin:{name:"retryFailedLogin",values:{true:"true"}}},t.repository=new m;var e=i.a.getAuthSettings();if(!t.validateAuthSystemSettings(e))throw s.a.error(t.name,"constructor","Malformed Auth0 client options"),a.a.MALFORMED_AUTH0_OPTIONS;return t.setupAuthOptions(e),t.auth0Client=new o.a(t.auth0Options),t.checkAuthState(),t}return A(t,n),t.prototype.HasActiveSession=function(){var n=this,o="HasActiveSession",t=function(){if(n.repository.getAuth0AccountId())return!0;var t=n.auth0Client.isAuthenticated();return s.a.log(n.name,o,t),t.then(function(e){return e?n.setAuth0AccountIdCookie().then(function(){return n.refreshAuthTokenIfNeeded().then(function(t){return e}).catch(function(t){return s.a.error(n.name,o,"token refresh failed, reason: "+JSON.stringify(t)),n.logout(n.buildReturnUrl([{key:n.urlParams.state.name,value:n.urlParams.state.values.refreshTokenFallback}])),!1})}):Promise.resolve(e)})};return Promise.resolve().then(function(){if(c.a.get(u.a.ForceAuthSystemLogout))return n.auth0Client.logout({localOnly:!0})}).then(t,t)},t.prototype.showLoginForm=function(t){t&&t.preventDefault();var e=this.auth0Options.redirect_uri;e=g.a.getActivationProcess()?Object(p.c)(e,this.urlParams.returnUrl.name,this.buildReturnUrl([{key:this.urlParams.state.name,value:this.urlParams.state.values.continueActivationFlow}])):Object(p.c)(e,this.urlParams.returnUrl.name,this.buildReturnUrl()),s.a.log(this.name,"showLoginForm","Redirect Url: "+e),this.auth0Client.loginWithRedirect({redirect_uri:e})},t.prototype.showRegisterForm=function(t){this.showLoginForm(t)},t.prototype.logoutMultipleDevices=function(){var t=_.a.getUserData();return _.a.getUserState()==d.q.NotLoggedIn||!t.LastLogoutDate||t.LoginDate&&t.LoginDate>=t.LastLogoutDate?Promise.resolve():this.logout(null,!0)},t.prototype.logout=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=!1);var o=this.auth0Options.redirect_uri;o=Object(p.c)(o,this.urlParams.state.name,this.urlParams.state.values.pendingLogout),o=Object(p.c)(o,this.urlParams.returnUrl.name,t||this.buildReturnUrl()),s.a.log(this.name,"logout","Logout Url: ",o);var r={customRegistrationId:_.a.getUserId()};return(e?Promise.resolve():b.a.logout(r)).then(function(){n.repository.deleteAuth0AccountId(),n.deleteLoginData(),n.auth0Client.logout({returnTo:o,client_id:n.auth0Options.client_id})})},t.prototype.getAuthProfile=function(){var e=this;return this.auth0Client.getUser().then(function(t){return e.mapAuthProfile(t)})},t.prototype.afterSuccessLogin=function(){this.redirectBackToArticle()},t.prototype.afterSuccessRegistration=function(){this.afterSuccessLogin()},t.prototype.setupAuthOptions=function(t){this.auth0Options=t,this.auth0Options.cacheLocation="localstorage"},t.prototype.checkAuthState=function(){var o=this,r="checkAuthState";s.a.log(this.name,r),this.pendingAuthentication()?(s.a.log(this.name,r,"Pending complete auth"),this.completeAuthentication().then(function(){s.a.log(o.name,r,"auth completed"),o.successLogin()}).catch(function(t){if(s.a.error(o.name,r,t.message),t.message==o.knownErrMessages.invalidState)if(Object(p.p)(o.urlParams.retryFailedLogin.name))o.redirectBackToArticle();else{var e=o.auth0Options.redirect_uri,n=Object(p.p)(o.urlParams.returnUrl.name);e=Object(p.c)(e,o.urlParams.retryFailedLogin.name,o.urlParams.retryFailedLogin.values.true),e=Object(p.c)(e,o.urlParams.returnUrl.name,n),o.auth0Client.loginWithRedirect({redirect_uri:e})}})):this.pendingLogout()?(s.a.log(this.name,r,"Pending logout"),this.redirectBackToArticle()):this.pendingActivation()&&(s.a.log(this.name,r,"Pending activation"),this.continueActivation())},t.prototype.pendingAuthentication=function(){return Object(p.s)(this.urlParams.code.name)&&Object(p.s)(this.urlParams.state.name)},t.prototype.pendingLogout=function(){return Object(p.s)(this.urlParams.state.name)&&Object(p.p)(this.urlParams.state.name)==this.urlParams.state.values.pendingLogout},t.prototype.pendingActivation=function(){return Object(p.s)(this.urlParams.state.name)&&Object(p.p)(this.urlParams.state.name)==this.urlParams.state.values.continueActivationFlow},t.prototype.refreshAuthTokenIfNeeded=function(){return this.auth0Options.useRefreshTokens?this.auth0Client.getTokenSilently():Promise.resolve(null)},t.prototype.completeAuthentication=function(){return this.auth0Client.handleRedirectCallback()},t.prototype.continueActivation=function(){window.history.replaceState({},document.title,Object(p.y)(window.location.href,[this.urlParams.state.name]));var e=l.a.subscribe(f.a.Finish,function(){e();var t=l.a.subscribe(f.a.ActivationFormShown,function(){t(),document.getElementsByClassName("connext-activate")[0].parentNode.style.setProperty("z-index","100000001","important")});c.a.get(u.a.ActivationInstance).process()})},t.prototype.redirectBackToArticle=function(){var t=Object(p.p)(this.urlParams.returnUrl.name);window.history.replaceState({},document.title,"/"),window.location.href=t},t.prototype.buildReturnUrl=function(t){void 0===t&&(t=null);var e=window.location.href;return t&&t.length&&t.forEach(function(t){e=Object(p.c)(e,t.key,t.value)}),e},t.prototype.validateAuthSystemSettings=function(t){return null!=t&&null!=t.domain&&null!=t.client_id&&null!=t.redirect_uri},t.prototype.mapAuthProfile=function(t){var e=_.a.getAuthProfile()||{},n=t||{};return{UserId:n.sub||this.repository.getAuth0AccountId(),IdType:h.e.Usual,Email:n.email||e.email,FullName:n.name||n.nickname||e.name||e.nickname||"",AuthSystemData:t,isPageLoadUpdate:!0}},t.prototype.refreshAccountIdCookie=function(){var e=this;return this.auth0Client.isAuthenticated().then(function(t){if(t)return e.setAuth0AccountIdCookie()})},t.prototype.setAuth0AccountIdCookie=function(){var e=this;return this.auth0Client.getUser().then(function(t){t&&e.repository.setAuth0AccountId(t.sub,i.a.get(u.a.UserAuthenticationTime))})},t.prototype.setLoginData=function(){var t={LastLoginDate:new Date,isPendingSuccessLogin:!0};v.a.set(y.b.AuthLoginData,C.a.encrypt(t))},t.prototype.getLastLoginDate=function(){var t=this.getLoginData(),e=_.a.getUserData();if(!t||!e||t.isPendingSuccessLogin&&!e.LastLogoutDate)return null;if(t.isPendingSuccessLogin){var n={LastLoginDate:e.LastLogoutDate};return v.a.set(y.b.AuthLoginData,C.a.encrypt(n)),e.LastLogoutDate}if(!(t=this.getLoginData())||!t.LastLoginDate)return null;var o=new Date(t.LastLoginDate);return isNaN(o.getTime())?null:o},t}(r.a)},,,,,,,function(t,e,n){"use strict";var i=n(0),s=n(137),a=n(9),o=n(50),r=new(function(){function t(t){void 0===t&&(t=document),this.eventsRoot=t,this.subscribers=[]}return t.prototype.init=function(t){this.availableEvents=t,this.listenCustomTrackedEvent()},t.prototype.dispatch=function(e,t,n){var o,r=Object(a.B)(e);this.availableEvents&&(Object(i.has)(this.availableEvents,r)?(o=new this.availableEvents[r](t)).isInner()||o.dispatchInnerEvent(t,e):o=new this.availableEvents.PublicEvent(e,t)),s.a.log("Fire Default "+e+" event. EventData:",o),this.subscribers.filter(function(t){return t.eventName===e||null===t.eventName}).map(function(t){return t.handler}).forEach(function(t){try{t(o,e)}catch(t){s.a.warn(t)}}),this.eventsRoot.dispatchEvent(new CustomEvent(e,{detail:o})),o&&o.trackEvent(e,t,n)},t.prototype.subscribe=function(t,e,n){var o=this;void 0===n&&(n=!1);var r=Object(i.isArray)(t)?t:[t];return this.subscribers=this.subscribers.concat(r.map(function(t){return{eventName:t,handler:e,unsubscribe:n}})),function(){o.subscribers=o.subscribers.filter(function(t){return t.handler!==e})}},t.prototype.unsubscribeAll=function(e){void 0===e&&(e=!1),this.subscribers=this.subscribers.filter(function(t){return t.unsubscribe&&!e})},t.prototype.listenCustomTrackedEvent=function(){var e=this;Object(a.a)(document,o.a.CustomTrackedEvent,function(t){e.availableEvents&&e.availableEvents.CustomTrackedEvent&&new e.availableEvents.CustomTrackedEvent(t)})},t}());e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=new(function(){function t(){this._keys=[],this._memory={}}return t.prototype.isSupported=function(){return!0},t.prototype.get=function(t){return this._memory.hasOwnProperty(t)?this._memory[t]:null},t.prototype.set=function(t,e){return this._memory[t]=e,this._keys.indexOf(t)<0&&this._keys.push(t),!0},t.prototype.delete=function(t){delete this._memory[t];var e=this._keys.indexOf(t);return!(e<0)&&(this._keys.splice(e,1),!0)},t.prototype.clear=function(){return this._memory={},this._keys=[],!0},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(2),r=n(220),i=n(17),s=n(275),a=n(350),c=new(function(){function t(){this.sessionStorage=new r.a}return t.prototype.getTimeRepeatableActions=function(){return i.a.get(o.e.ConnextTimeRepeatableActions)},t.prototype.setTimeRepeatableActions=function(t){i.a.set(o.e.ConnextTimeRepeatableActions,t)},t.prototype.deleteTimeRepeatableActions=function(){i.a.delete(o.e.ConnextTimeRepeatableActions)},t.prototype.getMessagingData=function(){return!s.a.get(o.e.ConnextMessagingDataExpire)?null:i.a.get(o.e.ConnextMessagingData)||{}},t.prototype.setMessagingData=function(t){i.a.set(o.e.ConnextMessagingData,t)},t.prototype.getUserMessages=function(t,e){return a.a.get("user/messages",t,e)},t.prototype.setCookiesMessagingDataExpire=function(t,e){s.a.set(o.e.ConnextMessagingDataExpire,t,e)},t.prototype.getArticleCost=function(){return this.sessionStorage.get(o.e.ArticleCost)},t.prototype.getRepeatablesInConv=function(){return i.a.get(o.e.RepeatablesInConv)||{}},t.prototype.setRepeatablesInConv=function(t){i.a.set(o.e.RepeatablesInConv,t)},t.prototype.removeRepeatablesInConv=function(){i.a.delete(o.e.RepeatablesInConv)},t.prototype.setConnextPaywallFired=function(t){s.a.set(o.e.ConnextPaywallFired,t)},t.prototype.getConnextPaywallFired=function(){return s.a.get(o.e.ConnextPaywallFired)},t.prototype.getRegistrationWallsOptions=function(){return{daysOfLife:1,expandKey:!1,useRootDomain:!0}},t.prototype.setPossibilityPresentForUser=function(t){s.a.set(o.b.RegistrationWalls,JSON.stringify(t),this.getRegistrationWallsOptions())},t.prototype.deletePossibilityPresentForUser=function(){s.a.delete(o.b.RegistrationWalls,this.getRegistrationWallsOptions())},t.prototype.resetStorage=function(){this.deleteTimeRepeatableActions(),this.removeRepeatablesInConv()},t.prototype.getRepeatablesInArticle=function(){return i.a.get(o.e.RepeatablesInArticle)||{}},t.prototype.setRepeatablesInArticle=function(t){i.a.set(o.e.RepeatablesInArticle,t)},t.prototype.removeRepeatablesInArticle=function(){i.a.delete(o.e.RepeatablesInArticle)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(221),o=n(23),i=function(){function t(){return this.cookies=r.a.getInstance(),o.a.applyProxy(this,"CookiesStorage")}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.isSupported=function(){var t=r.a.getInstance(),e=!1;try{var n="isSupportedCookieKey",o="isSupportedCookieValue";t.set(n,o,null),t.get(n)===o&&(t.remove(n,null),e=!0)}catch(t){e=!1}finally{return e}},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.cookies.get(t,e)},t.prototype.set=function(t,e,n,o){if(void 0===o&&(o={}),n&&n.daysOfLife){var r=new Date;r.setDate(r.getDate()+n.daysOfLife),n.expires=r}return this.cookies.set(t,e,n,o),!this.checkIsNullOrUndefined(this.get(t,o))},t.prototype.delete=function(t,e){return this.cookies.remove(t,e)},t.prototype.clear=function(){var s=this;return document.cookie.split(";").forEach(function(t){for(var e=t.split("=").map(function(t){return t.trim()})[0],n=window.location.hostname.split("."),o=0;o<=n.length;o++)for(var r=window.location.pathname.split("/"),i=0;i<r.length;i++)s.delete(e,{domain:n.slice(o,n.length).join("."),path:r.slice(0,i+1).join("/")||"/"})}),!0},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(o){function t(t){var e=this.constructor,n=o.call(this,t?t.ErrorMessage:"")||this;return n.name="CrashApplicationError",Object.setPrototypeOf&&Object.setPrototypeOf(n,e.prototype),n.message="Application has stopped working. "+t,n}return r(t,o),t}(Error)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={NO_CONFIG:{code:600,message:"No Configuration Found. ",custom:!0},NO_CONVO_FOUND:{code:601,message:"No Conversation found to process. ",custom:!0},NO_SITE_CODE:{code:602,message:"No Site Code. ",custom:!0},NO_CONFIG_CODE:{code:603,message:"No Config Code. ",custom:!0},NO_JQUERY:{code:604,message:"Jquery not loaded. ",custom:!0},NO_METER_LEVEL_SET:{code:605,message:"No meter level set. ",custom:!0},NO_CAMPAIGN:{code:606,message:"No campaign data. ",custom:!0},NO_AUTH0_LOCK:{code:607,message:"No auth0Lock object in the authSettings! ",custom:!0},UNKNOWN_REG_TYPE:{code:608,message:"Unknown registration type. ",custom:!0},UNKNOWN_USER_STATE:{code:609,message:"Unknown user state. ",custom:!0},NO_USER_DATA:{code:610,message:"No user data result. ",custom:!0},NO_JANRAIN_DATA:{code:611,message:"No user data UUID. ",custom:!0},CONFIG_HAS_NOT_PUBLISHED:{code:612,message:"Configuration has not published. ",custom:!0},S3DATA_IS_INVALID:{code:613,message:"s3Data is not an object. ",custom:!0},HIDE_CONTENT:{code:614,message:"Cannot hide content! ",custom:!0},LOAD_ERRORS:{cookie:{ErrorMessage:"Data can not be written to the cookie storage."},configCode:{ErrorMessage:"Incorrect or not specified configCode."},siteCode:{ErrorMessage:"Incorrect or not specified siteCode."},auth0Lock:{ErrorMessage:"Auth0Lock is not defined."},configuration:{ErrorMessage:"No configuration found to process."},networkError:{ErrorMessage:"No network."}},MALFORMED_AUTH0_OPTIONS:{code:615,message:"Malformed Auth0 client options",custom:!0}}},function(t,e,n){"use strict";var o,r;n.d(e,"a",function(){return o}),(r=o||(o={})).Meter="meter",r.Promises="promises",r.IntegrateFlittz="integrateFlittz",r.ConversationPromiseTimeout="conversationPromiseTimeout",r.ActionPromiseTimeout="actionPromiseTimeout",r.DynamicMeterPromiseTimeout="dnamicMeterPromiseTimeout",r.Debug="debug",r.IsInitFinished="isInitFinished",r.SiteCode="siteCode",r.ConfigCode="configCode",r.PluginStartTime="pluginStartTime",r.ActionStartTime="actionStartTime",r.ActionEndTime="actionEndTime",r.RunTimeout="runTimeout",r.ApiUrl="apiUrl",r.DeviceId="deviceId",r.IsChangedDeviceId="isChangedDeviceId",r.FirstRunExecuted="FIRST_RUN_EXECUTED",r.ProductCode="productCode",r.Silentmode="silentmode",r.BatchCount="batchCount",r.SettingsKey="settingsKey",r.ClientCode="clientCode",r.AuthSettings="authSettings",r.UseRootDomain="useRootDomain",r.IsProcessed="isProcessed",r.StartProcessingTime="startProcessingTime",r.AppInsightsKey="appInsightsKey",r.ViewsUpdateFromServerPeriod="ViewsUpdateFromServerPeriod",r.ArticlesCounter="articlesCounter",r.AppOptions="AppOptions",r.Attr="attr",r.PaperCode="paperCode",r.Environment="environment",r.UserAuthenticationTime="userAuthenticationTime",r.UserIgmAuthTime="userIgmAuthTime",r.CurrentConversation="currentConversation",r.NeedHideWhitelistInfobox="needHideWhitelistInfobox",r.ActivationInstance="activationInstance",r.CampaignInstance="campaignInstance",r.ActionModuleInstance="actionModuleInstance",r.Application="application",r.RunReason="runReason",r.DebugInstance="debugInstance",r.LastIpDeniedReason="lastIpDeniedReason",r.UseStorageSecurity="useStorageSecurity",r.SwGInstance="swgInstance",r.ArticleIdProvider="articleIdProvider",r.G2IUserData="G2IUserData",r.OldNewDeviceId="oldNewDeviceId",r.ForceAuthSystemLogout="forceAuthSystemLogout"},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){this.expandKey=!0,this.isSecureValue=!1}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var a=n(334),c=n(329),o=function(){function t(){}return t.prototype.get=function(t,e,n){return this.call("GET",t,e,n)},t.prototype.post=function(t,e,n){return this.call("POST",t,e,n)},t.prototype.call=function(t,e,n,o){o=o||{};var r=new URL(e),i={};if(o.headers){var s=new Headers(o.headers);s.append("Content-Type",o.contentType?o.contentType:"application/json"),s.append("Accept","application/json"),i.headers=s}return"GET"===(i.method=t)?n&&Object.keys(n).forEach(function(t){r.searchParams.append(t,n[t])}):i.body=JSON.stringify(n),!1===o.cache&&!1===r.searchParams.has("_")&&r.searchParams.append("_",(+new Date).toString()),new Promise(function(e,n){fetch(r.href,i).then(function(t){if(a.a.setOffset(t.headers.get(a.a.header)),t.ok)return Promise.resolve(t);if(404==t.status||500==t.status)throw new c.a({ErrorMessage:t.status+" - "+t.url+". "+t.statusText});return t.text().then(function(t){return Promise.reject(t?JSON.parse(t):{})})}).then(function(t){t.text().then(function(t){e(t?JSON.parse(t):{})})}).catch(function(t){n(t)})})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(27),r=n(9),i=n(25),s=new(function(){function t(){this.localStorage=new o.a,this.storageKey="ServerTimeOffset",this.header="x-server-time"}return t.prototype.setOffset=function(t){if(t){var e=this.calculateOffset(t);this.localStorage.set(this.storageKey,e)}},t.prototype.getOffset=function(){return this.localStorage.get(this.storageKey)},t.prototype.get=function(){var t=this.getOffset();return this.addOffset(t)},t.prototype.delete=function(){this.localStorage.delete(this.storageKey)},t.prototype.calculateOffset=function(t){return Object(r.n)().valueOf()-new Date(t).valueOf()},t.prototype.addOffset=function(t){void 0===t&&(t=0);var e=i.a.get().valueOf();return new Date(e+t)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(17),r=n(2),i=n(9),s=n(326),a=n(0),c=function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=new(function(){function t(){}return t.prototype.getCurrentConversations=function(){var e=o.a.get(r.e.Conversations.Current);if(e&&this.checkMemoryStorageIsSupported()){var n=Object(i.u)(s.a.get(r.e.CurrentConversationActions));Object(a.each)(Object.keys(e),function(t){e[t].Actions=n?n[e[t].Id]:null})}return e},t.prototype.setCurrentConversations=function(t){if(t){if(this.checkMemoryStorageIsSupported()){var e=this.getConversationActionsForMemoryStorage(t);s.a.set(r.e.CurrentConversationsActions,Object(i.u)(e))}var n=Object(i.u)(c({},t));Object(a.each)(Object.keys(n),function(t){delete n[t].Actions}),o.a.set(r.e.Conversations.Current,n)}else o.a.set(r.e.Conversations.Current,[])},t.prototype.getCurrentConversation=function(){var t=o.a.get(r.e.CurrentConversation);if(this.checkMemoryStorageIsSupported()){var e=Object(i.u)(s.a.get(r.e.CurrentConversationActions));t.Actions=e?e[t.Id]:null}return t},t.prototype.setCurrentConversation=function(t){if(t){if(this.checkMemoryStorageIsSupported()&&t.Actions){var e=this.getConversationActionsForMemoryStorage([t]);s.a.set(r.e.CurrentConversationActions,Object(i.u)(e))}var n=Object(i.u)(t);delete n.Actions,o.a.set(r.e.CurrentConversation,n)}else o.a.set(r.e.CurrentConversation,{})},t.prototype.getConversationById=function(e){var t=this.getAllConversations(),n=[];return t.Free&&(n=n.concat(t.Free)),t.Metered&&(n=n.concat(t.Metered)),t.Premium&&(n=n.concat(t.Premium)),n.find(function(t){return t.Id==e})},t.prototype.getAllConversations=function(){return o.a.get(r.e.Conversations.All)},t.prototype.setAllConversations=function(t){o.a.set(r.e.Conversations.All,t)},t.prototype.getConversationsByMeterLevel=function(t){var e=this.getAllConversations();return e?e[t]:null},t.prototype.resetStorage=function(){this.setCurrentConversations(null),this.setCurrentConversation(null),this.setAllConversations(null)},t.prototype.checkMemoryStorageIsSupported=function(){return s.a.isSupported()},t.prototype.getConversationActionsForMemoryStorage=function(t){var e=[];return Object(a.each)(t,function(t){t&&(e[t.Id]=t.Actions)}),e},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o,r,i,s,a=n(2),c=n(333),u=n(328),p=n(220),l=n(17),f=n(275),h=n(0),d=n.n(h);r=o||(o={}),i=new c.a,u.a.getInstance(),s=new p.a,r.getInformationFromService=function(t,e){return i.get(t,null,e)},r.getInformationFromStorage=function(){return l.a.get(a.e.GlobalLocation)||l.a.get(a.e.GlobalLocation,{expandKey:!1,isSecureValue:!1})},r.isExistInformationInStorage=function(){return!d.a.isEmpty(r.getInformationFromStorage())},r.setInformationToStorage=function(t){l.a.set(a.e.GlobalLocation,t)},r.getGuid=function(){return f.a.get(a.e.ConnextUserId,{expandKey:!1,isSecureValue:!1,useRootDomain:!0})},r.getIncognitoMode=function(){return s.get(a.e.IsIncognitoBrowsing)},r.setIncognitoMode=function(t){s.set(a.e.IsIncognitoBrowsing,t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(347),r=n(137),i=new(function(){function t(){}return t.prototype.create=function(){this.currentAnalytic=o.a.getInstance()},t.prototype.trackEvent=function(t,e){this.currentAnalytic?this.currentAnalytic.trackEvent(t,e):r.a.warn("Analytics is not init yet")},t.prototype.setAuthenticatedUserContext=function(){this.currentAnalytic.setUserContext()},t.prototype.getFinishData=function(){return this.currentAnalytic.getFinishData()},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(26),r=n(0),i=new(function(){function t(){this.classes=[]}return t.prototype.loadMainFlow=function(){return n(301)("./MainFlow").then(function(t){return Promise.resolve(t.MainFlow)})},t.prototype.loadCampaign=function(){return n(304)("./Campaign").then(function(t){return Promise.resolve(t.Campaign)}).catch(function(t){return console.log(t),Promise.resolve(null)})},t.prototype.loadActionProvider=function(){var e="ActionModule";return n(305)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(t){return console.log(t),Promise.resolve(null)})},t.prototype.getLoadedClass=function(e){return Object(r.filter)(this.classes,function(t){return t.className===e})},t.prototype.loadDebugPanelIfNeed=function(t,e){return e&&t?Promise.resolve().then(n.bind(null,239)).then(function(t){return Promise.resolve(t.DebugPanel)}).catch(function(t){return console.log(t),Promise.resolve(null)}):Promise.resolve(null)},t.prototype.loadAuthModule=function(t){switch(t){case o.a.MG2:return this.loadMg2("MG2AuthSystem");case o.a.Newzware:return this.loadNewzware("NewzwareAuthSystem");case o.a.Auth0:return this.loadAuth0("Auth0AuthSystem");case o.a.Janrain:return this.loadJanrain("JanrainAuthSystem");case o.a.Janrain_custom:return this.loadJanrain("JanrainCustomAuthSystem");case o.a.Auth0UniversalLogin:return this.loadAuth0UniversalLogin();default:return this.loadCustom("CustomAuthSystem")}},t.prototype.loadAuth0=function(e){return n(306)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadCustom=function(e){return n(307)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadJanrain=function(e){return n(308)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadMg2=function(e){return n(309)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadNewzware=function(e){return n(310)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadAuth0UniversalLogin=function(){return Promise.resolve().then(n.bind(null,318)).then(function(t){return Promise.resolve(t.Auth0UniversalLoginAuthSystem)}).catch(function(){return Promise.resolve(null)})},t.prototype.loadActivation=function(){var e="Activation";return n(311)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadSwGIfNeed=function(t){return Object(r.isEmpty)(t)?Promise.resolve(null):n(312)("./SwGModule").then(function(t){return Promise.resolve(t.SwGModule)}).catch(function(t){return console.log(t),Promise.resolve(null)})},t}())},function(t,e,n){"use strict";var o,r;n.d(e,"a",function(){return o}),(r=o||(o={})).Messaging="Messaging",r.System="System",r.Whitelisting="Whitelisting",r.Activation="Activation",r.Testing="Testing",r.User="User",r.Newsletter="Newsletter"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(124),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector="data-nxt-button",t}return i(t,e),t}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t,e,n){this.Email=t,this.Password=e,this.DisplayName=n}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n(275),r=n(17),i=n(2),s=n(333),a=n(25),c=n(44),u=n(39),p=new(function(){function t(){this.http=new s.a}return t.prototype.getConfigurationFromApi=function(t,e){var n=t.ClientCode?t.ClientCode.toLowerCase():"noncs",o=t.SiteCode.toUpperCase()+"__"+t.ConfigCode.toUpperCase();e&&(o=o+"__"+e.toUpperCase());var r=t.ResourceUrl+"data/"+n+"/"+o+".json?_="+a.a.get().getTime();return this.http.get(r)},t.prototype.getPublishSettingsFromApi=function(t,e,n){var o=t+"data/last_publish/"+e+"__"+n+".json?_="+a.a.get().getTime();return this.http.get(o)},t.prototype.clear=function(){r.a.delete(i.e.Configuration)},t.prototype.getPublishSettings=function(){var t=o.a.get(i.e.PublishSettings,{isSecureValue:!0});return t?JSON.parse(t):null},t.prototype.setPublishSettings=function(t,e){return e.isSecureValue=!0,o.a.set(i.e.PublishSettings,JSON.stringify(t),e)},t.prototype.getLocalConfiguration=function(){return r.a.get(this.getConfigurationStorageKey())},t.prototype.setLocalConfiguration=function(t){this.deleteAllConfigs(),r.a.set(this.getConfigurationStorageKey(),t)},t.prototype.deleteAllConfigs=function(){var t=r.a.getAllKeys(),e=new u.a({});e.expandKey=!1,t.filter(function(t){return t.startsWith(i.e.Configuration)&&!t.startsWith(i.e.DebugPanel.ConfigurationIsCustom)&&!t.startsWith(i.e.DebugPanel.ConfigCode)&&!t.startsWith(i.e.DebugPanel.SiteCode)}).forEach(function(t){r.a.delete(t,e)})},t.prototype.getCampaignData=function(){return this.getLocalConfiguration().Campaign},t.prototype.getCodeSetTemplatesData=function(){return this.getLocalConfiguration().Settings.CodeSetTemplates},t.prototype.getABTestData=function(){return this.getLocalConfiguration().ABTest},t.prototype.getConfigurationStorageKey=function(){var t=c.a.getAttribute(),e=i.e.Configuration;return t&&(e=e+"__"+t.toString().toUpperCase()),e},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(133),r=n(325),i=n(50),s=n(326),a=n(331),c=n(329),u=function(t){r.a.dispatch(i.a.LoadError,t),o.a.update();var e=s.a.get(a.a.DebugInstance);throw e&&e.showIfNeed(),new c.a(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(26),r=n(0),i=function(t){t&&(Object(r.isString)(t)?(this.IsPremium=t.toUpperCase()===o.d.Premium,this.IsPurchase=t.toUpperCase()===o.d.Purchase,this.IsUpgrade=t.toUpperCase()===o.d.Upgrade):(this.IsPremium=t.IsPremium,this.IsPurchase=t.IsPurchase,this.IsUpgrade=t.IsUpgrade))}},function(t,e,n){"use strict";var o,r;n.d(e,"a",function(){return o}),(r=o||(o={})).SessionId="ssid",r.ConversationId="cnvid",r.ConversationName="cnvn",r.MeterMethod="mlm",r.MeterLevel="ml",r.ArticleLeft="artlft",r.ConversationView="cv",r.CampaignId="cmid",r.CampaignName="cmn",r.DynamicMeterId="dmid",r.DynamicMeterName="dmn",r.ConfigCode="cnfc",r.ConfigName="cnfn",r.SiteCode="sc",r.RegistrationTypeId="rtid",r.UserId="crid",r.EncryptedUser="igmrid",r.UserState="us",r.UserEmail="em",r.IpAddress="ip",r.UserZipCodes="zc",r.UserDeviceId="did",r.DeviceType="dt",r.UserOS="os",r.Browser="brw",r.CurrentUrl="url",r.Attr="attr",r.SettingsKey="stk",r.RunReason="rrsn",r.RuleId="rid",r.RuleName="rn",r.PropertiesViews="vws",r.NextConversationName="nxtcnvn",r.ExpiredReason="rsn",r.LoginModalId="lgmdid",r.CloseEvent="clev",r.ErrorMessage="errmsg",r.EncryptedCustomerRegistrationId="igmRegId",r.NewzwareLoginId="NzwLid",r.AuthSystem="as",r.ActionId="actid",r.ActionName="actn",r.ActionTypeId="actt",r.UserDefinedData="usdfdt",r.UserDefinedDataAttr="udfat",r.ButtonHtml="btnhtml",r.AdblockFound="dtctd",r.loadTimePlugin="lpt",r.TypeView="tvw",r.LoadError="lerrm",r.ResetOnDay="rstd",r.ResetFrequency="rstf",r.GABlocked="ga",r.GTMBlocked="gtm",r.G2insights="g2i",r.ArticleCountReset="acr",r.FprintRegenStats="fprs",r.Incognito="incg",r.Version="ver",r.LocalDateTime="ldt",r.ConfigSettingsPublishDate="cfgsetspd",r.PublishSettings="pubsets",r.DateStarted="ds",r.ExpirationDate="expd",r.OldDeviceId="aui",r.RecalculatedDeviceId="auiRecalc",r.AccessDeniedReason="adrsn",r.AccessStartDate="acssd",r.AccessEndDate="acsed",r.FlowStopped="flwstp",r.HasSubscriptions="sub"},function(t,e,n){"use strict";var o={};n.r(o),n.d(o,"EmailRule",function(){return v}),n.d(o,"EqualsRule",function(){return _}),n.d(o,"MaxLengthRule",function(){return C}),n.d(o,"PasswordRule",function(){return A}),n.d(o,"PatternRule",function(){return S}),n.d(o,"RequiredRule",function(){return E}),n.d(o,"PhonepartRule",function(){return D});var r,i,s,a,c,u,p,l=n(11),f=n(0),h=function(){function t(t,e){this.element=t,this.messages=e}return t.prototype.checkMarginBottom=function(){this.marginBottom=l.a.css(this.element,"margin-bottom"),5<parseInt(this.marginBottom)&&l.a.css(this.element,{"margin-bottom":"5px"})},t.prototype.show=function(){var o=this;this.checkMarginBottom(),this.errorContainer=document.createElement("div"),this.errorContainer.className="input-error",Object(f.each)(this.messages,function(t){var e=document.createElement("p"),n=document.createTextNode(t);e.appendChild(n),o.errorContainer.appendChild(e)}),this.element.parentNode.appendChild(this.errorContainer)},t.prototype.hide=function(){this.errorContainer.remove(),this.repairMarginButton()},t.prototype.repairMarginButton=function(){l.a.css(this.element,{"margin-bottom":this.marginBottom})},t}(),d=n(9),g=function(){function t(t,e,n){this.errorMessage="",this.formSelector=e,this.errorFieldName=this.splitCamelCaseToString(t),this.partField=n}return t.prototype.check=function(t){return!0},t.prototype.validateInput=function(t,e){this.result=this.check(e)},t.prototype.validateRule=function(t,e){this.result=this.check(e)},t.prototype.getValidateResult=function(){var t={isValid:this.result,errorMessage:null};return this.result||(t.errorMessage=this.errorMessage),t},t.prototype.splitCamelCaseToString=function(t){return t.split(/(?=[A-Z])/).join(" ")},t}(),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+" must be a valid email address.",n}return y(t,o),t.prototype.check=function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},t}(g),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setErrorMessage=function(t,e){this.errorMessage="The "+t+" does not match the confirm "+e},e.prototype.validate=function(t,e){this.setErrorMessage(this.errorFieldName,e);var n=l.a.queryElement(this.formSelector),o=l.a.val(l.a.find('[data-nxt-input="'+e+'"]',n));this.result=o==t},e.prototype.validateInput=function(t,e){this.validate(e,l.a.attr(t,"data-nxt-input-match"))},e.prototype.validateRule=function(t,e){this.validate(e,t.matchField)},e}(g),b=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.setErrorMessage=function(t,e){this.errorMessage="The "+t+"may not be greater than "+e},e.prototype.validate=function(t,e){this.setErrorMessage(this.errorFieldName,t),this.result=e.length<=t},e.prototype.validateInput=function(t,e){this.validate(e,l.a.attr(t,"maxlength"))},e.prototype.validateRule=function(t,e){this.validate(e,t.maxlength)},e}(g),w=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.errorMessage="Password rules are at least 1 character and 1 number and seven characters long",t}return w(t,e),t.prototype.check=function(t){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{7,}$/.test(t)},t}(g),I=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+" does not matche by pattern.",n}return I(t,o),t.prototype.validate=function(t,e){this.result=t.test(e)},t.prototype.validateInput=function(t,e){this.validate(l.a.attr(t,"pattern"),e)},t.prototype.validateRule=function(t,e){this.validate(t.pattern,e)},t}(g),O=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+"  is required.",n}return O(t,o),t.prototype.check=function(t){return!!t},t}(g),P=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.getLengthPart=function(t){switch(+t){case 1:case 2:return 3;case 3:return 4}},e.prototype.setErrorMessage=function(t,e){this.errorMessage="The "+t+" part "+e+" should be "+this.getLengthPart(e)+" digits."},e.prototype.check=function(t){return this.setErrorMessage(this.errorFieldName,this.partField),this.validateFormPart(t,this.getLengthPart(this.partField))},e.prototype.validateFormPart=function(t,e){return!(!t||t.length!=e||!/^\d+$/.test(t))},e}(g),x=function(){function t(t,e,n,o){this.name=t,this.formSelector=n,this.input=e,this.partField=o}return t.prototype.validate=function(){var t=l.a.val(this.input),e=[];return e=this.ruleParams?this.validateRules(t,this.ruleParams):this.validateInput(t),this.applyValidation(e)},t.prototype.validateInput=function(n){var o=this,t=l.a.attr(this.input,"data-nxt-rule");if(t){var e=new String(t).split(","),r=[];return Object(f.each)(e,function(t){var e=o.getRuleType(t);e.validateInput(o.input,n),r.push(e.getValidateResult())}),r}},t.prototype.validateRules=function(n,t){var o=this,r=[];return Object(f.each)(t,function(t){var e=o.getRuleType(t.name);e.validateRule(t.params,n),r.push(e.getValidateResult())}),r},t.prototype.getRuleType=function(t){return new(o[this.getRuleName(t)])(this.name,this.formSelector,this.partField)},t.prototype.setRules=function(t){this.ruleParams=t},t.prototype.applyValidation=function(t){return this.removeValidateErrors(),this.isEachRuleValid(t)?(this.showSuccessResultForInput(),!0):(this.showFailResultForInput(t),!1)},t.prototype.getRuleName=function(t){return Object(d.B)(t)+"Rule"},t.prototype.isEachRuleValid=function(t){return Object(f.every)(t,function(t){return 1==t.isValid})},t.prototype.showSuccessResultForInput=function(){this.removeValidateErrors()},t.prototype.showFailResultForInput=function(t){var e=Object(f.filter)(t,function(t){return 0==t.isValid}),n=[];Object(f.each)(e,function(t){n.push(t.errorMessage)}),l.a.addClass(this.input,"has-error"),this.errorMessage=new h(this.input,n),this.errorMessage.show()},t.prototype.removeValidateErrors=function(){l.a.removeClass(this.input,"has-error")},t.prototype.resetErrors=function(){this.removeValidateErrors(),this.errorMessage&&this.errorMessage.hide()},t.prototype.getErrorMessage=function(){return this.errorMessage?this.errorMessage.messages.join(" "):""},t}();n.d(e,"a",function(){return B});var B=function(){function t(t,e){this.inputAttrs=["data-nxt-input","data-mg2-input"],this.fields=[],this.errors=[],this.selector=t,this.rules=e,this.setElement(),this.setInputs()}return t.prototype.setInputAttrName=function(t){this.inputAttrs=t,this.setInputs()},t.prototype.setRules=function(t){this.rules=t},t.prototype.findByDataAttr=function(e){var t=Object(f.map)(this.inputAttrs,function(t){return"["+t+'="'+Object(d.B)(e)+'"]'}).join(", ");return l.a.find(t,this.element)},t.prototype.autocompleteInput=function(t,e){var n=this.findByDataAttr(t);n.length&&l.a.val(n,e)},t.prototype.autocomplete=function(e){var n=this;Object(f.each)(Object(f.keys)(e),function(t){n.autocompleteInput(t,e[t])})},t.prototype.setElement=function(){this.element=l.a.queryElement(this.selector)},t.prototype.setInputs=function(){var e=this,t=Object(f.map)(this.inputAttrs,function(t){return"["+t+"]:visible"}).join(", ");this.inputs=l.a.find(t,this.element),l.a.on(this.inputs,"change",function(t){e.validateField(t.currentTarget)})},t.prototype.getField=function(e){var t,n=Object(f.find)(Object(f.map)(this.inputAttrs,function(t){return l.a.attr(e,t)}),function(t){return!!t}),o=Object(f.find)(this.rules,function(t){return t.field==n});o&&(t=o.rules);var r=l.a.attr(e,"data-part");return r?this.setPartsField(n,r,e,t):this.setField(n,e,t)},t.prototype.setPartsField=function(t,e,n,o){var r;return this.fields[t+"_"+e]?r=this.fields[t+"_"+e]:((r=new x(t,n,this.selector,e)).setRules(o),this.fields[t+"_"+e]=r),r},t.prototype.setField=function(t,e,n){var o;return this.fields[t]?o=this.fields[t]:((o=new x(t,e,this.selector)).setRules(n),this.fields[t]=o),o},t.prototype.validateField=function(t){var e=this.getField(t);e.resetErrors(),this.hideServerErrors();var n=e.validate();return n||this.errors.push(e.getErrorMessage()),n},t.prototype.validate=function(){var e=this;this.hideErrors();var n=[];return this.inputs&&this.inputs.length||this.setInputs(),Object(f.each)(this.inputs,function(t){n.push(e.validateField(t))}),Object(f.every)(n,function(t){return 1==t})},t.prototype.getErrors=function(){return this.errors},t.prototype.resetErrors=function(){this.errors=[]},t.prototype.getInputsData=function(){var r=this,i={};return this.inputs&&this.inputs.length||this.setInputs(),Object(f.each)(this.inputs,function(e){var t=Object(f.find)(Object(f.map)(r.inputAttrs,function(t){return l.a.attr(e,t)}),function(t){return!!t}),n=l.a.val(e),o=l.a.attr(e,"data-part");i[t]=o&&i[t]?i[t]+n:n}),i},t.prototype.hideErrors=function(){this.clearInputErrors(),this.hideServerErrors()},t.prototype.clear=function(){Object(f.each)(this.inputs,function(t){t.value=""}),this.hideErrors()},t.prototype.clearInputErrors=function(){var e=this;Object(f.each)(Object(f.keys)(this.fields),function(t){e.fields[t].resetErrors()})},t.prototype.showServerErrors=function(t){var e=l.a.find("[data-nxt-form-error]",this.element);l.a.text(e,t),l.a.show(e)},t.prototype.hideServerErrors=function(){var t=l.a.find("[data-nxt-form-error]",this.element);l.a.text(t,""),l.a.hide(t)},t.prototype.showSuccessMessage=function(t){var e=l.a.find("[data-nxt-form-success]",this.element);t&&l.a.text(e,t),l.a.show(e)},t.prototype.hideSuccessMessage=function(){var t=l.a.find("[data-nxt-form-success]",this.element);l.a.hide(t)},t}()},function(t,e,n){"use strict";var s=n(0),o=function(){function t(){}return t.prototype.trackEvent=function(t,e){},t.prototype.setAuthenticatedUserContext=function(){},t.prototype.create=function(){},t.prototype.getFinishData=function(){},t}(),a=n(7),c=n(44),u=n(74),r=n(338),p=n(133),l=n(326),f=n(331),i=n(137),h=n(345),d=n(9),g=function(){function t(t){var e;try{e=JSON.parse(t)}catch(t){i.a.error("JSON.parse",t),e=null}e&&(this.execStatus=e.execStatus,this.generatedId=e.generatedId,this.errorDetail=e.errorDetail,this.doNotTrack=e.doNotTrack,this.cookieEnabled=e.cookieEnabled,this.timeElapsed=e.timeElapsed)}return t.prototype.serializeForAnalytics=function(){return JSON.stringify({s:this.execStatus,fpId:this.generatedId,err:this.errorDetail,dnt:this.doNotTrack,ce:this.cookieEnabled,te:this.timeElapsed})},t}(),y=n(13),v=n(56);n.d(e,"a",function(){return b});var m,_=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(o){function t(){var t=o.call(this)||this;t.maxChunkSize=8192,t.maxChunksInTraceMessage=3;var e=l.a.get(f.a.DeviceId),n=a.a.getUserId();try{i.a.log("Initializing AppInsights Module..."),t.appInsightsService=function(t){function e(e){c[e]=function(){var t=arguments;c.queue=c.queue||[],c.queue.push(function(){c[e].apply(c,t),c.context})}}var s,a,c={config:t,cookie:"",queue:[],version:"",context:{},trackPageView:function(){},setAuthenticatedUserContext:function(t,e){}},n=document,o=window,r="AuthenticatedUserContext",i="TrackEvent",u=n.createElement("script");u.src=t.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",n.getElementsByTagName("script")[0].parentNode.appendChild(u);try{c.cookie=n.cookie}catch(t){}for(c.queue=[],c.version="1.0",s=["Event","Exception","Metric","PageView","Trace","Dependency"];s.length;)e("track"+s.pop());return e("set"+r),e("clear"+r),e("start"+i),e("stop"+i),e("startTrackPage"),e("stopTrackPage"),e("flush"),t.disableExceptionTracking||(e("_"+(s="onerror")),a=o[s],o[s]=function(t,e,n,o,r){var i=a&&a(t,e,n,o,r);return!0!==i&&c["_"+s](t,e,n,o,r),i}),c}({instrumentationKey:c.a.get(f.a.AppInsightsKey),disableExceptionTracking:!0,appUserId:e,accountId:n,url:""}),window.appInsights=t.appInsightsService,t.appInsightsService.queue||(t.appInsightsService.queue=[]),t.appInsightsService.queue.push(function(){t.appInsightsService.context.addTelemetryInitializer(function(t){var e=t.data.baseData;if("RemoteDependencyData"===t.data.baseType)return-1!==e.data.indexOf("connext")||-1!==e.target.indexOf("auth0")})}),t.appInsightsService.setAuthenticatedUserContext(e,n),t.appInsightsService.trackPageView()}catch(t){i.a.error("Error of app insights initialization")}return t}return _(t,o),t.getInstance=function(){return null===this._self&&(this._self=new t),this._self},t.prototype.setUserContext=function(){var t=l.a.get(f.a.DeviceId),e=a.a.getUserId();this.appInsightsService.config=Object(s.extend)(this.appInsightsService.config,{appUserId:t,accountId:e}),this.appInsightsService.setAuthenticatedUserContext(t,e)},t.prototype.trackEvent=function(t,e){if(this.appInsightsService)try{var n=Object(s.extend)(this.baseData(),e);i.a.log("App Insights Event: "+t,n),this.appInsightsService.trackEvent(t,n)}catch(t){i.a.error("Error in AppInsights.trackEvent: "+t.message)}else i.a.error("AppInsights is not initialized!")},t.prototype.baseData=function(){var t=u.a.getConfigurationSettings(),e=u.a.getConfiguration(),n={};return n[h.a.SessionId]=c.a.getSessionId(),n[h.a.ConfigCode]=e?e.Code:null,n[h.a.SiteCode]=t?t.Site.Code:"",n[h.a.SettingsKey]=c.a.getSettingsKey(),n},t.prototype.getFinishData=function(){var i=u.a.getConfiguration();return r.a.loadCampaign().then(function(t){var n={},e=null;t&&(e=t.getCurrentConversation())&&(n[h.a.ConversationId]=e.Id,n[h.a.ConversationName]=e.Name,Object(s.has)(e,"Properties")&&(n[h.a.ArticleLeft]=e.Properties.ArticleLeft,n[h.a.PropertiesViews]=e.Properties.Views));Date.now(),c.a.getStartLoadPlugin();c.a.deleteStartLoadPlugin(),i&&(n[h.a.ConfigCode]=i.Code,n[h.a.ConfigName]=i.Name,Object(s.has)(i,"Campaign")&&(n[h.a.CampaignId]=i.Campaign.Id,n[h.a.CampaignName]=i.Campaign.Name),Object(s.has)(i,"DynamicMeter")&&(n[h.a.DynamicMeterId]=i.DynamicMeter.Id,n[h.a.DynamicMeterName]=i.DynamicMeter.Name),Object(s.has)(i,"Settings")&&Object(s.has)(i,"Site")&&(n[h.a.SiteCode]=i.Settings.Site.Code));var o=l.a.get(f.a.Meter);o&&(n[h.a.MeterMethod]=o.Method,n[h.a.MeterLevel]=o.Level);var r=l.a.get(f.a.OldNewDeviceId);return r&&(n[h.a.OldDeviceId]=r.id,n[h.a.RecalculatedDeviceId]=r.newId),n[h.a.UserId]=a.a.getUserId(),n[h.a.EncryptedUser]=a.a.getUserId(),n[h.a.UserState]=a.a.getUserState(),n[h.a.UserEmail]=a.a.getEmail(),n[h.a.IpAddress]=p.a.getIP(),n[h.a.UserZipCodes]=a.a.getUserZipCodes(),n[h.a.UserDeviceId]=l.a.get(f.a.DeviceId),n[h.a.DeviceType]=y.a.getDeviceType(),n[h.a.UserOS]=y.a.getOS(),n[h.a.Browser]=y.a.getBrowser(),n[h.a.CurrentUrl]=Object(d.j)(),n[h.a.Attr]=c.a.get(f.a.Attr),n[h.a.SettingsKey]=c.a.getSettingsKey(),n[h.a.ConfigSettingsPublishDate]=u.a.getPublishDate(),n[h.a.PublishSettings]=JSON.stringify(u.a.getPublishSettings()),n[h.a.FlowStopped]=v.a.IsAccessGranted(),n[h.a.HasSubscriptions]=null!=a.a.getSubscriptions()&&0<a.a.getSubscriptions().length,p.a.isIncognitoBrowsing().then(function(t){if(n[h.a.Incognito]=t,y.a.isMobile()||void 0===window.Fingerprint||"function"!=typeof window.Fingerprint.getStatsReport)return n[h.a.FprintRegenStats]=null,n;var e=new Promise(function(t){setTimeout(function(){t(!1)},5e3)});return Promise.race([window.Fingerprint.getStatsReport(),e]).then(function(t){return n[h.a.FprintRegenStats]=t?new g(JSON.stringify(t)).serializeForAnalytics():null,n})})})},t.prototype.trace=function(t,e,n){var o=this.splitDataIntoChunks(n);o.sessionMeta=e?JSON.stringify(e):null,this.appInsightsService.trackTrace(t,o)},t.prototype.splitDataIntoChunks=function(t){for(var e=[],n=0,o=0,r=0;r<this.maxChunksInTraceMessage&&o<t.length;){for(n=0,e["chunk_"+r]=[];o<t.length&&n+t[o].length<this.maxChunkSize;)n+=t[o].length+1,e["chunk_"+r].push(t[o++]);r++}return e},t._self=null,t}(o)},function(t,e,n){"use strict";var o=n(0),r=n(11),i="data:image/gif;base64, R0lGODlhEAALAPQAAP///wAAANra2tDQ0Orq6gYGBgAAAC4uLoKCgmBgYLq6uiIiIkpKSoqKimRkZL6+viYmJgQEBE5OTubm5tjY2PT09Dg4ONzc3PLy8ra2tqCgoMrKyu7u7gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA";n.d(e,"a",function(){return s});var s=function(){function t(t,e){Object(o.isArray)(t)?this.element=Object(o.first)(t):this.element=t;var n={location:"in",img:'<img src="'+i+'" style="margin: 7px 7px; width: 16px; height:11px" />',loaderId:"loader"};this.settings=Object(o.extend)(n,e),this.imgFragment=r.a.create(this.settings.img),r.a.attr(this.imgFragment,{id:this.settings.loaderId})}return t.prototype.on=function(){try{var t=r.a.children(this.element,"span");t.length?this.currentElement=t:this.currentElement=this.element,this.text=r.a.html(this.currentElement),r.a.addClass(this.element,"disabled"),"in"==this.settings.location&&r.a.append(this.currentElement,this.imgFragment)}catch(t){}},t.prototype.off=function(){try{r.a.removeClass(this.element,"disabled"),r.a.html(this.currentElement,this.text)}catch(t){}},t}()},function(t,e,n){"use strict";var r,o,i,s=n(325),a=n(50),c=n(65),u=n(44),p=n(137),l=n(25),f=n(326),h=n(331),d=n(9),g=n(347),y=n(2),v=n(17),m=n(39);o=r||(r={}),i=new m.a({expandKey:!1,isSecureValue:!1}),o.setDebugTraceExpirationDate=function(t){v.a.set(y.e.DebugTraceExpirationDate,t,i)},o.getDebugTraceExpirationDate=function(){return v.a.get(y.e.DebugTraceExpirationDate,i)},o.removeDebugTraceExpirationDate=function(){v.a.delete(y.e.DebugTraceExpirationDate,i)};var _=n(13);n.d(e,"a",function(){return b});var b=new(function(){function t(){}return t.prototype.init=function(){this.initEventListeners()},t.prototype.initEventListeners=function(){this.listenFinish(),this.listenGenericAppError(),this.listenApplicationCrash()},t.prototype.listenFinish=function(){var t=this;s.a.subscribe(a.a.Finish,function(){t.sendTrace(c.a.Debug,p.a.getLogHistory())},!0)},t.prototype.listenGenericAppError=function(){var n=this;s.a.subscribe(a.a.GenericError,function(t){n.cleanupDebugExpirationDate();var e=t&&t.EventData?t.EventData:t;n.sendTrace(c.a.Error,["object"==typeof e?JSON.stringify(e):""+e])},!0)},t.prototype.listenApplicationCrash=function(){var n=this;s.a.subscribe(a.a.LoadError,function(t){n.cleanupDebugExpirationDate();var e=t&&t.EventData?t.EventData:t;n.sendTrace(c.a.Fatal,["object"==typeof e?JSON.stringify(e):""+e].concat(p.a.getLogHistory()))},!0)},t.prototype.sendTrace=function(t,e){this.shouldTrace(t.Level)&&g.a.getInstance().trace(t.Name,this.createSesionMeta(),e)},t.prototype.createSesionMeta=function(){return{ssid:u.a.getSessionId(),ct:""+l.a.get(),br:_.a.getBrowser(),dt:_.a.getDeviceType(),os:_.a.getOS(),uid:f.a.get(h.a.DeviceId),v:Object(d.r)(),sc:u.a.getSiteCode(),cc:u.a.getConfigCode(),pd:u.a.getPublishDate()}},t.prototype.shouldTrace=function(t){if(t>=u.a.getTraceLevel()){if(t===c.a.Debug.Level){var e=u.a.getDebugTraceExpirationSettings(),n=l.a.get();if(e.ConfigCode&&e.ConfigCode.toLowerCase()!==u.a.getConfigCode().toLowerCase())return!1;if(e.Duration){var o=r.getDebugTraceExpirationDate();if(o){if(n>new Date(o))return!1}else r.setDebugTraceExpirationDate(Date.now()+6e4*e.Duration)}if(e.StopAfter&&n>new Date(e.StopAfter))return!1}return!0}return!1},t.prototype.cleanupDebugExpirationDate=function(){u.a.getTraceLevel()>c.a.Debug.Level&&r.removeDebugTraceExpirationDate()},t}())},function(t,e,n){"use strict";var u=n(326),p=n(331),a=n(50),l=n(137),o=n(333),c=n(325),f=n(9),h=n(334),d=n(2),r=function(){},i=n(43),s=n.n(i),g=n(217),y=n.n(g),v=n(238),m=n.n(v),_=n(0),b=n(17),C=n(44);n.d(e,"a",function(){return A});var w=function(t){var e=s.a.stringify(t);return e=(e=(e=e.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")},A=new(function(){function t(){this.http=new o.a,this.JWT_TOKEN=this.generateJWTToken()}return t.prototype.get=function(t,e,n){return this.call("get",t,e,n)},t.prototype.post=function(t,e,n){return this.call("post",t,e,n)},t.prototype.call=function(n,o,r,i){var s=this;void 0===i&&(i={});var t=i.externalCall?{}:this.shapeHeaders(i);i.headers=Object(_.extend)(t,i.headers);var e=u.a.get(p.a.AppOptions);return this.API_PATH=e.get(p.a.ApiUrl)+"api/",this.http[n](this.API_PATH+o,r,i).catch(function(t){c.a.dispatch(a.a.LoadError,JSON.stringify(t));var e=s.mapErrorResponse(t);return"The token is expired"===e.ErrorMessage?(s.JWT_TOKEN=s.generateJWTToken(),i.headers.Authorization=s.JWT_TOKEN,s.http[n](s.API_PATH+o,r,i).catch(function(t){var e=s.mapErrorResponse(t);return Promise.reject(e)})):Promise.reject(e)})},t.prototype.shapeHeaders=function(t){var e=u.a.get(p.a.AppOptions),n=!1;try{n=!!JSON.parse(b.a.get(d.e.AutoQA,{isSecureValue:!1,expandKey:!1}))}catch(t){}var o={"Site-Code":e.get(p.a.SiteCode),"Config-Code":e.get(p.a.ConfigCode),"Access-Control-Allow-Origin":"*",Environment:e.get(p.a.Environment),settingsKey:e.get(p.a.SettingsKey),Version:Object(f.q)(),"Source-System":"Plugin",Authorization:this.JWT_TOKEN,Location:t.location,AutoQA:n,SSID:C.a.getSessionId()},r=e.get(p.a.Attr);r&&(o.attr=r);var i=e.get(p.a.ProductCode);i&&(o["Product-Code"]=i);var s=e.get(p.a.PaperCode);s&&(o["Paper-Code"]=s);var a=u.a.get(p.a.G2IUserData);if(a){var c=JSON.stringify(a);1024<c.length&&l.a.warn("X-G2IData length",c.length),o["X-G2IData"]=c}return o},t.prototype.generateJWTToken=function(){var t,e={unique_name:"ConneXt",exp:Math.round(h.a.get().valueOf()/1e3)+72e6},n=y.a.parse(JSON.stringify({alg:"HS256",typ:"JWT"})),o=y.a.parse(JSON.stringify(e)),r=w(n),i=w(o),s=r+"."+i;return t=m()(s,"db3OIsj+BXE9NZDy0t8W3TcNekrF+2d/1sFnWG4HnV8TZY30iTOdtVWJG8abWvB1GlOgJuQZdcF2Luqm/hccMw=="),"Bearer "+r+"."+i+"."+(s=w(t))},t.prototype.mapErrorResponse=function(t){var e,n=new r,o=Object(_.isString)(t)?t:t.Message;n.ErrorMessage=d.c,n.ErrorCode="";try{e=JSON.parse(o)}catch(t){return n}return e&&e.Errors?(Object(_.isArray)(e.Errors)&&(n.ErrorMessage="",e.Errors.forEach(function(t){Object(_.isString)(t)?n.ErrorMessage+=t+" ":n.ErrorMessage+=t.Message+" "})),n.ErrorCode=e.ErrorCode||t.ErrorCode||""):n.ErrorMessage=e.Message||n.ErrorMessage,n},t}())}]);